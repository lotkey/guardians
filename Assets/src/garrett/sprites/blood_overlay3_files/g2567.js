!function(a){var c=function(t,k,h,q){var n=0,r=0,j=h.length,o,f,e=false,g=false,p;for(;n<j;n++){o=h[n],f=null;p=false;if(o.required){f=DDG.getProperty(t,o.required);if(f){if(f.length&&f.length>0){e=true;continue}if(f===0||!!f){e=true;continue}}return false}if(!o.key){return false}f=DDG.getProperty(t,o.key);g=true;if(f){if(o.match){var m=f.match(o.match);p=!!m;if(p&&o.strict){var s=DDG.get_query().match(o.match);p=(m[0].toLowerCase()==s[0].toLowerCase())}if(!p){return false}}else{if($.isArray(f)){f=f.join(" ")}p=DDG.isRelevant(f,o.skip_words||k.skip_words,o.min_length,!!o.strict)}}else{p=false}if(p){r++}else{if(!q){return false}}}if(r===0){if(e&&!g){return true}return false}return true};var b=function(f,e){var g,h=e[e.type||"primary"];if(!h){return true}g=c(f,e,h,true);return g};a.DDH={spice_tabs:{},spice_objects:{},add:function(f){if(!f.id){return}if(!f.data){return}if(f.require){var g=f.require;delete f.require;DDG.require(g,a.DDH.add.bind(a.DDH,f));return}if(!f.allowMultipleCalls&&this.spice_objects[f.id]){return null}if(a.DDH[f.id]&&a.DDH[f.id].build&&$.isFunction(a.DDH[f.id].build)){var e=a.DDH[f.id].build(f);if(e===false||($.type(e)==="object"&&$.isEmptyObject(e))){return}else{$.extend(f,e)}}if(a.DDH[f.id]&&a.DDH[f.id].build_async&&$.isFunction(a.DDH[f.id].build_async)){a.DDH[f.id].build_async(f,function(j){var i=a.DDH._build_ops(j);if(i){a.DDH.spice_tabs[i.id]=DDG.duckbar.add(i)}})}else{var h=a.DDH._build_ops(f);if(h){a.DDH.spice_tabs[h.id]=DDG.duckbar.add(h)}}},_build_ops:function(f){f.templates=f.templates||{};f.meta=f.meta||{};if(a.DDH[f.id]&&a.DDH[f.id].meta){f.meta=$.extend(a.DDH[f.id].meta,f.meta)}if(f.meta.tab){f.name=f.meta.tab}var g=f.normalize||null,j=$.isArray(f.data),h,t=[],u,s=f.relevancy,e=DDG.get_query(),r=[],o=[];if(j){if(s){f.meta.idField=s.dup}for(var m=0,k=f.data.length;m<k;m++){var v=f.data[m];if(s&&!b(v,s)){continue}if(g){u=g(v);if(u){h=$.extend({},v,u)}else{continue}}else{h=v}if(h.exactMatch){o.push(h)}else{if(h.boost){r.push(h)}else{t.push(h)}}}if(r.length>0){for(m=0;m<r.length;m++){t.unshift(r[m])}}if(o.length>0){for(m=0;m<o.length;m++){t.unshift(o[m])}}if(t.length<1){DDG.duckbar.failed(f.id);return}f.data=t;if(t.length>1&&f.sort_fields&&f.sort_default){var p=null;if(typeof f.sort_default==="string"){p=f.sort_default}else{if(s&&s.type){p=f.sort_default[s.type]}}if(p&&p.length>0){f.data.sort(DDG.getProperty(f.sort_fields,p))}else{}}}else{if(s){if(!b(f.data,s)){DDG.duckbar.failed(f.id);return}}if(g){u=g(f.data);if(u){f.data=$.extend({},f.data,u)}else{DDG.duckbar.failed(f.id);return}}}if(f.id==="cheat_sheets"){f.meta.id=f.from}else{f.meta.id=f.id}a.DDH.spice_objects[f.id]=a.DDH.spice_objects[f.id]||{};return f},failed:function(e){return DDG.duckbar.failed(e)},getDOM:function(g){var f=this.spice_tabs[g],e=f&&f.view&&f.view.$el;return e||$()},selectNextItem:function(f){var e=this.spice_tabs[f];return e&&e.view&&e.view.selectNextItem&&e.view.selectNextItem()},registerHelper:function(f,e){Handlebars.registerHelper(f,e)}};a.Spice=a.DDH;a.DDH.sharedir_map=this.spice_paths?$.parseJSON(spice_paths):{}}(window);Spice.names=["airlines","alternative_to","amazon","astrobin_apod","aur","bible","brainy_quote","caniuse_lists","code_search","coupons","cryptocurrency","currency","cve_summary","detect_lang","dictionary_definition","dns","dogo_books","dogo_movies","dogo_news","duck_say","economic_indicators","emojipedia","etsy","expand_url","first_robotics_team_info","flash_version","flights_route","forecast","git_book_status","github","github_status","glassdoor","gravatar","grunt","gulp","hacker_news","haxelib","hayoo","hex","holiday","images","is_it_up","islamic_prayer_times","keybase","launchbug","launchpad_project","magic_the_gathering","maps_maps","maps_places","maven","meta_cpan","metar","minecraft_status","near_earth_objects","newint","news","npm","nutrition","nxt_account","octopart","open_nic","package_tracking","packagist","people_in_space","playing_cards","plos","product_hunt","public_holidays","pwned","quandl_fundamentals","quote_of_the_day","rain","rand_pos","rand_word","recipes","rfc","rhymes","ruby_gems","rust_cargo","shorten","skyscanner_flight_search","sports","sports_mlb_games","sports_nfl_games","statista","stocks","sun_rise_set","symbolab","syntax","tfl_status","thesaurus","tides","time","tor_node","transit_septa","travis_status","tvmaze_previousepisode","twitch_featured","twitter","videos","whois","word_of_the_day","xkcd_display","yacht_specs","yoga_asanas"];(function(a){var e=function(i){var h=null,g=0;var f=function(j){if(j){h=j}var k=window["ddg_spice_"+i];if(k===f){if(++g<50){window.setTimeout(k,19)}else{}}else{if(h){k(h)}else{}}};return f};var c;for(var b=0;b<Spice.names.length;b++){c=Spice.names[b];if(c){a["ddg_spice_"+c]=e(c)}}})(window);DDG.Data.SearchExperiments=[{allocation:1,groups:["b"],parameter:"cdrexp",description:"Custom Date Range",services:["deep"],filter:function(){return DDG.getProperty(DDG,"device.isEnglish")}},{allocation:1,groups:["b"],parameter:"biaexp",description:"Limit Bing IA slotting for navigational queries",services:["deep"],postEnrollment:function(){if(!DDG.history.get("biaexp")){var a=Math.random();if(a<0.475){DDG.searchExperiments.biaexp.setGroup("a")}else{if(a<0.95){DDG.searchExperiments.biaexp.setGroup("b")}else{DDG.searchExperiments.biaexp.setGroup("c")}}}}},{allocation:1,groups:["b"],parameter:"msvrtexp",description:"Bing bridge",services:["deep"],filter:function(){if(!DDG.device||DDG.device.isOnion||!DDG.device.hostRegion){return false}var c=Math.random(),e=["brs"],a=["eun","euw"],b=["use","usc","usw"];groupApac=["ase","aue","inw"];if(e.indexOf(DDG.device.hostRegion)!==-1){return true}else{if(a.indexOf(DDG.device.hostRegion)!==-1){if(c<=1){return true}}else{if(b.indexOf(DDG.device.hostRegion)!==-1){if(c<=1){return true}}else{if(groupApac.indexOf(DDG.device.hostRegion)!==-1){if(c<=1){return true}}}}}return false}},{allocation:1,groups:["b"],parameter:"ama5exp",description:"Amazon PA-API v5 engagement/conversion measurement",services:["products"],filter:function(){return(window.ct=="US"||window.ct=="DE")}},{allocation:0,groups:["a","b","e"],parameter:"rspexp2",description:"Revisit SERP Spelling Message",services:["deep"]},{allocation:0.2,groups:["a","b"],parameter:"pulmobexp",description:"Show new UX for precise user location on mobile",services:["local"],filter:function(){return DDG.device.isEnglish&&DDG.device.isMobile&&DDG.device.isAndroid&&DDG.device.isChrome&&!DDG.search.isNavigational}},{allocation:0.05,groups:["a"],parameter:"videxp",description:"Exclude 5% of requests from video exclusion logic, so that we have a data set to use when retraining the video engagement prediction model",services:["deep"]},{allocation:0.2,groups:["a","b"],parameter:"lrsexp",description:"Sort local results by tripadvisor ratings",services:["local"]},{allocation:0.3,groups:["a","b","c"],parameter:"nadca",description:"New Ad Extension: Creative Annotation",services:["deep"]},{allocation:0.1,groups:["a","b"],parameter:"mliexp",description:"Test 5% of m.js to links.duckduckgo.com",services:["deep","products"]}];!function(e){var c=e.Models.Base,a={deep:["d.js","t.js"],local:["local.js","spice/maps/places","spice/maps/maps"],news:["news.js","spice/news"],images:["i.js","spice/images"],videos:["v.js","spice/videos"],products:["m.js","spice/amazon"],embed:["f.js"]},b=/^\/?((?:d|t|local|news|i|v|m|f).js)|\/js\/(spice\/.*)\//,f="sexp";e.Models.SearchExperiments=function(g){c.call(this,g);var h=DDG.backData.getData()[f]||{};this.experiments=DDG.Data.SearchExperiments.map(function(j){var i=new e.Models.SearchExperiment($.extend({backButtonGroup:h[j.parameter]},j));this[i.parameter]=i;return i}.bind(this))};e.Models.SearchExperiments.prototype=$.extend({},c.prototype,{assign:function(h){var g=this[h];if(e.backData.getId()||!g||!g.isManuallyAssigned()){return}if(g.rollDice()){this._clearCache();return g.activeGroup}},getExperimentGroup:function(g){return this[g]&&this[g].activeGroup},addExperimentParameters:function(j){var m=j.match(b),k=m&&(m[1]||m[2]);if(!k){return j}var g=this._getServiceForURLFragment(k),o=g&&this._getExperimentsForService(g),i=!!e.backData.getId(),h=[];if(!o){return j}o.forEach(function(p){if(!i&&p.rollDice()){this._clearCache()}if(p.active){h.push(p.urlParam)}}.bind(this));if(h.length){var n=j.indexOf("?")==-1?"?":"&";j+=n+h.join("&")}return j},getPixelParameters:function(){if(typeof this._pixelParams!=="undefined"){return this._pixelParams}return this._pixelParams=this._getActiveExperiments().map(function(g){return g.urlParam}).join("&")},getBackButtonData:function(){var g={};this._getActiveExperiments().forEach(function(h){g[h.parameter]=h.activeGroup});return g},hasActiveExperiments:function(){return !!this._getActiveExperiments().length},_getActiveExperiments:function(){if(this._activeExperiments){return this._activeExperiments}return this._activeExperiments=this.experiments.filter(function(g){return g.active})},_getExperimentsForService:function(g){if(!this._experimentsForService){this._experimentsForService={};this.experiments.forEach(function(h){if(!h.hasServices()){return}h.services.forEach(function(i){if(!this._experimentsForService[i]){this._experimentsForService[i]=[]}this._experimentsForService[i].push(h)}.bind(this))}.bind(this))}return this._experimentsForService[g]||[]},_getServiceForURLFragment:function(k){if(!this._serviceForURLFragment){this._serviceForURLFragment={};for(var g in a){var h=a[g];for(var j=0;j<h.length;j++){this._serviceForURLFragment[h[j]]=g}}}return this._serviceForURLFragment[k]},_clearCache:function(){delete this._pixelParams;delete this._activeExperiments}})}(DDG);!function(b){var a=b.Models.Base;b.Models.SearchExperiment=function(c){c=c||{};this.allocation=c.allocation;this.groups=c.groups;this.parameter=c.parameter;this.services=c.services;this.filter=c.filter;this.assignment=c.assignment||"automatic";this.postEnrollment=c.postEnrollment;this.active=false;this.activeGroup=null;this.activeFromBackButton=false;this.urlParam="";this.rolledDice=false;a.call(this,c);if(c.backButtonGroup&&this.hasValidGroup(c.backButtonGroup)){this.activeFromBackButton=true;this.setGroup(c.backButtonGroup)}if(!this.hasServices()&&!this.isManuallyAssigned()&&!b.backData.getId()){this.rollDice()}};b.Models.SearchExperiment.prototype=$.extend({},a.prototype,{isManuallyAssigned:function(){return this.assignment==="manual"},hasServices:function(){return(this.services&&this.services.length)},setGroup:function(c){if(!this.hasValidGroup(c)){return}this.active=true;this.activeGroup=c;this.urlParam=this.parameter+"="+this.activeGroup},hasValidGroup:function(c){return this.groups.indexOf(c)!==-1},canRollDice:function(){return !this.rolledDice&&!this.activeFromBackButton&&(!this.filter||this.filter())&&!b.device.isDDGTest},rollDice:function(){var j=this.canRollDice();this.rolledDice=true;if(!j){return false}var g;var i=b.history.get(this.parameter);if(i){g=i}else{var f=Math.random(),e=f<=this.allocation;if(!e){return false}var c=this.allocation/this.groups.length,h=Math.floor(f/c);g=this.groups[h]}if(g){this.setGroup(g);if(this.postEnrollment){this.postEnrollment()}return true}return false}})}(DDG);!function(b){var a=b.Models.Base,e=1000*60*60*24,c=e*2-60000;b.Models.VQD=function(g){a.call(this,g);var f=b.backData.getData();if(f&&f.timestamp){this.timestampFromBackData=true;this.timestamp=f.timestamp}};b.Models.VQD.prototype=$.extend({},a.prototype,{timestamp:new Date().getTime(),age:function(){return Math.floor((new Date().getTime()-this.timestamp)/e)},isExpired:function(){return(new Date().getTime()-this.timestamp)>c}})}(DDG);!function(b){var a=b.Models.Base,e="fbs",c=500,f=50;b.Models.Feedback=function(g){this.rating=-1;this.comment="";this.endpoint="";a.call(this,g);this.submitting=false;this.success=false;this.error=false};b.Models.Feedback.prototype=$.extend({},a.prototype,{send:function(k){var n=this._prepareTextFeedback(k),i=this.endpoint||b.services.getURL("reports");if(k&&k.type&&k.type==="images"){i=this.endpoint||b.services.getURL("imageReports");n=this._prepareImageFeedback(k)}n=$.extend({q:b.get_query(),safe:b.settings.get("kp")},n);var g=k.type||k.looking_for,m=k.rating===1?"positive":"negative",j;if(k.type==="images"){j=k.reason}else{if(k.looking_for==="ads"){j=k.ads_issue}else{j=k.category_issue}}var h=[e,m,g];if(j){h.push(j)}if(k.looking_for==="ads"&&window.rl){h.push({rl:window.rl});n.rl=window.rl||""}b.pixel.fire.apply(b.pixel,h);if(k.comment||k.looking_for_other){this._sendRequest(i,n)}else{this.set("success",true)}},_prepareImageFeedback:function(g){return $.extend({image_url:this.image,thumb_url:this.thumbnail},g||{})},_prepareTextFeedback:function(g){this.comment=this._shortenString(this.comment,c);this.looking_for_other=this._shortenString(this.looking_for_other,f);this.ads_issue_other=this._shortenString(this.ads_issue_other,f);if(b.search.userLocationExp){this.comment+=" | ulexp="+b.search.userLocationExp}return $.extend({rating:this.rating,comment:this.comment,browser:navigator.platform+" "+b.device.browserName,mobile:b.device.isMobile?1:0,atb:JSON.stringify(b.opensearch.installed),ct:window.ct||"",t:b.history.get("t")||"",upstream:b.search&&b.search.src||"",df:b.search&&b.search.dateFilterId||"",result_count:b.search&&b.search.getResultCount()||0,spell:window.dns||"",first_src:b.first_source||"",lang:b.settings.get("kad"),region:b.settings.get("kl")},g||{})},_sendRequest:function(g,h){this.set("submitting",true);this.set("success",false);this.set("error",false);$.ajax({url:g,type:"POST",data:h,success:function(){this.set("submitting",false);this.set("success",true)}.bind(this),error:function(i,j){b.pixel.fire("fbf",h);this.set("submitting",false);this.set("error",j)}.bind(this)})},_shortenString:function(h,g){if(h&&h.length>g){return h.slice(g-3)+"..."}return h}})}(DDG);!function(a){DDG.Data.FeedbackIssues={ads:[{text:lp("feedback form","Ad is malware"),val:"malware"},{text:lp("feedback form","Ad is inappropriate"),val:"inappropriate"},{text:lp("feedback form","Ad is suspicious"),val:"suspicious"},{text:lp("feedback form","Ad is irrelevant"),val:"irrelevant"},{text:lp("feedback form","Ad is annoying"),val:"annoying"}],organics:[{text:"There are not enough results",val:"notenough"},{text:"Search terms are ignored or changed",val:"termsIgnored"},{text:"The results are outdated",val:"linksOld"},{text:"There are no dates next to results",val:"missingDates"},{text:"The results are in the wrong language",val:"wrongLanguage"},{text:"The filters are not effective",val:"filters"},{text:"The results aren't relevant",val:"irrelevant"},{text:"There are inappropriate/offensive results",val:"nsfw"},{text:"Not relevant for my region",val:"region"}],filters:[{text:"I want a custom date range filter",val:"wantCustom"}],wikipedia:[{text:"These results are not relevant",val:"irrelevant"},{text:"Wrong image is shown",val:"wrongImage"},{text:"Words or numbers are missing",val:"dataMissing"},{text:"Information is outdated",val:"outdated"},{text:"These results were relevant but not helpful",val:"infoNotShown"}],about:[{text:"These results are not relevant",val:"irrelevant"},{text:"Information is outdated",val:"outdated"},{text:"Information is missing",val:"dataMissing"},{text:"There are formatting issues",val:"badFormatting"}],places_single:[{text:"These results are not relevant",val:"irrelevant"},{text:"This place is incorrect",val:"wrongPlace"},{text:"This place is too far away",val:"badProximity"},{text:"This place is closed",val:"closed"},{text:"The hours aren't listed",val:"missingHours"},{text:"The website isn't listed",val:"missingWebsite"}],places_multiple:[{text:"These results are not relevant",val:"irrelevant"},{text:"These places are too far away",val:"badProximity"},{text:"These places are incorrect",val:"wrongPlace"}],map_no_results:[{text:"These suggestions are helpful",val:"helpful"},{text:"These results were relevant but not helpful",val:"notHelfpul"},{text:"I expected several results",val:"expectedSeveral"},{text:"I expected a single result",val:"expectedSingle"}],maps:[{text:"These results are not relevant",val:"irrelevant"},{text:"The location is wrong",val:"wrongLocation"}],directions:[{text:"The directions aren't relevant",val:"irrelevant"},{text:"The routes are missing",val:"missingRoutes"},{text:"The routes are wrong",val:"wrongRoutes"},{text:"The start or end location is wrong",val:"wrongLocation"},{text:"I'd like traffic info",val:"wantTrafficInfo"},{text:"I'd like public transit",val:"wantPublicTransit"},{text:"I'd like bike routes",val:"wantBikeRoutes"}],news:[{text:"I wasn't looking for news",val:"irrelevant"},{text:"What I'm looking for isn't shown",val:"missingArticles"},{text:"Articles require a subscription to read",val:"articlesPaywalled"},{text:"I don't trust these news sources",val:"untrusted"},{text:"The filters are not effective",val:"filters"}],newsvertical:[{text:"What I'm looking for isn't shown",val:"missingArticles"},{text:"Articles require a subscription to read",val:"articlesPaywalled"},{text:"I don't trust these news sources",val:"untrusted"},{text:"The filters are not effective",val:"filters"}],videos:[{text:"I wasn't looking for videos",val:"irrelevant"},{text:"What I'm looking for isn't shown",val:"missingVideos"},{text:"The filters are not effective",val:"filters"},{text:"There are inappropriate/offensive results",val:"nsfw"},{text:"Too many results from YouTube",val:"singleSource"}],videosvertical:[{text:"What I'm looking for isn't shown",val:"missingVideos"},{text:"The filters are not effective",val:"filters"},{text:"There are inappropriate/offensive results",val:"nsfw"},{text:"Too many results from YouTube",val:"singleSource"}],images:[{text:"I wasn't looking for images",val:"irrelevant"},{text:"The filters are not effective",val:"filters"},{text:"There are inappropriate/offensive results",val:"nsfw"},{text:"What I'm looking for isn't shown",val:"missingImages"}],imagesvertical:[{text:"The filters are not effective",val:"filters"},{text:"There are inappropriate/offensive results",val:"nsfw"},{text:"What I'm looking for isn't shown",val:"missingImages"}],forecast:[{text:"The location is wrong",val:"wrongLocation"}],recipes:[{text:"I don't want results from Yummly",val:"yummly"}],products:[{text:lp("feedback form","I don't want this type of result"),val:"productads"},{text:lp("feedback form","Product ad pricing is misleading"),val:"pricing"},{text:lp("feedback form","Product ads aren't relevant"),val:"irrelevant"},{text:lp("feedback form","Product ad content is deceptive"),val:"deceptive"}],productsvertical:[{text:lp("feedback form","Price shown doesn't reflect merchant site"),val:"pricing"},{text:lp("feedback form","Product ads aren't relevant"),val:"irrelevant"},{text:lp("feedback form","Product ad content is deceptive"),val:"deceptive"},{text:lp("feedback form","I expected to see results from more sellers"),val:"few sellers"},{text:lp("feedback form","Filters aren't working"),val:"filters"}],settings:[{text:"I'm unable to change the settings",val:"change"},{text:"I keep losing my settings",val:"losing"}]}}(DDG);!function(a){a.Models.Router=function(){this._routes={};a.history.enablePushState(function(b,e){if(!a.duckbar||(!a.duckbar.isDone&&b!=="iaxm")){return false}var c=window.history&&window.history.state;return b==="ia"||(b==="iax"&&a.history.get("ia")!=="cheatsheet")||(b==="iaxm")||(b==="iai"&&c&&c.iaxm)||(b==="iai"&&a.device.isMobile&&(!c||!c.iai)||(b==="iai"&&a.device.isMobile&&!e&&c&&c.iai))||(b==="q")||(b==="strict_bbox")||(b==="bbox")||(b==="metatoken")||(b==="start")||(b==="end")||(b==="transport")});a.history.on("popstate",this._onHistoryPopState.bind(this))};a.Models.Router.prototype=$.extend({},EventEmitter2.prototype,{add:function(c,b){this._routes[c]={id:c,handler:b}},navigate:function(e,c){if(e){var b=this._routes[e];if(b){b.handler&&b.handler(c)}}this.emit("navigate",e)},_onHistoryPopState:function(g){var f=g&&g.state;if(!f){return}this._setIAFromHistory(f);if(f.ia===a.history.curState.ia){var b=this._getIAModelFromHistory(f);if(b){this._setIAModelPropsFromHistory(b,f)}}var c=a.getProperty(a,"page.searchbar.autocomplete");if(a.opensearch&&a.opensearch.isExperiment("mobile_header","b")&&a.device.isMobileDevice&&c){if(!f.ac&&c._visible){c.hide()}else{if(f.ac&&!c._visible){c.show()}}}if(f.iaxm==="directions"){b.set("isDirectionsActive",true);this.navigate("directions",{state:f,model:b})}else{if(f.iaxm==="start"){b.set("isDirectionsActive",false);this.navigate("map-start",{state:f,model:b})}}},_getIAModelFromHistory:function(g){var f=g.iax||g.iaxm||a.history.curState.iax||a.history.curState.iaxm;if(f==="directions"){f="maps"}var e=(f==1||f==0)?a.duckbar.getActiveTab():a.duckbar.tabsByNameId[f];var b;if(g.iaxm&&a.duckbar.verticalMap&&a.duckbar.verticalMap.model){b=a.duckbar.verticalMap.model}else{if(e&&e.model){b=e.model}else{if(f==="about"||f==="places"){if(a.modulesLayout){var c=a.modulesLayout.modules[(f==="places")?"maps_places":f];if(c){b=c.model}}}}}return b},_setIAFromHistory:function(e){if(e.ia!==a.history.curState.ia){var b=e.ia;if(!a.duckbar.tabs[b]){var c=a.duckbar.tabsByNameId[b];if(c){b=c.id}}a.duckbar.open(b,{backButtonOpened:true})}else{if(!e.ia&&a.history.curState.ia){a.duckbar.open("web",{backButtonOpened:true})}}},_setIAModelPropsFromHistory:function(b,f){if(!b||typeof b!=="object"||!f){return}b.set("expanded",!!f.iax);this.navigate("toggle-map",{model:b,state:f,isDirections:f.iaxm==="directions"});if((a.device.isMobile||f.iaxm||a.history.curState.iaxm)&&(f.q===a.history.get("q"))){if(b.selectedItem&&!f.iai){b.selectedItem.unselect();return}else{if(f.iai&&(!b.selectedItem||b.selectedItem.id!==f.iai)){var c=b.itemsById[f.iai];if(c){c.select();return}}}}if(b.allowModuleIA){b.set("active",!!f.iax);a.duckbar.menu.setActive(f.iax?b.id:"web")}if(this._routes.requery&&f.iaxm&&f.iaxm!=="directions"&&f.iaxm!=="start"){if(f.q){b.meta.update({requery:f.q})}if(f.bbox){var e=f.bbox.split(",");b.shouldMapViewportUpdate=true;b.set({geo_bbox:{top_left:e[0]+","+e[1],bottom_right:e[2]+","+e[3]}})}f.isFromHistory=true;this.navigate("requery",{state:f,model:b})}}})}(DDG);!function(b){var a=b.Pages.Base;b.Pages.SERP=function(c){this._checkForForceReload();this.unsafeSearch=c.showSafeSearch;b.device.hostRegion=c.hostRegion;this.sideMenuOps.showFeedbackIcons=b.device.isMobile;a.call(this,c);this.ads=new b.Models.Ads({});this.pageLayoutView=new DDG.Views.PageLayout({model:DDG.pageLayout});b.device.on("scroll",this._onScroll.bind(this));window.onpageshow=this._onPageShow.bind(this);this._showEuAndroidWelcomeMessage=(b.tParam.get()==="euandroid"&&b.settings.isDefault("kea")&&b.device.isAndroid&&b.device.isChrome);if(!this._showEuAndroidWelcomeMessage){window.onFirstSearchPostExtensionInstall=function(e){if(window.onFirstSearchPostExtensionInstall.called){return}window.onFirstSearchPostExtensionInstall.called=true;e=e||{};if(b.device.isDesktop&&b.device.isChrome&&((b.device.isOSX&&b.device.chromeVersion>=87&&b.device.chromeVersion<=89)||(b.device.isWindows&&b.device.chromeVersion>=87))&&b.device.isEnglish&&b.opensearch.installed&&b.opensearch.installed.variant==="q"&&b.opensearch.installed.atbVariant==="m"){this.views.keepExtensionDialogues=new b.Views.KeepExtensionDialogues(e)}else{if(e.showWelcomeBanner){this.views.welcomeMessage=new b.Views.WelcomeMessage({appendTo:".js-welcome-wrap"})}}}.bind(this)}b.deep.on("change:started",this._onDeepStarted.bind(this));b.deep.on("add-separator",this._addDeepSeparator.bind(this));b.deep.on("change:isOutOfResults",this._showFooter.bind(this));b.deep.on("load:completed",this._onDeepCompleted.bind(this));b.deep.on("load:initial",this._onDeepInitialized.bind(this));b.deep.on("load:any",this._onDeepChange.bind(this));b.userLocator.on("change:waitingForLocation",this._onWaitingForLocation.bind(this))};b.Pages.SERP.prototype=$.extend({},a.prototype,{pageType:"serp",liveUpdater:true,sideMenuOps:{twitterLink:true,hideSettings:true},showingSafeSearch:0,ready:function(){a.prototype.ready.call(this);this.keyboard.enableSERPShortcuts=1;if(w.is_twitter){this.views.twitter=new b.Views.TwitterEasterEgg({username:w.is_twitter,"$el":$(".js-header-logo")})}if(b.device.isMobile&&!b.addToBrowser.canShowOpenInAppButton()){this.initSettingsCog()}this.initHeader();this.initSearchFilters();this.initSERPMessages();this.initFooter();if(this._showEuAndroidWelcomeMessage){this.initEuAndroidWelcomeMessage()}var c=$(".js-lazyload-favicon");for(var e=0,g;g=c[e];e++){b.ImageLoader.register(g,b.services.getURL("icons")+g.getAttribute("data-src"),"scrollY")}b.duckbar.onReady();if(b.device.isDesktop){this._appendSerpBadgeDesktop()}else{this._appendSerpBannerMobile()}if(!this.views.atb&&!this.views.newsletter&&!this.views.survey&&b.survey.shouldShowBadge()){this.views.survey=new b.Views.SurveyBadge({appendTo:".js-site-wrapper"});this.views.survey.show();$("body").on("click.atb",function(){this.views.survey&&this.views.survey.hide();$("body").off("click.atb")}.bind(this))}this.fireStat("si")},showMessage:function(e,c){if(e==="spelling"&&!b.search.spelling){b.search.spelling=new b.Models.Search.Spelling(c)}this.views.messages&&this.views.messages.showMessage(e,c)},initHeader:function(){if(b.settings.isDefault("ko")&&b.device.hasFixedHeaderSupport){this.views.header=new b.Views.Header({"$el":$(".js-header-wrap"),model:new b.Models.Header(),hideSettingsIcon:b.addToBrowser.canShowOpenInAppButton()})}var c={};if(b.history.get("atb")){c.atb=b.history.get("atb");this._updateLogoParams({atb:b.history.get("atb")})}if(b.tParam.hasValue()&&b.tParam.fromHomepage()){if(b.opensearch.variant!==b.tParam.DEFAULT_VARIANT){c.va=b.opensearch.variant}}this._updateLogoParams(c);if(b.addToBrowser.canShowOpenInAppButton()){this.views.openInApp=new b.Views.OpenInApp({after:$(".js-header-logo"),model:new b.Models.OpenInApp({history:b.history,settings:b.settings,tParam:b.tParam})});$(".js-header-wrap").addClass("header-wrap--app")}},initFooter:function(){b.footer=new b.Models.Footer();this.views.footer=new b.Views.Footer({model:b.footer,after:$(".js-site-wrapper")})},initSearchFilters:function(){this.views.searchFilters=new b.Views.Dropdowns.FilterContainer({$el:$(".js-search-filters"),allTab:true})},initSERPMessages:function(){this.views.messages=new b.Views.SERPMessages({ads:this.ads,search:this.search,searchbar:this.searchbar,messages:{safeSearch:!!this.unsafeSearch,siteSearch:b.search.isSiteQuery},"$el":$("#message")});this.views.messages.on("clear-filters",function(){b.settings.region.reset();b.search.requery()})},initEuAndroidWelcomeMessage:function(){this.views.welcomeMessage=new b.Views.WelcomeMessage({appendTo:".js-welcome-wrap",type:"euandroid"})},_showFooter:function(){if(!b.settings.isDefault("kav")&&b.deep.isOutOfResults){b.footer.set("visible",true)}},_onDeepStarted:function(){b.duckbar.show("deep_start");if(b.settings.updater){b.settings.updater.loadFonts()}b.searchExperiments.assign("otlexp");b.searchExperiments.assign("demexp")},_onDeepInitialized:function(){var i={br:b.device.pixelBrowserName,bv:b.device.pixelBrowserVersion};if(w.sourceTag){i.st=w.sourceTag}if(w.df){i.df=w.df}if(b.duckbar.activeTabId!=="web"){i.iao=1}var j=b.settings.region,h=!j.getPrevId()&&j.getId()===j.getDefaultId();if(h){i.nr=h?1:0}var f=b.backData.getId(),g=b.backData.getData();if(f){for(var e in g){if(e==="timestamp"){continue}if(typeof g[e]==="object"){for(var c in g[e]){i["bkd_"+e+"_"+c]=g[e][c]}}else{i["bkd_"+e]=g[e]}}}if(!b.device.isMobile){$(".result--ad").each(function(m){var k=$(this).attr("id");new b.Views.Feedback.ReportAdsButton({appendTo:"#"+k+" .result__extras",whichAd:m})})}if(!b.settings.isDefault("kz")){i.nia=1}if(!b.settings.isDefault("kae")){i.kae=b.settings.get("kae")}if(b.settings.get("kae")==="d"){i.dt=1}i.rl=rl;i.dl=dl;i.ck=d.cookie&&d.cookie!==""?1:0;if(b.abc){i.abc=b.abc}b.pixel.fire("l",b.device.pixelId,b.settings.region.hasRegion()?"re":"wt",$.extend({},i,{atbi:this.canShowAddToBrowser(),i:this.isInstalled(),osl:DDG.search.hasSiteLinks}))},_onDeepChange:function(){b.duckbar.show("deep_change");b.duckbar.menu.showNewTabs();this._showFeedbackBtn();this.views.messages&&this.views.messages.ready();b.ImageLoader.registerAll($(".js-lazyload-icons"),"scrollY");$(".js-results,.js-results-ads,.js-sidebar-ads").removeClass("is-invisible");var c=".js-sitelink-comma";if(this.ads.getNumberOfTopAds()&&$(c).length){this._hideOverflownAdSitelinks()}setTimeout(function(){var f=b.duckbar.activeTabId?b.duckbar.getActiveTab().pixelId:(b.duckbar.placeholder?"pl"+b.duckbar.placeholder.from:null);if(b.search.deepAnswerIAs&&Object.keys(b.search.deepAnswerIAs).length){var e={};if(f&&f!=="web"){e.oi=f}if(b.search.spelling){e.sp=1}b.pixel.fire("iaui",$.extend(e,b.search.deepAnswerIAs))}},500)},_onDeepCompleted:function(){b.perf.reportPerformance({page:this.pageType,timerName:"deepFinished",resourceName:"/d.js"});if(DDG.deep.isBingV7()){setTimeout(function(){b.pageLayout.sendDeviations()},1000)}var h={};h.u=b.search.src;if(this.ads.hasAds()){h.adx=this.ads.adx}if(this.ads.adxExperiment){h.adx_name=this.ads.adxExperiment}h.rc=b.deep.getResultCount();var f=b.Data.languages.resultLanguages,c=b.Data.languages.adLanguages,e=[],j=[];for(var i in f){e.push(i+":"+f[i].length)}for(var g in c){j.push(g+":"+c[g])}b.Data.languages.resultLanguagesPixelData=h.oll=e.join(",");if(j.length){b.Data.languages.adLanguagesPixelData=h.adll=j.join(",")}b.pixel.fire("l2",b.device.pixelId,b.settings.region.hasRegion()?"re":"wt",h)},_showFeedbackBtn:function(){if(!this.views.feedback&&b.device.isDesktop){this.views.feedback=new b.Views.Feedback.Button({appendTo:".js-feedback-btn-wrap",clickPixel:false})}},_onScroll:function(f){if(!b.settings.isDefault("kav")){nrb(f)}if(this.onboardingTest.animateModalIllustration&&b.tParam.fromHomepage()&&this.canShowAddToBrowser()&&!b.device.isMobileDevice&&!this.views.atb.dismissed){var c=(b.device.height/2);if(this.views.atb.animated&&b.device.scrollTop()>c){this.views.atb.unAnimate()}else{if(this.views.atb.animated===false&&b.device.scrollTop()<c){this.views.atb.animate()}}}},_onPageShow:function(c){if(c&&c.persisted){this._checkForForceReload()}},_onWaitingForLocation:function(c){var f=$(".js-logo-ddg");if(c){var g=b.searchExperiments.getExperimentGroup("pulmobexp")==="b",e=b.userLocator.lastUpdateType==="implicit";if(g&&e){f.addClass("simple-tooltip");f.addClass("simple-tooltip__visible");f.attr("data-tooltip","below-left 100");f.attr("data-tooltip-text",l("Enable anonymous location for more accurate results. You can always change your mind later."))}}else{f.removeClass("simple-tooltip");f.removeClass("simple-tooltip__visible")}},_hideOverflownAdSitelinks:function(){var c=$(".result__sitelinks");c.each(function(o){var g=$(this),e=".js-sitelink-comma",k=".sponsored__sitelink",t=g.find(e),n=g.find(k),f=n.last(),m=g.position().top+g.height(),h=(f.position().top>m);if(!(h&&t.length)){return}var s=g.find(e+","+k);s=s.get().reverse();for(var j=0;j<s.length;j++){var q=$(s[j]),u=q.hasClass("js-sitelink-comma"),v=q.position().top,p=(u&&(v<=m)),r=(v>m);if(!(p||r)){return}q.addClass("is-hidden");if(p){break}}})},_appendSerpBadgeDesktop:function(){if(b.addToBrowser.canShowOnDesktopSerp()){var c={impressionPixel:"atbsi",clickPixel:"atbsc",xPixel:"atbsx",topRight:true,serp:true,entryPoint:"sr",appendTo:".js-site-wrapper",hideOnClick:true};this.views.atb=new b.Views.AddToBrowserBadge(c);$("body").on("click.atb",function(){this.views.atb.hide();$("body").off("click.atb")}.bind(this))}else{if(b.newsletter.shouldShowBadge()){this.views.newsletter=new b.Views.SubscribeToNewsletterBadge({appendTo:".js-site-wrapper",serp:true});this.views.newsletter.show();$("body").on("click.atb",function(){this.views.newsletter&&this.views.newsletter.hide();$("body").off("click.atb")}.bind(this));b.pixel.fire("nli",b.newsletter.group,"serp")}}},_updateLogoParams:function(f){var e=$(".js-header-logo"),c=e&&e.length&&e.attr("href");if(c){if(f&&Object.keys(f).length){c+=c.match(/\?/)?"&":"?";c+=$.param(f)}e.attr("href",c)}},_appendSerpBannerMobile:function(){if(b.addToBrowser.canShowOnMobileSerp()||b.addToBrowser.canShowTryAppBanner()){this.views.atb=new b.Views.AddToBrowserBanner({impressionPixel:"atbsi",clickPixel:"atbsc",xPixel:"atbsx",template:"add_to_browser_button_serp",serp:true,entryPoint:"sr",appendTo:".js-site-wrapper",hideOnScrollUp:!b.tParam.fromHomepage()});$("body").on("click.atb",function(){this.views.atb.hide();$("body").off("click.atb")}.bind(this))}},_addDeepSeparator:function(){new b.Views.Verticals.VerticalSeparator({appendTo:$(".js-results"),pageNumber:b.deep.pageNumber})}})}(DDG);!function(g){var b=g.Models.Base,n,i=412,c={videos:412,images:294},m=312,h=300,k=12,f={images:"Images",videos:"Videos"},j=g.Utils.Cache.Called;g.Models.Answer=n=function(p){b.call(this,p);this.templates=new g.Models.AnswerTemplates(p.templates);this.meta=new g.Models.AnswerMeta($.extend(p.meta||{},{options:this.templates.options,elClass:this.templates.elClass}));this.name=this.name||this.duckbar_topic||this.topic||"Answer";if(this.name==="qa"){this.name="Q/A"}this.nameId=g.duckbar.getNameId(this.name);this.id=this.id||this.nameId;this.pixelId=this.pixel_id||this.pixelId||this.meta.id||this.from||this.id;this.pixelId=this.pixelId.toLowerCase();this.type=this.type||"new";var o=g.stem(this.name),t=new RegExp("\\b("+this.name+"|"+o+")\\b","i"),s=decodeURIComponentSafe(this.queryEncoded),r=s.match(t);this.query=s.replace(t,"");this.queryMatch=r&&r.length;this.signal=this.signal||"low";if(this.rt!=="A"&&this.rt!=="C"&&this.rt!=="D"&&this.queryMatch){this.signal="high"}if(this.signal!=="high"&&this.signal!=="medium"){this.signal="low"}if(this.type==="static"){this.signal="low"}if(g.duckpan){this.signal="high"}this.items=[];this.itemsById={};this.itemsOnMap=[];this.topics=[];this.topicsById={};this.canExpand=true;this.expanded=false;if(p.parameters){this.parameters=p.parameters.map(function(q){return new g.Models.AnswerSelectLists.Parameter(q)})}if(p.sources){this.sources=new g.Models.AnswerSelectLists.Source({values:p.sources,parameters:this.parameters})}this.pageNo=0};n.prototype=$.extend({},b.prototype,{addItems:function(A,q){q=q||{};this.pageNo++;if(!q||!q.keepServiceURL){this.set("serviceURL")}this.set("isLoading");if(!A||$.isEmptyObject(A)){A=[]}else{if(!$.isArray(A)){A=[A]}}var x=this.answerItemModel||this.model||"Base",o=this.meta.idField,t=this.meta.topicField||"answerItemTopic",p=0,u=0;if(x&&x.allowModuleIA&&f[x.id]){x=f[x.id]}if(!g.Models.AnswerItems[x]){x="Base"}if(x==="FatheadListItem"){A=a(A,this)}for(var s=0;s<A.length;s++){var z=new g.Models.AnswerItems[x]($.extend({templates:this.templates,parentId:this.id,answerMeta:this.meta,idField:o,pageNo:this.pageNo,minimizeHeight:!this.isSideModule,fromDeep:q.fromDeep},A[s]));if(!this.itemsById[z.id]){this.items.push(z);this.itemsById[z.id]=z;if(q.pixelated){z.pixelated=true}z.on("change:selected",this._onItemSelectedChanged.bind(this,z));z.on("change:highlighted",this._onItemHighlightedChanged.bind(this,z));++p;if(t&&z[t]){var y=z[t],v=this.topicsById[y];if(!v){v=new g.Models.AnswerItemTopic({id:y,name:y,hideCount:this.meta.hideTopicCount});this.topics.push(v);this.topicsById[v.id]=v;++u;this.bindEvents([[v,"change:selected",this._onTopicSelectedChanged.bind(this,v)],[v,"change:highlighted",this._onTopicHighlightedChanged.bind(this,v)],[v,"change:engaged",this.engaged.bind(this)]])}z.set("topic",v);v.addItem(z)}}}this.itemsOnMap=g.geo.sort(this.items.slice());if(this.selectedItemIdRequery){this.isSingle=this.items.length===1;for(var r=0;r<this.items.length;r++){if(this.items[r].itemId===this.selectedItemIdRequery){this.items[r].select();break}}this.set("selectedItemIdRequery")}if(u){this._emitChange("topics")}if(p){this._emitChange("items")}else{if(!this.items.length){this.set("failed",true)}else{if(!A.length){this.emit("no-results")}else{this._emitChange("items")}}}if(!this.isFullPage){this._updateCanExpand()}},canLoadMore:function(){return !this.isLoading&&this.meta.next},canLoadOnScroll:function(){return this.expanded&&this.canLoadMore()&&this.supportsInfiniteScroll&&g.settings.isDefault("kc")},loadMore:function(){if(!this.canLoadMore()){return}this.set("isLoading",true);var o=this.meta.next;if(o.match(/vqd=/)){o=o.replace(/(&vqd\=)[^\&]+/,"$1"+window.vqd)}else{o+="&vqd="+window.vqd}this.meta.loadedNext();if(o.match(/(?:&|\?)cb=([^&?]+)/i)){return nrj(o)}if(g.searchExperiments.hasActiveExperiments()){o=g.searchExperiments.addExperimentParameters(o)}if(this.extraLoadRequestParameters){o+=this.extraLoadRequestParameters()}$.ajax({url:o,dataType:"json",success:this._onLoadedMore.bind(this),error:this._onLoadError.bind(this)})},canShowSnippet:function(){return(this.items&&this.items.length===1&&!!g.getProperty(this,"items.0.snippetInfoMap."+this.infoSelector))},usePageQuery:function(o){return o+this.queryEncoded+"&vqd="+window.vqd},load:function(){if((this.isLoading||!this.serviceURL)||(j.nrj[this.id]&&this.openType==="i")){return}if(this._shouldBlockAdultResults()){return this._onLoad({results:[]})}this.set("isLoading",1);var o;if(typeof this.serviceURL==="function"){o=this.serviceURL()}else{o=this.serviceURL}o=this.usePageQuery(o);if(this.sources){o+="&"+this.sources.getParameterQueryString()}if(this.safeSearch){o+=this._getSafeSearchURLParam()}if(this.date){o+="&df="+g.search.dateFilterId}if(g.searchExperiments.hasActiveExperiments()){o=g.searchExperiments.addExperimentParameters(o)}if(this.extraLoadRequestParameters){o+=this.extraLoadRequestParameters()}if(this.id==="products"&&this.bing&&g.searchExperiments.getExperimentGroup("mliexp")==="b"){o="https://links.duckduckgo.com"+o}j.loaded[this.id]=1;if(g.Utils.Cache[o]){this._onLoad(g.Utils.Cache[o])}else{$.ajax({type:"GET",url:o,dataType:"json",async:true,success:function(p){g.Utils.Cache[o]=p;this._onLoad(p)}.bind(this),error:this._onLoadError.bind(this)})}},indexOfSelectedItem:function(){if(!this.selectedItem){return}if($.isNumeric(this._selectedItemIdx)){return this._selectedItemIdx}return this._selectedItemIdx=this.items.indexOf(this.selectedItem)},indexOfHighlightedItem:function(){if(!this.highlightedItem){return}if($.isNumeric(this._highlightedItemIdx)){return this._highlightedItemIdx}return this._highlightedItemIdx=this.items.indexOf(this.highlightedItem)},getNextItem:function(){var o=this.indexOfSelectedItem();return $.isNumeric(o)&&this.items[o+1]},getPrevItem:function(){var o=this.indexOfSelectedItem();return $.isNumeric(o)&&this.items[o-1]},selectNextItem:function(){var o=this.getNextItem();if(o&&o.hidden&&g.device.isMobile){return o.select()}return o&&!o.hidden&&o.select()},selectPrevItem:function(){var o=this.getPrevItem();return o&&o.select()},getNextHighlightedItem:function(){var o=this.indexOfHighlightedItem();return $.isNumeric(o)&&this.items[o+1]},getPrevHighlightedItem:function(){var o=this.indexOfHighlightedItem();return $.isNumeric(o)&&this.items[o-1]},highlightNextItem:function(){var o=this.getNextHighlightedItem();return o&&o.highlight()},highlightPrevItem:function(){var o=this.getPrevHighlightedItem();return o&&o.highlight()},getQuerystringItemId:function(o){return o.idField?o.id:this.items.indexOf(o)},getDetailHeight:function(){var o=this.meta.options||{},q=o.detailHeight||c[this.id]||i,p=o.detailHeightShort||m,r=g.device.height-h-((this.tileMarginBottom||0)*2);if(c[this.id]){return Math.max(r,c[this.id])}return g.device.isTeapot()?p:q},getPixelData:function(){var o={ss:g.page?g.page.showingSafeSearch:0,sp:g.search.spelling?1:0,im:this.isModule?1:0,ism:this.isSideModule?1:0,px:this.proximity?1:0,ul:g.userLocator.hasLocation()?g.userLocator.userLocation.type[0]:0};if(this.headerType){o.ht=this.headerType}if(this.local_source){o.lsrc=this.local_source;if(this.local_source==="exact_match"||this.local_source==="fallback"){o.di=this.distance;o.bs=this.biz_score;o.cs=this.cat_score;o.hs=this.chain_score;o.de=this.delta;o.ml=this.matches_location;o.rc=this.review_count;o.tc=this.trigger_count;if(this.wiki_entity){o.we=this.wiki_entity}}}if(this.profileLinks){o.pl=this.profileLinks}if(g.page&&g.page.ads){if(g.page.ads.hasAds()){o.adc=g.page.ads.getNumberOfTopAds()}}if(this.id==="products"){o.prod_mult=this.items&&this.items.length>1?1:0;o.u=this.meta.sourceName;if(this.gridColumns){o.pgcd=this.gridColumns+","+(g.getProperty(this,"meta.layout.columns")||0)+","+(this.items?this.items.length:0)}}if(this.sourceId==="yelp"){o.lsrcid="ylp"}else{if(this.sourceId==="tripadvisor"){o.lsrcid="ta"}}return o},fire:function(o,p){p=$.extend(p||{},this.getPixelData());g.pixel.fire(o,this.pixelId,this.openType,p)},engaged:function(o){this.fire("iae",o)},clickedExternalLink:function(o){g.backData.set(this.pixelId,{ot:this.openType,sexp:DDG.searchExperiments.getBackButtonData(),timestamp:DDG.vqd.timestamp});this.fire("iag",o)},getMapRequeryOptions:function(p){var q={};q.query=p.q||this.meta.requery;if(p&&p.bbox){var r=p.bbox.split(",");q.bbox_tl=r[0]+","+r[1];q.bbox_br=r[2]+","+r[3]}else{if(this.geo_bbox&&!(p&&p.isFromHistory)){q.bbox_tl=this.geo_bbox.top_left;q.bbox_br=this.geo_bbox.bottom_right}}var o=g.userLocator&&g.userLocator.userLocation;if(o&&o.lat&&o.lon){q.location_type=o.type;q.latitude=o.lat;q.longitude=o.lon}q.strict_bbox=p&&p.strict_bbox||"0";return q},updateModulePosition:function(p,o){var r=[this,p],q=g.Models.ModulesPositions.SIDE;r.forEach(function(t){var s={isSideModule:o===q,position:o};if(t.set){t.set(s)}else{$.extend(t,s)}})},_addItemsFromResponse:function(o){if(!o){return}if(!($.isEmptyObject(o))){this.meta.update({next:o.next,searchTerm:o.searchTerm,responseType:o.responseType,requery:o.requery||o.query,query:o.query,sourceUrl:o.url,geoip:o.geoip})}if(this.id==="images"&&!o.next){g.footer&&g.footer.set("visible",true)}if(o.isEmptyResponse){this.set("failed",true)}else{this.addItems(o.results||o,o.ads)}},_updateCanExpand:function(){var o;if(g.device.isMobile){o=!this.meta.disableMobileGrid}else{if(this.meta.disableModeSwitch||this.meta.itemsExpand||this.meta.itemsWidthVaries){o=false}else{if(this.items.length>=(this.meta.minItemsForModeSwitch||k)||this.canLoadMore()){o=true}else{o=false}}}this.set("canExpand",o)},_shouldBlockAdultResults:function(){return(this.id==="images"||this.id==="videos")&&g.search.isAdultQuery&&g.settings.safeSearch.isStrict()},_getSafeSearchURLParam:function(){var o;if(this.id==="news"||this.id==="videos"){o=g.settings.get("kp")}else{o=g.settings.safeSearch.isOff()?-1:1}if(this.openType==="f"){o=1}return"&p="+o},requery:function(p){if(!this.sources){return}this.set("isRequerying",1);this.hasRequeried=true;this.meta.reset();if(p&&p.query){this.meta.update({query:p.query})}if(this.selectedItem){this.selectedItem.unselect()}if(this._shouldBlockAdultResults()){return this._onRequery({results:[]})}if(this.failed){this.set("failed")}var o=this.sources.getRequeryURL(p);if(this.safeSearch){o+=this._getSafeSearchURLParam()}if(this.date){o+="&df="+g.search.dateFilterId}if(g.searchExperiments.hasActiveExperiments()){o=g.searchExperiments.addExperimentParameters(o)}$.ajax({type:"GET",url:o,dataType:"json",async:true,success:this._onRequery.bind(this),error:this._onLoadError.bind(this)})},_onLoad:function(o){this.set("isLoading");if(!this.serviceURL){return}this.set("serviceURL");this._addItemsFromResponse(o)},_onRequery:function(o){this.set("isRequerying");this.set("selectedItem");this.items.forEach(function(p){p.removeAllListeners()});this.items=[];this.itemsById={};this.itemsOnMap=[];this._addItemsFromResponse(o);if(["maps_maps","maps_places","maps_expanded"].indexOf(this.id)<0){this.set("expanded",1)}this.set("isSearchingMapArea",this.isSearchMapAreaPending&&this.items.length>1);this.set("isSearchMapAreaPending",false);this.emit("requery-complete")},_onLoadedMore:function(o){this.set("isLoading");this._addItemsFromResponse(o);var p={l:o.results.length,p:this.pageNo};this.fire("lm",p)},_onLoadError:function(){this.set("isLoading");this.set("isRequerying");if(!this.items.length){this.set("failed",1)}},_onItemSelectedChanged:function(o){delete this._selectedItemIdx;if(o&&o.selected){if(this.highlightedItem){this.highlightedItem.unhighlight()}if(this.selectedItem&&o!==this.selectedItem){this._pendingSelectedItem=o;this.selectedItem.unselect()}this.set("selectedItem",o)}else{if(this._pendingSelectedItem){delete this._pendingSelectedItem}else{this.set("selectedItem")}}},_onItemHighlightedChanged:function(o){delete this._highlightedItemIdx;if(o&&o.highlighted){if(this.highlightedItem&&o!==this.highlightedItem){this._pendingHighlightedItem=o;this.highlightedItem.unhighlight()}this.set("highlightedItem",o)}else{if(this._pendingHighlightedItem){delete this._pendingHighlightedItem}else{this.set("highlightedItem")}}},_onTopicSelectedChanged:function(o){if(o&&o.selected){if(this.selectedTopic&&o!==this.selectedTopic){this.selectedTopic.unselect()}this.set("selectedTopic",o)}else{if(o===this.selectedTopic&&!o.selected){this.set("selectedTopic")}}},_onTopicHighlightedChanged:function(o){if(o&&o.highlighted){if(this.highlightedTopic&&o!==this.highlightedTopic){this.highlightedTopic.unhighlight()}this.set("highlightedTopic",o)}else{if(o===this.highlightedTopic&&!o.highlighted){this.set("highlightedTopic")}}}});function a(u,y){if(!u||!u.length||!u[0].RelatedTopics){return u}var x=[],t=y.name.toLowerCase(),o=u[0].RelatedTopics,v,p,q;for(var s=0;s<o.length;s++){v=o[s];if(!v.Name){if(t==="list"){if(!q||q!==v.Text.charAt(0)){q=v.Text.charAt(0)}v.answerItemTopic=q;y.meta.hideTopicCount=1}else{v.answerItemTopic="Top"}if(!e(v)){x.push(v)}}else{for(var r=0;r<v.Topics.length;r++){p=v.Topics[r];p.answerItemTopic=v.Name;if(!e(p)){x.push(p)}}}}return x}function e(p){if(!p.Result||!p.Text){return true}var o=g.parse_link(p.Result,"text");if(o&&o===p.Text){return true}return false}}(DDG);!function(c){var b=c.Models.Base,a;c.Models.AnswerMeta=a=function(e){b.call(this,e)};a.prototype=$.extend({},b.prototype,{options:{},loadedURLs:{},loadedNext:function(){if(this.next){this.loadedURLs[this.next]=true;this.next=null}},reset:function(){this.loadedURLs={}},update:function(e){if(!e||typeof e!="object"){return}for(var f in e){if(f==="next"&&this.loadedURLs[e[f]]){continue}if(f==="searchTerm"&&this.searchTerm){continue}this.set(f,e[f])}},useExpandTextButton:function(){return this.signal_from==="images"||this.signal_from==="videos"||this.signal_from==="news"},hasAttribution:function(){return !this.useExpandTextButton()&&this.developer&&$.isArray(this.developer)&&this.developer.length}})}(DDG);!function(c){var a=c.Models.Base,b;c.Models.AnswerTemplates=b=function(f){f=f||{};var g=c.Data.templates,h,e={};if(f.group){h=g.groups[f.group];if(h){f=$.extend(true,{},h,f);e=h.options}else{}}a.call(this,f);this.options=$.extend(true,{},g.defaultOptions,e,this.options||{});this.elClass=this.elClass||{};if(this.variants){this._applyVariants(this.variants)}};b.prototype=$.extend({},a.prototype,{_applyVariants:function(f){if(!f||typeof f!=="object"){return}var e=c.Data.templates.viewVariants;for(var i in f){var j=f[i],h=e[i],m=h&&h[j];if(!m){continue}if($.isArray(m)){m.forEach(this._applyVariants.bind(this))}else{if(typeof m==="object"){for(var g in m){this._applyVariant(g,m[g])}}else{this._applyVariant(i,m)}}}},_applyVariant:function(e,f){if(this.elClass[e]){this.elClass[e]+=" "+f}else{this.elClass[e]=f}}})}(DDG);!function(b){var a=b.Models.Base;b.Models.AnswerItemTopic=function(c){a.call(this,c);this.items=[]};b.Models.AnswerItemTopic.prototype=$.extend({},a.prototype,{addItem:function(c){this.items.push(c);this._emitChange("items")},removeItem:function(e){var c=this.items.indexOf(e);if(c>-1){this.items.splice(c,1);this._emitChange("items")}},select:function(){this.unhighlight();this.set("selected",1)},unselect:function(){this.set("selected")},highlight:function(){if(this.selected){return}this.set("highlighted",1)},unhighlight:function(){this.set("highlighted")},engaged:function(){this.set("engaged",1)}})}(DDG);!function(c){var a=c.Models.Base,b={news:1,images:1,videos:1,web:1,maps_expanded:1};c.Models.AnswerBarMenuItem=function(e){this._pixel=e.pixel;a.call(this,e);if(!b[this.pixelId]){this.on("change:visible",this._onVisibleChanged.bind(this))}};c.Models.AnswerBarMenuItem.prototype=$.extend({},a.prototype,{toggle:function(){if(this.active){return}this.set("active",!this.active)},_onVisibleChanged:function(){if(this.visible){this.getInstance("pixel").fire("ias",this.pixelId)}}})}(DDG);!function(b){var a=b.Models.Base;b.Models.AnswerBarMenu=function(c){this.items=[];this.itemsById={};this._numStaticItems=0;a.call(this,c)};b.Models.AnswerBarMenu.prototype=$.extend({},a.prototype,{addAnswer:function(e){if(!e||this.itemsById[e.id]||(this._showingMapTab&&e.hasMap)||(e.meta&&e.meta.hidden)){return}var c=new b.Models.AnswerBarMenuItem({id:e.id,name:(e.hasMap)?"Maps":e.name,type:(e.hasMap)?"static":e.type,pixelId:e.pixelId,hasMap:e.hasMap,onActive:e.onActive,hidden:(e.meta&&e.meta.hidden)});if(e.hasMap){this._showingMapTab=true;this._replaceStaticMap(c);this._numStaticItems+=1}else{if(c.type==="static"){this.items.splice(this._numStaticItems,0,c);this._numStaticItems+=1}else{this.items.push(c)}}this.itemsById[c.id]=c;this._emitChange("items");if(c.type==="static"||this._showingNewTabs){c.set("visible",true)}c.on("change:active",this._onItemActiveChange.bind(this,c.id,e))},removeAnswer:function(g){var c=false;for(var e in this.items){var f=this.items[e];if(f.id===g&&f.type!=="static"&&!f.hasMap){c=e;break}}if(c){this.items.splice(c,1);delete this.itemsById[g];this._emitChange("items")}},showNewTabs:function(){this._showingNewTabs=true;this.items.forEach(function(c){c.set("visible",true)})},setActive:function(c){if(this._lastActiveId===c||!this.itemsById[c]){return}this._lastActiveId=c;this.itemsById[c].set({active:true,visible:true});this.emit("set-active",c)},openNext:function(e){var g,c;for(var f=0;f<this.items.length;f++){if(this.items[f].active){g=f;break}}if(typeof g==="undefined"){return}if(e==="l"){c=this.items[g-1]}else{c=this.items[g+1]}if(c){c.set("active",true)}},_onItemActiveChange:function(f,e){if(this._blockActiveHandler){return}var c={};if(!this.itemsById[f].active){f="web";c.defaultOpened=true}else{if(this.itemsById[f].hasMap||f==="maps_expanded"){c.mapId=f;c.answer=e}}this._blockActiveHandler=true;this.items.forEach(function(g){g.set("active",g.id===f)});delete this._blockActiveHandler;if(this._lastActiveId===f){return}this.emit("item-active",f,c);this._lastActiveId=f},_replaceStaticMap:function(e){var c=this.itemsById.maps_expanded;var f=this.items.indexOf(c);this.items[f]=e;delete this.itemsById.maps_expanded}})}(DDG);!function(b){var a=b.Models.Base;b.Models.OpenPixel=function(c){this._deep=c.deep;this._pageLoadTime=c.pageLoadTime;this._page=c.page;this._pixel=c.pixel};b.Models.OpenPixel.prototype=$.extend({},a.prototype,{getOpenType:function(e,f){var c="e";if(f.backButtonOpened){c="b"}else{if(f.is_last_resort_tab){c="f"}else{if(e&&e.isRequery){c="r"}else{if(f.qsOpened){c="q"}else{if(f.autoOpened){c="i"}else{if(f.defaultOpened){c="d"}}}}}}return c},fire:function(g,f){var i=g.model.getPixelData();var c=f||g.model.openType;if(c==="i"){$.extend(i,this._getTimingData())}var h=this.getInstance("page");if(h.ads.hasAds()){var e=h.ads.getAds();i.adn=e.length;i.is_good_v8_0=(e[0]&&e[0].relevancy&&e[0].relevancy.is_good_v8)||0;i.is_good_v8_1=(e[1]&&e[1].relevancy&&e[1].relevancy.is_good_v8)||0}this.getInstance("pixel").fire("iao"+c,g.pixelId,i)},firePlaceholder:function(c){this.getInstance("pixel").fire("iaop",c,this._getTimingData())},_getTimingData:function(){var e=new Date().getTime(),c=this.getInstance("deep");return{timeSincePageLoad:e-this._pageLoadTime,timeSinceDeepStarted:c.timeSinceStarted(),timeSinceDeepFinished:c.timeSinceFinished()}}})}(DDG);DDG.Models.ModulesPositions={TOP:-1,SIDE:-2,PENDING_SLOTTING:-4};!function(f){var a=f.Models.Base,e={high:3,medium:2,low:1},i={maps_places:1,about:1,climb:1,fueleconomy:1,lyrics:1,qa:1},k={maps_maps:1,directions:1,maps_places_snippet:1,news:1,forecast:1,videos:1,images:1,recipes:1,products:1,covid19:1,related_searches:1},b={products:1,related_searches:1},c={maps_places:{answerType:"Places",model:"Place"},maps_maps:{answerType:"Maps",model:"Maps"},directions:{answerType:"Directions",model:"Directions"},news:{answerType:"News"},videos:{answerType:"Videos"},images:{answerType:"Images"},recipes:{answerType:"Recipes"},products:{answerType:"Products"},forecast:{answerType:"Forecast",model:"Forecast"},maps_expanded:{answerType:"Maps",model:"Maps"},related_searches:{answerType:"RelatedSearches"},covid19:{answerType:"Covid19"}},j={answerType:"About",model:"About"},h=["lyrics","nlp_longtail","nlp_qa","deep_answer","nlp_fathead","deep_fathead"],g=["images","videos","news"];f.Models.ModulesLayout=function(m){a.call(this,{});this._device=m.device;this._history=m.history;this._openPixel=m.openPixel;this._settings=m.settings;this.modules={};this.signals={};this.slots={};this.slotsPendingRender=[];this._currentIA=this.getInstance("history").get("ia")};f.Models.ModulesLayout.prototype=$.extend({},a.prototype,{addSignal:function(n){var m=this.signals[n.from]?this.signals[n.from]:0;this.signals[n.from]=Math.max(m,e[n.signal])},addAnswer:function(q,n,p){if(!DDG.pageLayout.isSlottingEnabled()){var o=f.duckbar.getNameId(n.name);if((f.history.get("iax")===o||f.hidden.get("iar")===o)&&!this.isExpandedImages(q,n)){k[q]=0}}if(!i[q]&&!k[q]){return}if(q==="recipes"){n.meta.primaryText=l("Recipes");n.moreText=l("More Recipes")}var m=this.modules[q];n.id=q;n.isModule=true;n.position=this._getPosition(q,n);n.isSideModule=n.position===f.Models.ModulesPositions.SIDE;if(!m){this._appendModel(n);this.modules[q]=m=n}m.triggered=true;m.model.position=n.position;if(n.signal){this.addSignal({from:q,signal:n.signal})}this._emitChange("modules")},_getPosition:function(p,o){var n=o?o:this.modules[p],m=f.Models.ModulesPositions;if(p==="maps_places"&&(n&&!n.isSingle)&&n.signal==="high"&&!f.search.isNavigational){return m.TOP}if(b[p]&&f.getProperty(o,"meta.sourceName")==="Bing"){return m.PENDING_SLOTTING}if(k[p]){return m.TOP}if(i[p]){return this.canShowSideModules()?m.SIDE:m.TOP}},canAddSignal:function(m){if(h.indexOf(m.from)>-1&&this.canShowSideModules()&&!m.hasInfoSelector){return false}return true},isTopModule:function(m){return this._getPosition(m)===f.Models.ModulesPositions.TOP},canShowSideModules:function(){var n=this.getInstance("device"),m=this.getInstance("settings");return !n.isMobileDevice&&m.isDefault("kw")&&m.isDefault("km")&&m.isDefault("kz")},canShowModule:function(n){var m=this.getModule(n);return((m.signal!=="low")||((m.pixelId!=="maps_places_multiple")&&(m.pixelId!=="maps_places_single")))},getModule:function(m){if(m==="web"){m=this.defaultId}return this.modules[m]},getModules:function(o){var p=[],q;for(var n in this.modules){q=this.modules[n];if(o&&q.position===o){p.push(q)}if(!o){p.push(q)}}if(f.pageLayout&&o===f.Models.ModulesPositions.SIDE){f.pageLayout.sortModulesBySlottedInSidebar(p)}return p},getModuleInfo:function(m){return this.getModules(m).map(function(n){return n.pixelId+":"+n.model.openType+":"+n.signal})},isExpandedImages:function(n,m){return n==="images"&&m.activeTabOpenType==="e"},getDefaultTopModule:function(){return this.defaultId},setDefaultTopModule:function(m){this.set("defaultId",m)},setOpenType:function(o,m){var n=this.getModule(o);if(n){n.model.openType=m}},loadContent:function(p,m,o){o=o||{};o.fromDeep=true;var n=this.getModule(p);if(!n){return}n.model.loaded=true;if(m&&m.results){n.model.addItems(m.results,o);if(m.layout){n.model.set("layout",m.layout)}}else{if(this.getDefaultTopModule()===n.model.id||n.model.waitingForItems){n.model.emit("load")}}},slotModule:function(t,o,r,s,n){if(g.indexOf(o)!==-1){var q=this.modules[o]&&this.modules[o].model&&this.modules[o].model.items.length;if(!q){f.pageLayout.recordDeviation(o,"module",s,null,"content");return}if(["videos","news"].includes(o)&&q===1){f.pageLayout.recordDeviation(o,"module",s,null,"single_item");return}}this.slots[t]={name:o,$el:r,area:s,isAtBottom:n};var p=this.modules&&this.modules[o];if(b[o]&&p){var m=s==="sidebar"?f.Models.ModulesPositions.SIDE:f.Models.ModulesPositions.TOP;p.model.updateModulePosition(p,m)}this._emitChange("slotted")},_appendModel:function(o){var p=c[o.id]||j;$.extend(o,p);var m={};if(o.answerType&&f.Models.Answers[o.answerType]){m=new f.Models.Answers[o.answerType](o)}else{m=new f.Models.Answer(o)}if(!o.serviceURL&&!o.doNotCoerceData){m.meta.update(o.meta);var n=$.isArray(o.data)?o.data:[o.data||o];m.addItems(n,o.ads)}m.openType=this.getInstance("openPixel").getOpenType(o,{autoOpened:!this._currentIA,qsOpened:this._currentIA});o.pixelId=m.pixelId;o.model=m}})}(DDG);!function(b){var a=b.Views.Base;b.Views.ModulesLayout=function(c){this._selectors=c.selectors?this._combineSelectors(c.selectors):{};this._selectorCache={};this._verticalId=c.verticalId;this.menu=c.menu;a.call(this,c);this.bindEvents([[this.model,"change:modules",this._render],[this.model,"change:autoOpenedId",this._showPendingTabs],[this.model,"change:expandedMapId",this._createMapVertical],[this.menu,"set-active",this._menuChanged],[this.model,"change:slotted",this._slotModules],[b.deep,"load:any",this._onDeepFinished.bind(this)]])};b.Views.ModulesLayout.prototype=$.extend({},a.prototype,{recalculateModuleSizes:function(){if(b.duckbar&&b.duckbar.isDone&&!this._hasRecalculatedModuleSizes&&b.pageLayout&&b.pageLayout.isSlottingEnabled()){this._triggerCalculateSize(this.views);this._hasRecalculatedModuleSizes=true}},_triggerCalculateSize:function(e){for(var c in e){if($.isArray(e[c])){this._triggerCalculateSize(e[c])}else{if(e[c].calculateSize){e[c].calculateSize()}if(e[c].views){this._triggerCalculateSize(e[c].views)}}}},_getSelector:function(c,e){if(!this._selectorCache[c]){this._selectorCache[c]=$(this._selectors[c])}if(e.allowModuleIA){return b.duckbar.$topModuleWrapper}return this._selectorCache[c]},_menuChanged:function(h){var f=this.model.getModule(h),g=this._canAppendModuleAsTopModule(f,h);for(var e in this.views){var c=this.views[e];if(c.renderedPosition===b.Models.ModulesPositions.TOP&&c.$el){if(DDG.pageLayout.isSlottingEnabled()){if(c.menuAdded&&(g||h==="web"||((h==="products"||h==="recipes")&&!f.slotted))){c.$el.hide()}}else{c.$el.hide()}}}if(g){this._appendView(f,null,true)}},_canAppendModuleAsTopModule:function(c,f){if(!c){return false}var e=this.menu&&this.menu.itemsById[f]&&this.menu.itemsById[f].active&&f!=="web";if(c.allowVertical&&e){return false}if(c.allowModuleIA&&c.id===f){return false}if(b.pageLayout.shouldShowExpandedModule(c.model.nameId)){return}if(c&&this.model.isTopModule(c.model.id)&&this.model.canShowModule(c.model.id)){return true}},_showPendingTabs:function(){if(this._verticalId!=="web"){return}this.model.getModules().forEach(function(e){var c=true;e.model.hasMap=this._hasMapTab(e);if(e.model.isSideModule&&this.model.canShowSideModules()){c=e.model.hasMap}else{if(this.model.autoOpenedId===e.id&&!e.model.hasMap){c=false}else{if(DDG.pageLayout.isSlottingEnabled()&&e.id==="about"){c=false}else{if(e.id==="related_searches"||e.id==="directions"){c=false}}}}if(c){this.menu.addAnswer(e.model)}}.bind(this))},_showAboutTabIfMissing:function(){var c=b.getProperty(this,"views.about"),e=b.getProperty(b,"duckbar.tabs.about");if(DDG.pageLayout.isSlottingEnabled()&&e&&!c){this.menu.addAnswer(e)}},_render:function(){if(DDG.pageLayout&&DDG.pageLayout.isSlottingEnabled()){this.model.slotsPendingRender.forEach(function(f,c){var e=this.model.getModule(f.name);if(e){e.slotted=true;this._appendView(e,f.$el);this.model.slotsPendingRender.splice(c,1)}}.bind(this));if(!DDG.pageLayout||!DDG.pageLayout.sidebarReady){return}}this._renderSideModules()},_hasMapTab:function(g){var e=this.model.getModule(g.id),f,c=false;if(e.id==="about"&&g.data.Infobox){f=new b.Models.Modules.AboutInfoBox(g.data);c=f.maps.length}return e.id==="maps_maps"||e.id==="maps_places"||c},_appendView:function(f,n,c){var j=f.model.id;if(!this.views[j]){var h=f.model.position,m=this._getSelector(h,f);if(!m.selector||!m[0]){return}if(n){m=n}else{if(h===b.Models.ModulesPositions.SIDE&&f.slotted){m=".js-vertical-sidebar-slotted-modules"}}try{var g=new b.Utils.TabViewBuilder(),k=g.build({model:f.model,appendTo:m});k.renderedPosition=h;k.show();if(!f.slotted&&f.triggered){b.pageLayout.recordDeviation(f.model.id,"module",null,f,"triggering")}if(c){k.menuAdded=true}this.views[j]=k;b.openPixel.fire(f,"i");if($.isFunction(f.model.canShowSnippet)&&f.model.canShowSnippet()){this.snippet=g.buildSnippet({prependTo:this._selectors[b.Models.ModulesPositions.TOP],answer:f.model});b.pageLayout.recordDeviation("local-snippet","other","mainline")}if(k.model.headerType>0){b.duckbar.failed("maps_maps")}}catch(i){b.pixel.fire("jse","serp",{msg:encodeURIComponent(i.message)})}}else{if(this.views[j].$el.is(":hidden")){this.views[j].$el.show();if(!f.allowModuleIA){b.openPixel.fire(f,"i")}}}},_combineSelectors:function(g){var f={};for(var e in g){var c=b.Models.ModulesPositions[e];if(c){f[c]=g[e]}}return f},_slotModules:function(){for(var f in this.model.slots){var e=this.model.slots[f],c=this.model.getModule(e.name);if(c){if(!this._canSlotModule(e,c)){b.pageLayout.recordDeviation(c.model.id,"module",e.area,c,"placement");delete this.model.slots[f];continue}c.slotted=true;c.model.isAtBottom=e.isAtBottom&&c.position===DDG.Models.ModulesPositions.TOP;this._appendView(c,e.$el)}else{this.model.slotsPendingRender.push(e)}delete this.model.slots[f]}},_renderSideModules:function(){var c=this.model.getModules(b.Models.ModulesPositions.SIDE);for(var f=0;f<c.length;f++){var e=c[f];if(e&&this.model.canShowModule(e.model.id)){b.addClass("html",b.$html,"has-right-rail-module");this._appendView(e)}this._showPendingTabs()}if(this.model.autoOpenedId){this._showPendingTabs()}},_canSlotModule:function(e,c){return(e.area==="sidebar"&&c.isSideModule)||(e.area==="mainline"&&this.model.isTopModule(c.id))},_onDeepFinished:function(){this._showAboutTabIfMissing();this._render()}})}(DDG);!function(b){var a=b.Views.Base;b.Views.ModuleContainer=function(c){a.call(this,c)};b.Views.ModuleContainer.prototype=$.extend({},a.prototype,{template:"module_container",_render:function(c){a.prototype._render.call(this,c)}})}(DDG);!function(b){var a=b.Models.Base;b.Models.AdReporting=function(c){this.endpoint={shopping:{},SERPAds:{}};this._hasTriedSendingProductAds=false;a.call(this,{})};b.Models.AdReporting.prototype=$.extend({},a.prototype,{sendSERPAdImpressions:function(e,g,k,c){var m=e.items&&e.items.length||e.config.hasProductAds,n=1000,p=e.products.mainline.hidden,h=e.products.sidebar.hidden;if(!this.endpoint.SERPAds.impression||!m){return}if(!b.duckbar.getActiveTab()){if(!c||c<5){c=c?c+1:1;setTimeout(function(){this.sendSERPAdImpressions.call(this,e,g,k,c)}.bind(this),n);return}else{if(c>=3){b.pixel.fire("im","t",{r:c,t:n})}}}var o=this.endpoint.SERPAds.impression,i=b.history.get("ia"),j=this._getSERPAdImpressionString(e);o+="&impr="+j;if((p.length||h.length)&&!this._hasTriedSendingProductAds){var f=p.concat(h).join(",");o+="&rvf="+encodeURIComponent(f)}this._hasTriedSendingProductAds=true;if(b.deep.pageNumber===1&&i&&i!=="web"&&g.mainline&&g.mainline.hasAds&&b.duckbar.getActiveTab()){o+="&aba=1"}this._sendFeedbackRequest({url:o,complete:k,errorPixel:"im",errorSubPixel:"x"})},sendShoppingImpressions:function(c){var f=[],g=c.filter(function(h){return !h.hasReportedImpression}),e=this._formatImpressionItems(g,"c");g.forEach(function(h){if(!h.inViewport){if(b.device.isMobileDevice){h.hasReportedMobileHidden=true}f.push(h.tid)}h.hasReportedImpression=true});this._sendFeedbackRequest({url:this.endpoint.shopping.impression,payload:{impr:e,rvf:f.join(",")},errorPixel:"im",errorSubPixel:"px"})},sendProductAdVisibility:function(e){if(e.length&&this.endpoint.SERPAds.visibility){var c=this.endpoint.SERPAds.visibility,f=e.join(",");c+="&vis="+encodeURIComponent(f);this._sendFeedbackRequest({url:c,errorPixel:"vi",errorSubPixel:"x"})}},sendShoppingVisibility:function(c){if(c.mobile){var e=c.items.filter(function(f){return f.inViewport&&!f.hasReportedMobileVisibility&&f.hasReportedMobileHidden}).map(function(f){f.hasReportedMobileVisibility=true;return f.tid});if(e.length>0){this._sendFeedbackRequest({url:this.endpoint.shopping.visibility,payload:{vis:e.join(",")},errorPixel:"vi",errorSubPixel:"px"})}}else{if(c.unsentHoveredItems&&c.unsentHoveredItems.length>0){this._sendFeedbackRequest({url:this.endpoint.shopping.visibility,beacon:c.beacon,payload:{vis:c.unsentHoveredItems.join(",")},errorPixel:"vi",errorSubPixel:"px"})}}},setEndpoint:function(e,c){if(!this.endpoint[e]){return}for(var f in c){if(c[f]===false){delete this.endpoint[e][f]}else{this.endpoint[e][f]=c[f]}}},hasEndpoint:function(c,e){return !!b.getProperty(this,"endpoint."+c+"."+e)},_sendFeedbackRequest:function(e){if(!e.url){b.pixel.fire(e.errorPixel,"me",{error:"missing endpoint for: "+e.errorSubPixel});return}var c=function(h){$.ajax({url:h.url,data:h.payload||null,async:!h.synchronousRequest,error:function(k,j,i){b.pixel.fire(h.errorPixel,h.errorSubPixel,{status:j,error:k.responseText,code:k.status})},success:function(){if(h.errorPixel==="im"&&h.errorSubPixel==="x"){b.pixel.fire("im","s")}},complete:h.complete||null})},f=function(m){if(navigator&&navigator.sendBeacon){var o=new FormData(),i=m.url.split("?"),n=i[0],h=i[1],j=$.extend(m.payload||{},g(h));for(var k in j){o.append(k,j[k])}navigator.sendBeacon(n,o)}else{c($.extend(m,{synchronousRequest:true}))}},g=function(i){var h={};i.split("&").forEach(function(n){var k=n.split("="),j=k[0],m=k[1];h[j]=decodeURIComponent(m)});return h};if(e.beacon){f(e)}else{c(e)}},_formatImpressionItems:function(e,c){var f=e.map(function(h){var g=(h.tid||h)+(c||h.position).substring(0,1);if(h.visibleExtensions&&h.visibleExtensions.length>0){g+=":"+h.visibleExtensions.map(function(i){return encodeURIComponent(i)}).join(";")}return g});return f.join("|")},_getSERPAdImpressionString:function(f){var h="",g=(f.products.mainline.visible.length||f.products.mainline.hidden.length||f.products.sidebar.visible.length||f.products.sidebar.hidden.length);if(!f.rendered.length&&!g){return h}h+=this._formatImpressionItems(f.rendered);if(g&&!this._hasTriedSendingProductAds){if(h!==""){h+="|"}for(var e in f.products){var c=f.products[e].visible.concat(f.products[e].hidden);h+=this._formatImpressionItems(c,e)}}h=encodeURIComponent(h);return h}})}(DDG);!function(f){var e=f.Models.Base,a={wikipedia_fathead:"about"},c={ad:1,products:1,wikipedia_fathead:1},g=["maps_maps","wikipedia_fathead","maps_places","about"],b={high:3,medium:2,low:1},h="SERPAds";f.Models.PageLayout=function(i){this.organics={config:{count:0,slots:{}}};this.ads={config:{count:0,slots:{}},rendered:[],products:{mainline:{visible:[],hidden:[]},sidebar:{visible:[],hidden:[]}}};this.deviations={};this.disambiguationSignals=[];this.slottingEnabled=true;e.call(this,{});this.adReporting=new f.Models.AdReporting();this.bindEvents([[f.deep,"rendered",function(){this.adReporting.sendSERPAdImpressions(this.ads,this.layout,this.resetSERPAdState.bind(this))}.bind(this)]])};f.Models.PageLayout.prototype=$.extend({},e.prototype,{ignoreSlotting:function(){this.slottingEnabled=false},isSlottingEnabled:function(){return this.slottingEnabled},canSendSERPAdImpressions:function(){return !!(this.layout&&this.ads.items&&this.adReporting.hasEndpoint(h,"impression"))},initialize:function(k,j){var i=j&&typeof j.start!=="undefined"&&Number(j.start)===0;if(i&&DDG.deep.fallback&&DDG.deep.finished){f.pixel.fire("ddr");return}this.set("layout",k);if(this.layout&&this.layout.sidebar&&f.device.isMobile){f.pixel.fire("bms")}this._layoutMainline();this._layoutSidebar();nrn("a",this.ads.items);nrn("d",this.organics.items)},load:function(m,j,k){if(m==="a"){this.ads.items=j;if(k){var i={impression:k.page_load_url};if(!this.adReporting.hasEndpoint(h,"visibility")){i.visibility=k.visibility_url}this.adReporting.setEndpoint(h,i)}}else{if(m==="d"){this.organics.items=j}}},recordDeviation:function(j,m,n,k,o){if(!j||!m||!this.isSlottingEnabled()){return}try{if(m==="module"&&k){n=n||k.isSideModule?"sidebar":"mainline";this.deviations[j]={area:n,type:m}}else{if(m==="ia"){n=n||"mainline";this.deviations[j]={area:n,type:m}}else{if(n){this.deviations[j]={area:n,type:m}}}}if(this.deviations[j]){if(!this.isSlottingEnabled()){o="ignore"}this.deviations[j].reason=o||"unknown"}}catch(i){f.pixel.fire("devx","r",{msg:i})}},sendDeviations:function(){try{var m={};this.finalDeviations=$.extend({},this.deviations);f.modulesLayout.slotsPendingRender.forEach(function(p){m[p.name]={area:p.area,type:"module"}});for(var j in m){if(this.finalDeviations[j]){this.finalDeviations[j].reason="relocated"}else{this.finalDeviations[j]=$.extend(m[j],{reason:"data"})}}var n="";if(!this.finalDeviations){return}for(var k in this.finalDeviations){if(n!==""){n+=","}var o=this.finalDeviations[k];if((o.type==="ia"||o.reason==="triggering"||o.reason==="unknown"||o.reason==="relocated")&&this.layout[o.area]){o.aboveAd=this.layout[o.area].hasAds}n+=k+":"+o.type+":"+o.area+":"+o.reason+":"+(o.aboveAd?1:0)}if(n!==""){f.pixel.fire("dev",{d:n})}}catch(i){f.pixel.fire("devx","s",{msg:i})}},isDisambiguationSignal:function(i){if(i.from&&g.indexOf(i.from)!==-1){var j;this.disambiguationSignals.forEach(function(m,k){if(m.from===i.from){j=true;if(b[i.signal]>b[m.signal]){m.signal=i.signal}}});if(!j){this.disambiguationSignals.push(i)}return true}},shouldShowExpandedModule:function(i){if(!this.isSlottingEnabled()){return false}return(f.history.get("iax")===i||f.hidden.get("iar")===i)},reportTextAdVisible:function(j,i){if(!j.adext||!j.adext.tid){return}var k={tid:j.adext.tid,position:j.side?"sidebar":"mainline",visibleExtensions:[]};if(i){i.forEach(function(m){if(m){if(m.tid){k.visibleExtensions.push(m.tid)}if(m.tids){k.visibleExtensions=k.visibleExtensions.concat(m.tids)}}})}this.ads.rendered.push(k)},reportProductAdVisibility:function(i,m,k){var j=[];m.forEach(function(n){if(!n.model.tid){return}var p=n.model.tid;if(this.ads.products[i].visible.indexOf(p)===-1){this.ads.products[i].visible.push(p);j.push(p)}var o=this.ads.products[i].hidden.indexOf(p);if(o!==-1){this.ads.products[i].hidden.splice(o,1)}}.bind(this));if(k){k.forEach(function(n){if(!n.model.tid||this.ads.products[i].hidden.indexOf(n.model.tid)!==-1||this.ads.products[i].visible.indexOf(n.model.tid)!==-1){return}this.ads.products[i].hidden.push(n.model.tid)}.bind(this))}return j},convertSlotToModuleName:function(i){return a[i]||i},isFirstValidSidebarItem:function(i){var j=f.getProperty(this,"layout.sidebar.items");if(j){for(var k in j){if(c[j[k][0]]){return j[k][0]===i}}}return false},sortModulesBySlottedInSidebar:function(j){var k=f.getProperty(this,"layout.sidebar.items");if(k){var i={};for(var n in k){var m=this.convertSlotToModuleName(k[n][0]);i[m]=n}j.sort(function(p,o){return i[p.id]-i[o.id]})}},_layoutMainline:function(){if(!this.layout||!this.layout.mainline||!this.layout.mainline.items){return}this._addSlots("mainline");this._returnFutureSignals()},_layoutSidebar:function(){if(!this.layout||!this.layout.sidebar||!this.layout.sidebar.items){this.sidebarReady=true;return}var k=this.ads.config.count;this._addSlots("sidebar");var j=(this.layout.sidebar.items[this.layout.sidebar.items.length-1][0])!=="ad",i=(k===this.ads.config.count);if(j||i){this.emit("renderSidebarSlots")}this.sidebarReady=true},_disambiguateSignals:function(n,i){if(!n.length||n.length<=1){return}var m={mainline:["wikipedia_fathead"],sidebar:["maps_maps"]};if(!m[i]){return}n=n.filter(function(p){return m[i].indexOf(p)===-1});if(!n.length||!f.duckbar.futureSignals){return}var o={low:[],medium:[],high:[]},k=this.disambiguationSignals;if(i==="sidebar"){k=f.duckbar.futureSignals}k.forEach(function(p){if(n.indexOf(p.from)!==-1&&o[p.signal]){o[p.signal].push(p.from)}});var j;if(o.high.length){j=o.high[0]}else{if(o.medium.length){j=o.medium[0]}else{if(o.low.length){j=o.low[0]}}}if(i==="mainline"){this.disambiguationSignals=this.disambiguationSignals.filter(function(p){return p.from!==j})}return j},_addSlots:function(k){var n=[];var s=this.getInstance("settings").autoloadDisabled();var m="";var j=0;var p=this.layout[k].items;for(var o=0,q=0;q<10&&o<p.length-1;o++){if(p[o].length&&p[o][0]==="organic"){q+=1}j=o}var r=p[p.length-1][0]==="related_searches";if(k==="mainline"&&s&&r){p.splice(j+1,0,p[p.length-1]);p.splice(-1,1)}this.layout[k].items.forEach(function(u,i){var t=u[0];if(t==="ad"){if(n.length){this.ads.config.slots[this.ads.config.count]={modules:n,area:k};n=[]}if(k==="sidebar"&&this.ads.items[this.ads.config.count]){this.ads.items[this.ads.config.count].side=true}this.ads.config.count+=1;this.layout[k].hasAds=true}else{if(this.isSlottingEnabled()&&t==="organic"){if(n.length){this.organics.config.slots[this.organics.config.count]={modules:n,area:k};n=[]}this.organics.config.count+=1}else{if(this.isSlottingEnabled()){if(u.length>1){t=this._disambiguateSignals(u,k);if(!t){this.recordDeviation(u.toString(),"module",k,null,"disambiguation");return}}t=this.convertSlotToModuleName(t);if(k==="mainline"&&t==="uselections"){this._handleElectionsException(t,k);return}if(!this.isSlottingEnabled()&&t!=="products"){this.recordDeviation(t,"module",k,null,"ignore");return}if(this._isStackedModule(t,m)){this.recordDeviation(u.toString(),"module",k,null,"stacked");return}n.push(t);if(i===this.layout[k].items.length-1){if(k==="sidebar"){this.ads.config.slots[this.ads.config.count]={modules:n,area:k};n=[]}else{if(k==="mainline"){this.organics.config.slots[this.organics.config.count]={modules:n,area:k};n=[]}}}}}}m=t}.bind(this))},_isStackedModule:function(j,i){if((j==="news"&&i==="videos")||(j==="videos"&&i==="news")){return true}},_returnFutureSignals:function(){this.disambiguationSignals.forEach(function(i){f.duckbar.future_signal_tab(i,true)})},resetSERPAdState:function(){this.adReporting.setEndpoint(h,{impression:false});delete this.ads.config.hasProductAds;this.ads.products.mainline.hidden=[];this.ads.products.sidebar.hidden=[];this.ads.rendered=[]},_handleElectionsException:function(i,j){var k=this.layout.mainline.items.some(function(m){return m.length&&m[0]==="news"});if(k){return}this.recordDeviation(i,"module",j,null,"relocated");this.emit("loadWithSignal",{module:"news"})}})}(DDG);!function(b){var a=b.Views.Base;b.Views.PageLayout=function(c){a.call(this,c);this.bindEvents([[this.model,"renderSidebarSlots",this._renderSidebarSlots]])};b.Views.PageLayout.prototype=$.extend({},a.prototype,{_render:function(){$.noop()},_renderSidebarSlots:function(){var e=".js-sidebar-ads",c="a",f=this.model.ads.config.slots.length;for(var g in this.model.ads.config.slots){this.renderModuleForSlot(c,g,e,f,"sidebar")}},renderModuleForSlot:function(f,e,c,h,g){if(f==="a"){f="ads"}else{if(f==="d"){f="organics"}}var i=this.model[f].config.slots[e];if(i&&i.modules&&i.modules.length){i.modules.forEach(function(m,k){var n=this.model[f].items[e];if(!g){if(f==="ads"&&n.side){g="sidebar"}else{g="mainline"}}if(i.area!==g){return}var o=new b.Views.ModuleContainer({slot:e,count:k,appendTo:$(c)});var j=e===h;b.modulesLayout.slotModule("m"+e+k,m,o.$el,g,j);i.modules[k]=null}.bind(this));i.modules=i.modules.filter(function(j){return j});if(!i.modules.length){delete this.model[f].config.slots[e]}}}})}(DDG);!function(h){var c={mlb_games:300,nfl_games:299,answer:200,maps_places:80,about:50,videos:-10,images:-20},e={maps_maps:400,forecast:49,products:199,news:-300,images:-51,maps_places_snippet:-300},j=250,g=5000,i=4000,f={high:3,medium:2,low:1},b={"item-selected":"onItemSelected","item-unselected":"onItemUnselected","item-shown":"onItemShown",show:"onShow",hide:"onHide"},a=DDG.get_now();h.Duckbar=function(){h.openPixel=new h.Models.OpenPixel({pageLoadTime:a});this.menu=new h.Models.AnswerBarMenu();this.modulesLayoutView=new h.Views.ModulesLayout({menu:this.menu,model:h.modulesLayout,verticalId:"web",selectors:{SIDE:".js-sidebar-modules",TOP:".js-ia-modules"}})};h.Duckbar.prototype={id:"duckbar",tabs:{},tabsByNameId:{},froms:{},activeTabId:null,futureSignals:[],futureSignalsById:{},failedIA:{},isReady:false,areOrganicsShowing:true,onReady:function(){this.isReady=true;this.$zeroClickWrapper=$("#zero_click_wrapper");this.$webContentWrapper=$("#web_content_wrapper");this.$verticalWrapper=$("#vertical_wrapper");this.$topModuleWrapper=$(".js-ia-modules");this.$el=$("#duckbar");h.keyboard.on("left",this._openNext.bind(this,"l"));h.keyboard.on("right",this._openNext.bind(this,"r"));this.menuView=new h.Views.AnswerBarMenu({appendTo:this.$el,model:this.menu});this.menu.on("item-active",this.open.bind(this));this.add({id:"web",name:"All",type:"static"});DDG.Data.StaticIAs.forEach(this.add.bind(this));h.router.add("toggle-map",this._toggleExpandedMap.bind(this));if(this.addOnReady){for(var k=0,m;m=this.addOnReady[k];k++){this.add(m)}}this.show("static");setTimeout("DDG.duckbar.show('placeholder')",g);setTimeout("DDG.duckbar.show('placeholder_images')",i)},getActiveTab:function(){return this.tabs[this.activeTabId]},setOrganicsVisibility:function(m,n){if(m){this.$webContentWrapper.removeClass("is-hidden");h.footer.set("visible",h.settings.isDefault("kav"));this.modulesLayoutView.recalculateModuleSizes()}else{if(n==="images"||n==="videos"){h.footer.set("visible",!h.settings.isDefault("kc"))}var k=h.getProperty(this,"tabs."+n+".view.modulesLayoutView");if(k){k.recalculateModuleSizes()}this.$webContentWrapper.addClass("is-hidden")}this.areOrganicsShowing=m},tabIsActiveFullPage:function(k){return k&&k.model&&k.model.active&&(k.model.id==="news"||k.model.expanded)&&k.model.isFullPage},addPlaceholder:function(m){if(this.openedTab||this.placeholder||h.history.get("iac")||!h.settings.isDefault("kz")||m==="maps_places"||(m==="maps_maps"&&h.getProperty(h,"modulesLayout.modules.directions"))){return}var k=new h.Models.Answer({id:"placeholder"});if(h.modulesLayout.isTopModule(m)){this.placeholder=new h.Views.Modules.Placeholder({model:k,signalWait:m,appendTo:this.$topModuleWrapper})}else{this.placeholder=new h.Views.AnswerBar.Answers.Placeholder({model:k,signalWait:m,appendTo:this.$zeroClickWrapper})}h.openPixel.firePlaceholder(m)},removePlaceholder:function(k){if(this.placeholder){this.placeholder.destroy();delete this.placeholder}},open:function(o,n){var p=this.tabs[o],q;n=n||{};if(o==="images"&&this.fallbackFromNonModule&&n.is_last_resort_tab&&n.autoOpened&&!n.placeholderIsModule){p=new DDG.DuckbarTab(this.fallbackFromNonModule);this.tabs.images=p;p.model.openType=h.openPixel.getOpenType(p.model,n);h.openPixel.fire(p)}if(h.deep.pending&&$.inArray(o,h.Data.DeferredVerticals)===-1){h.deep.run()}if(n.mapId||o==="maps_expanded"){this._toggleExpandedMap({model:n.answer||p.model,isMapExpanded:true,isDirections:h.history.get("iaxm")==="directions"||!!(h.modulesLayout&&h.modulesLayout.modules&&h.modulesLayout.modules.directions),isMapStart:!!(h.history.get("iaxm")==="start")});p=this.tabs.maps_expanded;if(p&&p.model){q=h.openPixel.getOpenType(p.model,n);p.model.openType=q;h.openPixel.fire(p);if(q==="q"){h.pageLayout.recordDeviation(p.id,"vertical")}}this.isDone=true;return}if(!p||(h.getProperty(p,"model.meta.hidden"))){return}q=h.openPixel.getOpenType(p.model,n);if(q==="e"||q==="d"){h.device.scrollTop(0)}if(n.autoOpened&&this.openedTab){return}if(n.autoOpened&&!h.settings.isDefault("kz")&&o!=="web"){return}this.openedTab=1;if(this.placeholder&&this.placeholder.isModule&&n.is_last_resort_tab&&o==="images"){p.model.openType=h.openPixel.getOpenType(p.model,n);h.openPixel.fire(p);this.menu.setActive("web");this.placeholder.showImages(this.tabs.images.model);return}if(this.placeholder){this.removePlaceholder("open")}var m=this.getActiveTab();if(m){var r=(m.model.isModule&&(m.model.allowVertical||m.model.allowModuleIA));if(m.id===o&&((p.model.isAutoLoadingImages&&p.model.isAutoLoadingImages(q))||!r)){return}if(!(m.model.openedFromModule&&h.device.isMobile)){DDG.ImageLoader.loadMore()}m.hide()}this.activeTabId=o;var v=p.model.meta;if(p.pixelId!=="web"&&q!=="e"&&q!=="b"){this.initialTabOpenType=q;this.initialTab=p}this.activeTabOpenType=q;if(typeof v.autoExpand==="undefined"){v.autoExpand=is_mobile?1:0}else{if(v.autoExpand&&!is_mobile&&q!=="e"){v.autoExpand=0}}if(v.autoExpand&&typeof v.autoExpandRows==="undefined"){var k=DDG.history.get("iai");v.autoExpandRows=(is_mobile&&(n.autoOpened||(n.qsOpened&&!k)))?1:0}if(p.model.allowVertical){if(q==="r"||q==="e"){p.isVertical=p.model.isVertical=true;p.isModule=p.model.isModule=p.isOrganicModule=p.model.isOrganicModule=false;h.history.set("iar",p.nameId)}}var u=(q==="b")&&(DDG.history.get("iar",true)===p.id);if(q!=="e"&&q!=="r"&&(p.model.allowVertical||p.model.allowModuleIA)&&p.module&&!u){p=this.tabs[p.id].module}if(this.tabs[o].model.allowModuleIA&&q==="e"&&h.getProperty(this,"initialTab.id")===o&&h.device.isMobile&&p.model.meta){p.model.meta.autoExpand=1;p.model.meta.autoExpandRows=0}p.show({openType:q,minimizeHeight:p.isModule,loadVertical:!n.autoOpened||q==="f",appendTo:(p.model.allowModuleIA&&q!=="e")?this.$topModuleWrapper:p.isVertical?this.$verticalWrapper:this.$zeroClickWrapper});var s=p.id;if(p.isModule&&q!=="e"&&(!this.initialTab||p.id===this.initialTab.id)&&!h.pageLayout.shouldShowExpandedModule(p.model.nameId)){s="web"}h.search.set("isVertical",p.isVertical);this.menu.setActive(s);var t=(p.id==="web"&&q!=="e")||n.skipPixel||(!p.model.active&&p.module);if(!t){h.openPixel.fire(p)}this.setOrganicsVisibility(!this.tabIsActiveFullPage(p),p.id);this.isDone=true;if(n.autoOpened||n.qsOpened){h.modulesLayout.set("autoOpenedId",p.id)}},add:function(p){if(p.meta&&p.meta.productAds){var q=h.settings.region.isProductAdsMarket(),r=p.meta.isShoppingVertical;if(!q&&!r){return}if(q&&!r){p.meta.hidden=true}}if(h.pageLayout.isSlottingEnabled()&&(p.id==="images"||p.id==="videos")){p.meta.autoExpand=0}if(p.id==="recipes"||p.id==="products"){p.allowModuleIA=1;p.showMainSource=1}if(p.id==="videos"&&p.parameters&&DDG.deep.isBingV7()){p.parameters=p.parameters.filter(function(y){return y.key!=="videoLicense"});p.meta.idField="url";h.Data.templates.groups.videos.item="videos_item_bing";delete h.Data.StaticIAs[1].meta.detailOverlay}var m=this._getAnswerName(p),k=this.getNameId(m);if((h.history.get("iax")===k||h.hidden.get("iar")===k)&&p.allowModuleIA){p.allowModuleIA=0}if(!this.isReady){if(!this.addOnReady){this.addOnReady=[]}this.addOnReady.push(p);return}if(p&&p.from&&p.from==="nfl_games"&&p.data&&p.data.length&&DDG.get_query().match(/super\s?bowl/i)){p.data=[p.data[p.data.length-1]];if(p.meta&&p.meta.primaryText){p.meta.primaryText="Super Bowl LV:"}}p.rt=rt;p.query=h.get_query();p.queryEncoded=h.get_query_encoded();p.activeTabOpenType=this.activeTabOpenType;var n=p.id||k,t=p.signal||"low",o=this.tabs[n];if(DDG.device.isMobile&&DDG.pageLayout.isSlottingEnabled()&&p.signal&&n==="about"){p.signal="low"}h.modulesLayout.addAnswer(n,p);if(p.from){this.froms[p.from]=true}if(p.isSideModule&&!p.isFullPage){this.futureSignals=this.futureSignals.filter(function(y){return y.from!==p.id});return}if(o){if(f[t]>f[o.signal]){o.signal=t}}else{if(h.modulesLayout.isTopModule(n)&&!p.allowVertical&&!p.allowModuleIA&&!h.pageLayout.shouldShowExpandedModule(k)){o=new DDG.NoOpDuckbarTab(n)}else{o=new DDG.DuckbarTab(p);if(p.id==="images"){this.fallbackFromNonModule=$.extend({},p,{allowModuleIA:false,isModule:false,preventModule:true,isNonModuleFallback:true},h.device.isMobile?{isFullPage:false,meta:{autoExpand:1}}:{})}if(p.allowVertical||p.allowModuleIA){o.module=new DDG.NoOpDuckbarTab(n)}}this.tabs[o.id]=o;this.tabsByNameId[o.nameId]=o;o.on("close",this.open.bind(this,"web",{defaultOpened:true}))}if(!p.isModule||p.allowVertical||p.allowModuleIA||h.pageLayout.shouldShowExpandedModule(k)){this.menu.addAnswer(o.model)}if(p.id!=="maps_expanded"&&(!p.serviceURL)){o.append(p)}for(var v in b){var s=p[b[v]];if(s&&typeof s==="function"){o.on(v,s)}}var u=h.history.get("ia");var x=h.history.get("iaxm")&&o&&o.id==="maps_expanded";if(k===h.hidden.get("iar")){this.open(o.id,{qsOpened:1})}else{if((x||u&&(u===o.id||u===o.nameId)&&o.id!=="maps_expanded")&&!(this.activeTabId&&this.getActiveTab().nameId===u)){setTimeout(this.open.bind(this,o.id,{qsOpened:1}),1)}setTimeout(this.show.bind(this,"add"),1)}return o},add_array:function(k){if(!k){return}for(var m=0;m<k.length;m++){this.add(k[m])}},add_local:function(p){var m=DDG.localAPI.getPlacesResponse(p);if(!m||!m.results||!m.results.length){return this.failed("maps_places")}var n=m.results.length===1;var k=n?"maps_places_single":"maps_places_multiple";var o={name:"Places",id:"maps_places",pixelId:k,allowMultipleCalls:true,data:m.results,signal:m.signal,proximity:m.proximity,local_source:m.local_source,geoip:m.geoip,obfusLoc:m.obfusLoc,distance:m.distance,biz_score:m.biz_score,cat_score:m.cat_score,chain_score:m.chain_score,delta:m.delta,isSingle:n,matches_location:m.matches_location,review_count:m.review_count,trigger_count:m.trigger_count,wiki_entity:m.wiki_entity,sourceName:m.sourceName,sourceId:m.sourceId,sourceUrl:m.sourceUrl,query_special_symbols:m.query_special_symbols,meta:{idField:"itemId",developer:[{name:"DDG Team"}],signal_from:"maps_places"}};if(DDG.device.isMobile&&DDG.pageLayout.isSlottingEnabled()){delete o.signal;this.future_signal_tab({signal:m.signal,from:"maps_places"})}this.add(o)},add_directions:function(m){var k=h.localAPI.getDirectionsResponse(m);if(!k||!k.results||!k.results.length){return this.failed("directions")}this.add({data:k.results,id:"directions",name:"Directions",answerType:"directions",allowMultipleCalls:true})},failed:function(n){var m=new Date().getTime();this.failedIA[n]=m;if(this.tabs[n]){this.tabs[n].failed()}var k=j;if(e[n]){k+=e[n]}if(DDG.deep.finished&&(m-DDG.deep.finished<k)){DDG.pixel.fire("iafp",n,{failedAt:(m-DDG.deep.finished)})}return false},future_signal_tab:function(m,k){if(!m||!m.from){return}if(!h.modulesLayout.canAddSignal(m)){return}if(DDG.search&&DDG.search.isNavigational&&m.from==="news"&&this.tabs&&this.tabs.news){return}if(!m.signal){m.signal="high"}if(!m.timeout){m.timeout=(m.signal==="high")?3000:1500}m.now=DDG.get_now();if(this.failedIA[m.from]){return}if(DDG.pageLayout.isSlottingEnabled()&&!k&&DDG.pageLayout.isDisambiguationSignal(m)){return}if(m.from==="maps_places"&&m.hasInfoSelector){m.from+="_snippet"}this.futureSignals.push(m);this.futureSignalsById[m.from]=m.signal;this.futureSignals=this.futureSignals.sort(function(o,n){return(f[o.signal]>f[n.signal])?-1:1})},show:function(F){var C="",q=DDG.get_now(),t=[],z=[],y=0,o=[],E=[],s=[],D=q-a;for(var G in this.futureSignals){G=this.futureSignals[G];if(this.failedIA[G.from]||G.signal==="low"||h.history.get("ia")){continue}if(G.signal=="high"){t[G.from]=1}else{if(G.signal=="medium"){z[G.from]=1}}if(this.froms[G.from]){continue}if(this.tabs[G.from]){var p=this.tabs[G.from];if(p.type!=="static"){continue}else{if(p.numItems()!==0){continue}}}if((q-G.now)<G.timeout){y=G.from;break}}for(var I in this.tabs){p=this.tabs[I];if(this.openedTab||h.history.get("ia")){continue}var m=0;if(t[p.id]||t[p.from]){m=1}if(m){}if(!m&&(!p.signal||p.signal!=="high")){if(p.type!=="static"){if(p.signal==="medium"||z[p.id]||z[p.from]){if(DDG.device.isMobile&&DDG.pageLayout.isSlottingEnabled()&&p.id==="about"){continue}E.push(p)}else{s.push(p)}}else{if(this.placeholder&&this.placeholder.signalWait===p.id&&z[p.id]){E.push(p)}}continue}if(p.model.allowVertical&&p.module){p=this.tabs[p.id].module}if(p.type==="static"&&(p.numItems()===0)&&!p.model.waitingForItems){p.model.waitingForItems=true;p.model.emit("load");continue}if(!C){o.push(p)}else{if(m){o.push(p)}}}var v=0,x=0;if(!DDG.deep.started&&!o.length){v=1}if(y&&!o.length&&!this.modulesLayoutView.snippet){v=1;x=1}var H=y in e?e[y]:0;if(!this.openedTab&&v){if(!this.placeholder&&DDG.deep.timeSinceFinished()>(j+H)&&x){this.addPlaceholder(y)}if(this._showTimer){clearTimeout(this._showTimer)}this._showTimer=setTimeout(this.show.bind(this,"self"),50);return}var B,u=0;if(!this.openedTab&&(this.placeholder||o.length||E.length)){B=this._getBestTabToOpen({signalTabsHigh:o,signalTabsMedium:E,signalWatchHigh:t,modulesOnly:this.placeholder&&this.placeholder.isModule,iasOnly:this.placeholder&&!this.placeholder.isModule});if(!B&&this.placeholder&&(D>i||!v)){B=this._getLastResortTab({tabs:s,modulesOnly:this.placeholder&&this.placeholder.isModule,iasOnly:this.placeholder&&!this.placeholder.isModule});u=1;if(B){this._fireFallbackPixel(this.placeholder.signalWait)}}}if(!this.openedTab&&B){if(!this.placeholder&&B.id!=="maps_places"){var A=B.from||B.id,k=B.timeAdded-(h.deep.finished||q),r=j+(e[A]||0);if(k>r){return}}var n=this.placeholder&&this.placeholder.signalWait;this.open(B.id,{autoOpened:true,is_last_resort_tab:u,placeholderIsModule:n&&h.modulesLayout.isTopModule(n)})}else{if(this.placeholder&&D>g){this.placeholder.showNoResults()}}if(!this.activeTabId&&!this.placeholder&&!h.history.get("iar")&&!h.history.get("ia")&&h.deep.finished){h.duckbar.open("web",{autoOpened:true})}},getNameId:function(k){var m=h.strip_non_alpha(k.toLowerCase());return m!=="all"?m:"web"},load:function(m,k){if(m==="products"&&k){DDG.pageLayout.ads.config.hasProductAds=true}var o=this.tabs[m],n={keepServiceURL:true};if((m==="images"||m==="videos")&&k&&k.is_pixelated==="1"){n.pixelated=true}this.loadModule(m,k,n);if(o&&!o.model.noModuleItems){o.loadContent(k,n)}},loadModule:function(m,k,n){if(k){if(m==="related_searches"){this.add({id:"related_searches",name:"RelatedSearches",type:"static",answerType:"RelatedSearches",doNotCoerceData:true})}h.modulesLayout.loadContent(m,k,n||{})}},_getBestTabToOpen:function(p){var k=p.signalTabsHigh||[],r=p.signalTabsMedium||[],m=p.signalWatchHigh||{},q;for(var n=0;n<k.length;n++){var o=k[n];if(m[o.id]||m[o.from]){if(this._isCompatibleTab(o,p)){return o}}}q=this._getHighestRankingTab(k,p)||this._getHighestRankingTab(r,p);if(q){return q}else{if(this.tabs.answer&&this._isCompatibleTab(this.tabs.answer,p)){return this.tabs.answer}else{if(this.tabs.about&&this._isCompatibleTab(this.tabs.about,p)){return this.tabs.about}else{if(this.tabs.meanings&&this._isCompatibleTab(this.tabs.meanings,p)){return this.tabs.meanings}}}}},_isCompatibleTab:function(m,k){k=k||{};if(k.modulesOnly&&!m.isModule){return false}else{if(k.iasOnly&&m.isModule){return false}}return true},_getLastResortTab:function(k){var m=k.tabs||[];return this._getHighestRankingTab(m,k)||this.tabs.images},_getHighestRankingTab:function(m,o){var r=-1000,p="";for(var k=0;k<m.length;k++){var n=m[k],q=c[n.id]||c[n.from]||0;if(!this._isCompatibleTab(n,o)){continue}if(n.model&&n.model.meta&&n.model.meta.blockgroup==="goodie"){q+=1000}if(n.model&&n.model.queryMatch){q+=1000}if(q>r){r=q;p=n}}return p},_fireFallbackPixel:function(o){var q=this.futureSignals.map(function(z){return z.from+":"+z.signal}).join(","),k="",v="",n=new Date().getTime(),p,u,x;try{for(var r in this.failedIA){u=this.failedIA[r];x=u-DDG.deep.finished;if(k){k+=","}k+=(r+":"+x)}for(var m in this.tabs){p=this.tabs[m];x=p.timeAdded-DDG.deep.finished;if(p.type!=="static"){if(v){v+=","}v+=(m+":"+p.signal+":"+x)}}}catch(t){}var y={timeSincePageLoad:n-a,timeSinceDeepStarted:DDG.deep.timeSinceStarted(),timeSinceDeepFinished:DDG.deep.timeSinceFinished(),numSignals:this.futureSignals.length,numTabs:Object.keys(this.tabs).length,numFails:Object.keys(this.failedIA).length,signals:q,fails:k,tabs:v};var s=p.module&&p.module.model;if(s&&typeof s.resultNum!=="undefined"){y.l=s.resultNum;y.f=s.filteredNum}h.pixel.fire("iaff",o,y)},_getSideModuleOpenType:function(){if(this.activeTabId){return this.activeTabOpenType}return h.history.get("ia")?"q":"i"},_getAnswerName:function(m){var k=m.name||m.duckbar_topic||m.topic||"Answer";if(k==="qa"){k="Q/A"}return k},_openNext:function(k){if(h.keyboard.namespaced(/^autocomplete|modal$/)||h.keyboard.focusedOnInput()){return}var m=this.getActiveTab();if(m&&m.model.selectedItem){return}this.menu.openNext(k)},_toggleExpandedMap:function(m){var k=m.isMapExpanded||(m.state&&!!m.state.iaxm);if(this.verticalMap&&this.verticalMap.model){this.verticalMap.model.set("isDirectionsActive",!!m.isDirections);this.verticalMap.model.set("isMapStart",!!m.isMapStart);if(this.verticalMap.model.isMapExpanded===k){return}this.verticalMap.model.set("isMapExpanded",k)}if(k){if(m.isMapStart){h.history.set("iaxm","start")}else{if(m.isDirections){h.history.set("iaxm","directions")}else{h.history.set("iaxm",m.model.nameId||"maps")}}if(this.verticalMap){if(m.model.selectedItem&&m.model.selectedItem.itemId){h.history.set("iai",m.model.selectedItem.itemId)}this.verticalMap.show()}else{this._createVerticalMap({answer:m.model,directionsModel:m.directionsModel,isDirections:m.isDirections})}if(h.history.get("iar")){h.history.clear("iar")}}else{if(m.model.selectedItem&&m.model.selectedItem.itemId){m.model.selectedItem.unselect()}h.history.clear("iaxm","iai","iax","strict_bbox","bbox","metatoken","start","end","transport");this.verticalMap&&this.verticalMap.hide();this.modulesLayoutView.recalculateModuleSizes()}},_handleRequery:function(n){var p=n&&n.state,k=n&&n.model||this.verticalMap.model;h.history.set("iaxm",p&&p.iaxm||"maps");k.set("isMapStartActive",false);if(p&&k){var o=["q","bbox","strict_bbox","iai","metatoken"];for(var m=0;m<o.length;m++){var q=o[m];if(p[q]){h.history.set(q,p[q])}else{h.history.clear(q)}}}k.requery(n)},_createVerticalMap:function(n){if(!n.answer){}var q=n.answer;var o={maps_places:q.items.length===1?h.Views.Places.PlacesSingleMap:h.Views.Places.PlaceListItem,maps_maps:h.Views.Address.AddressDetail,about:h.Views.Modules.AboutMap};var k=q.items;if(q.id==="about"){try{k=[q.items[0].header.mapLocation]}catch(r){}}var p=new h.Models.Answers.ExpandedMap({data:q.data,answerItemModel:q.model,queryEncoded:q.queryEncoded,name:q.name,nameId:q.nameId,sourceName:q.sourceName,sourceUrl:q.sourceUrl,isMoreAtVisible:q.isMoreAtVisible,mapLocation:k&&k[0]});h.router.add("requery",this._handleRequery.bind(this));p.set("isMapExpanded",true);if(h.modulesLayout&&h.modulesLayout.modules&&h.modulesLayout.modules.directions){var s=true;var m=h.modulesLayout.modules.directions.directionsModel}p.directionsModel=n.directionsModel||m;this.verticalMap=new h.Views.Verticals.VerticalMap({appendTo:"body",ItemClass:o[q.id],locations:k,model:p,isDirectionsActive:n.isDirections||s,directionsModel:n.directionsModel||m,onMapReady:function(){this.verticalMap.model.set({shouldMapViewportUpdate:true,isSearchAreaBtnVisible:false});var u={};u.query=w.rq;u.strict_bbox=h.history.get("strict_bbox")||"0";if(h.history.get("bbox")){u.bbox=h.history.get("bbox")}if(h.history.get("iai")){u.iai=h.history.get("iai")}u.isFromStaticMapsTab=true;if(this.verticalMap.directionsModel){this.verticalMap.directionsModel.set("isMapLoaded",true)}if(this.verticalMap.directionsModel&&(h.history.get("start")||h.history.get("end"))){var v=h.history.getComposite("start","what"),t=h.history.getComposite("start","where");if(v||t){u.start={};u.start.what=v?decodeURIComponentSafe(v):null;u.start.where=t?decodeURIComponentSafe(t):null}else{if(this.verticalMap.directionsModel&&this.verticalMap.directionsModel.userLocation){u.start={};u.start.coordinate=this.verticalMap.directionsModel.userLocation;u.start.display="Your Location"}}v=h.history.getComposite("end","what");t=h.history.getComposite("end","where");if(v||t){u.end={};u.end.what=v?decodeURIComponentSafe(v):null;u.end.where=t?decodeURIComponentSafe(t):null}u.transport=h.history.get("transport")||"drive";if(!this.verticalMap.directionsModel.canRoute){this.verticalMap.directionsModel.onDirectionsAction(u)}}else{if(h.history.get("iaxm")==="start"){this.verticalMap.model.onMapStartAction()}else{if(this.verticalMap.model.items.length===0){this.verticalMap.onRequeryAction(u)}}}}.bind(this)});this.verticalMap.model.on("change:isMapExpanded",function(u){if(!u){var t=this.activeTabId;if(h.getProperty(this,"initialTab.id")===t&&h.getProperty(this,"tabs."+t+".isModule")){t="web"}this.menu.setActive(t);this.verticalMap.model.set("active")}}.bind(this))}}}(DDG);!function(a){a.DuckbarTab=function(b){if(["videos","images"].indexOf(b.id)!==-1&&a.modulesLayout.getModule(b.id)&&!b.preventModule){this.model=a.modulesLayout.getModule(b.id).model}else{if(b.answerType&&a.Models.Answers[b.answerType]){this.model=new a.Models.Answers[b.answerType](b)}else{this.model=new a.Models.Answer(b)}}this.id=this.model.id;this.name=this.model.name;this.nameId=this.model.nameId;this.type=this.model.type;this.signal=this.model.signal;this.pixelId=this.model.pixelId;this.from=this.model.from;this.isModule=this.model.isModule;this.isSideModule=this.model.isSideModule;this.timeAdded=new Date().getTime();this.items=this.model.items;if(this.model.isFullPage){this.model.isRequery=a.hidden.get("iar")===this.nameId&&!a.history.get("iax");this.model.expanded=a.hidden.get("iar")===this.nameId}};a.DuckbarTab.prototype=$.extend({},EventEmitter2.prototype,{append:function(b){if(!b){return}if(this.model.active&&this.model.items.length&&a.history.get("iaf")){return}this.model.meta.update(b.meta);b.data=$.isArray(b.data)?b.data:[b.data||b];this.model.addItems(b.data,b.ads)},numItems:function(){return this.model.items.length},show:function(b){if(this.model.active){return}this.$parent=b.appendTo;if(this.id!=="web"&&!this.view&&!this._createView()){return}this.model.set("openType",b&&b.openType);if(b.loadVertical){if(DDG.deep.isBingV7()&&b.openType=="r"){this.model.on("load",this._onLoadedFromDeep.bind(this))}else{this.model.load()}}this.emit("show");if((this.isSideModule&&!this.model.isFullPage)){this.view.show();return}var c=a.history.get("iax")&&this.model.isFullPage;if(this.id!=="web"&&!(c||a.history.get("iar"))){a.pageLayout.recordDeviation(this.model.id,"ia",null,null,"triggering")}this.model.set("active",1);a.history.clear("iac");if(this._stashedHistory){a.history.set(this._stashedHistory);delete this._stashedHistory}if(this._stashedHidden){a.hidden.set("iaf",this._stashedHidden);delete this._stashedHidden}a.history.set({ia:this.nameId})},hide:function(){if(!this.model.active){return}if(!this.isSideModule){this._stashedHistory=a.history.getNamespace("ia");a.history.clearNamespace("ia");if(a.hidden.get("iaf")){this._stashedHidden=a.hidden.get("iaf");a.hidden.clear("iaf")}}this.model.set("active");this.emit("hide")},getHeight:function(b){return this.view&&this.view.getHeight&&this.view.getHeight(b)},destroyView:function(){this.view&&this.view.destroy();delete this.view;this.model.set("active")},failed:function(){this.model.set("failed",true)},loadContent:function(b,c){c=c||{};if(b&&b.results){if(this.id==="news"){this.model.initialLoad=true;if(a.search.spelling){this.model.spellingCorrected=true;this.model.queryEncoded=a.search.spelling.parsedQuery}}this.model.addItems(b.results,c)}this.model.emit("load")},_createView:function(){var b=new a.Utils.TabViewBuilder();this.view=b.build({model:this.model,appendTo:this.$parent,events:{close:this.emit.bind(this,"close"),"item-selected":this.emit.bind(this,"item-selected"),"item-unselected":this.emit.bind(this,"item-unselected"),"item-shown":this.emit.bind(this,"item-shown")}});return !!this.view},_onLoadedFromDeep:function(){this.model.load()}})}(DDG);!function(a){a.NoOpDuckbarTab=function(b){this.model=a.modulesLayout.getModule(b).model;this.id=b;this.name=this.model.name;this.nameId=this.model.nameId;this.type=this.model.type;this.signal=this.model.signal;this.pixelId=this.model.pixelId;this.from=this.model.from;this.isModule=this.model.isModule;this.isSideModule=this.model.isSideModule;this.timeAdded=new Date().getTime();this.items=this.model.items};a.NoOpDuckbarTab.prototype=$.extend({},EventEmitter2.prototype,{append:function(b){$.noop},numItems:function(){return this.model.items.length},show:function(b){a.modulesLayout.setOpenType(this.id,b.openType);if(b.openType==="i"||b.openType==="q"){a.modulesLayout.setDefaultTopModule(this.id)}a.history.clear("iac");if(this._stashedHistory){a.history.set(this._stashedHistory);delete this._stashedHistory}a.history.set({ia:this.nameId})},hide:function(){if(!this.model.active){return}this._stashedHistory=a.history.getNamespace("ia");a.history.clearNamespace("ia");if(a.hidden.get("iaf")){this._stashedHidden=a.hidden.get("iaf");a.hidden.clear("iaf")}},getHeight:function(b){$.noop},destroyView:function(){$.noop},failed:function(){this.model.set("failed",true)}})}(DDG);!function(c){var b=c.Models.AnswerSelectLists,a=c.Models.SelectList;b.Parameter=function(e){a.call(this,e)};b.Parameter.prototype=$.extend({},a.prototype,{serialize:function(){if(!this.selected||!this.selected.id||this.disabled){return""}return this.key+":"+this.selected.id}})}(DDG);!function(c){var b=c.Models.AnswerSelectLists,a=c.Models.SelectList;b.Source=function(e){e.key="src";a.call(this,e)};b.Source.prototype=$.extend({},a.prototype,{getParameterQueryString:function(){if(!this.parameters){return""}var e="";if(this.selected.id==="local"){e+=this.parameters.map(function(f){return f.key+"="+f.selected.id}).join("&")}else{e="f=";e+=this.parameters.map(function(f){return f.serialize()}).join(",")}return e},hasActiveFilters:function(){return this.parameters&&this.parameters.some(function(e){return e.selected&&e.selected.id})},getRequeryURL:function(f){var g;var e=this.selected.requeryURL;if(typeof e==="function"){e=e()}if(this.selected.id==="local"&&f&&f.queryParsed){g=f.queryParsed.what}else{if(f&&f.query){g=f.query}else{g=c.get_query_encoded()}}e+=g+"&vqd="+(f&&f.vqd||window.vqd);if(e.indexOf("?")===-1){e+="?"}else{e+="&"}e+=this.getParameterQueryString();if(f){delete f.query;delete f.vqd}if(!$.isEmptyObject(f)){e+="&"+$.param(f)}return e}})}(DDG);!function(c){var b=c.Models.AnswerSelectLists,a=c.Models.SelectList;b.DirectionSource=function(e){e=e||{};e.values=this._getSources();e.selectedId=c.settings.get("kam");a.call(this,e);c.settings.on("change:kam",this.select.bind(this))};b.DirectionSource.prototype=$.extend({},a.prototype,{_getSources:function(){var e=DDG.Data.Settings.directionSources;return Object.keys(e).map(function(f){return $.extend({},e[f],{id:f})})},_createURLForLocation:function(f,g){var e;if(f&&g&&g.address&&g.lat&&g.lon){e=f;e=e.replace(/\{\{addr\}\}/g,g.address);e=e.replace(/\{\{lat\}\}/g,g.lat);e=e.replace(/\{\{lng\}\}/g,g.lon)}return e},getDirectionsURL:function(e){if(!this.selected){return""}return this._createURLForLocation(this.selected.directionsURL,e)},getMapURL:function(e){if(!this.selected){return""}return this._createURLForLocation(this.selected.mapURL,e)},getMapTitleText:function(){var e=this.selected.name;return lp("open_in_third_party_app","Open in %s",e)},getSourcesForLocation:function(e){return this._getSources().map(function(g){var f=this._createURLForLocation(g.mapURL,e);return{id:g.id,name:g.name,mapURL:this._createURLForLocation(g.mapURL,e),directionsURL:this._createURLForLocation(g.directionsURL,e),faviconURL:g.faviconURL||f}}.bind(this))},getNonDefaultSourcesForLocation:function(e){return this.getSourcesForLocation(e).filter(function(f){return !this.selected||f.id!==this.selected.id}.bind(this))}})}(DDG);!function(b){var a=b.Models.Answer;b.Models.Answers.Maps=function(c){a.call(this,c)};b.Models.Answers.Maps.prototype=$.extend({},a.prototype,{answerItemModel:"MapLocation",addItems:function(c){a.prototype.addItems.call(this,c);if(this.items.length&&!this.selectedItem&&this.answerItemModel==="MapLocation"){this.items[0].select()}}})}(DDG);!function(b){var a=b.Models.Answer;b.Models.Answers.News=function(c){a.call(this,c);if(this.model){this.bindEvents([[this.model,"load",this._load],[b.pageLayout,"loadWithSignal",this._onLoadWithSignal]])}};b.Models.Answers.News.prototype=$.extend({},a.prototype,{answerItemModel:"News",_load:function(){if(!this.items.length&&this.model.waitingForItems){b.pixel.fire("nts");this.model.load()}},_onLoadWithSignal:function(c){if(c.module&&c.module==="news"){this.model.load();b.duckbar.future_signal_tab({signal:"high",from:"news"})}},_setFailed:function(){this.set("failed",true);Spice.failed(this.pixelId)},_filterOutOldArticles:function(c){this.resultNum=c.results.length;if(!this.isVertical){c.results=$.grep(c.results,function(e){return !e.is_old})}this.filteredNum=this.resultNum-c.results.length},_onLoad:function(c){if(c&&c.results){c=$.extend({},c,true);this._filterOutOldArticles(c)}a.prototype._onLoad.call(this,c);if(this.id==="news"&&(this.openType==="e"||this.openType==="r")){b.pixel.fire("nv",{o:this.openType,p:(b.page&&b.page.showingSpelling?1:0),t:(b.get_query().match(/\"/)?1:0),l:this.items.length,r0:(this.items.length===0?1:0),r1:(this.items.length<3?1:0),r2:(this.items.length<5?1:0),r3:(this.items.length<10?1:0)})}}})}(DDG);!function(b){var a=b.Models.Answer;b.Models.Answers.About=function(c){a.call(this,c)};b.Models.Answers.About.prototype=$.extend({},a.prototype,{hasContentHeight:function(){var c=this.items&&this.items[0];return c&&c.hasPredictableExpandableContent()}})}(DDG);!function(b){var a=b.Models.Answer;b.Models.Answers.Forecast=function(c){a.call(this,c)};b.Models.Answers.Forecast.prototype=$.extend({},a.prototype,{})}(DDG);!function(e){var b=e.Models.Answer,c=e.device.isMobile?2:8,g=10,a=160,h=40,f=59;e.Models.Answers.Images=function(i){i.detailScrollOffset=h;i.tileMarginBottom=f;b.call(this,i)};e.Models.Answers.Images.prototype=$.extend({},b.prototype,{getModuleRow:function(u,r,j){var o=[];var x={};var p=0;u=u||0;for(var s=u;s<this.items.length;s++){if(!this.items[s]){break}x=this.items[s];x.rq=rq;x.kurl=kurl?kurl:"";var q=x.width<=x.height,t=x.width/x.height;x.scaledHeight=j-c;x.divHeight=x.scaledHeight;x.scaledWidth=Math.floor(x.scaledHeight*t);x.divWidth=q?x.scaledWidth:x.scaledWidth*2/3;p+=x.divWidth;if(DDG.deep.isBingV7()){var m=x.thumbnail+"&h="+a;x.moduleThumbnail=e.getImageProxyURL(m)}else{x.moduleThumbnail=e.getImageProxyURL(x.thumbnail,{height:a})}o.push(x);if(p>r){break}}var k=c*(o.length-1),v=r-(p+k),n=Math.ceil(v/o.length);p=0;for(s=0;s<o.length;s++){x=o[s];x.divWidth+=n;if(x.divWidth>x.scaledWidth){x.divWidth=x.scaledWidth}x.divWidth=Math.max(x.divWidth,g);p+=x.divWidth;x.lastOfRow=s===o.length-1}v=r-(p+k);if(x.scaledWidth>x.divWidth+v){x.divWidth+=v}return o},isAutoLoadingImages:function(i){return i==="q"&&this.expanded!==false&&this.isModule}})}(DDG);!function(c){var a=c.Models.Answer,e=3,b=["streetaddress","hours","phone"];c.Models.Answers.Places=function(f){a.call(this,f);this.staticMapTitle=this._getStaticMapTitle();this.moreAtExternalServiceText=this._getMoreAtExternalServiceText();this.infoSelector=this._getInfoSelector(this.query_special_symbols);this.on("change:expanded",this._togglePrimaryPlace)};c.Models.Answers.Places.prototype=$.extend({},a.prototype,{addItems:function(f){a.prototype.addItems.call(this,f);if(this.items&&this.items.length>0){this.primaryPlace=this.items[0];this.topPlaces=this.items.slice(0,e);this.topPlaces=this.topPlaces.map(function(g){g.set("isSideModule",this.isSideModule);return g}.bind(this));this.isSingle=this.items.length===1;this.set("isMoreAtVisible",!this.isSingle);this.canExpand=!this.isSideModule&&this.isSingle&&this.primaryPlace&&$.isFunction(this.primaryPlace.isExpandable)&&this.primaryPlace.isExpandable()}},isExpandable:function(){return this.canExpand},toggleExpand:function(){this.set("expanded",!this.expanded)},_togglePrimaryPlace:function(){if(this.primaryPlace){this.primaryPlace.toggleExpand()}},_getStaticMapTitle:function(){return lp("maps_places","Open Expanded Map")},_getMoreAtExternalServiceText:function(){var f=this.sourceName;return l("More at %s ",f)},_getInfoSelector:function(g){if(!$.isArray(g)){return""}var f=g.filter(function(h){return b.indexOf(h)!==-1}).sort(function(i,h){return b.indexOf(i)-b.indexOf(h)});return f[0]||""}})}(DDG);!function(c){var b=c.Models.Answer,a={Price:true};c.Models.Answers.Products=function(e){e.isAffiliate=1;e.bing=(e.meta.sourceName==="Bing");e.hasHiddenVertical=e.meta.hidden;e.canShowSidebarFilters=e.hasSidebarFilters&&!c.device.isMobile;if(e.bing){e.meta.idField="url"}b.call(this,e);this.on("change:position",this._onUpdatePosition.bind(this));this.on("change:expanded",this._onExpandedChanged.bind(this));if(this.bing){this.adReporting=new c.Models.AdReporting()}};c.Models.Answers.Products.prototype=$.extend({},b.prototype,{answerType:"Products",answerItemModel:"Product",clickedExternalLink:function(g,i){if(!i||!i.target){return b.prototype.clickedExternalLink.call(this,g)}var f=$(i.target),h=$(i.target.parentElement);if(f.hasClass("tile__media")){g.clk="i"}else{if(h.hasClass("tile__title--brand")){g.clk="b"}else{if(h.hasClass("tile__title")){g.clk="d"}else{g.clk="o"}}}this.emit("clicked-external-link");b.prototype.clickedExternalLink.call(this,g)},extraLoadRequestParameters:function(){var e="";if(c.extension.isInstalled()){e+="&ext=1"}if(window.ra!==""){e+="&a="+window.ra}if(window.shrl){e+="&mkt="+window.shrl}return e},_hasInitializedImpressionFeedback:false,_onExpandedChanged:function(){if(!(this.expanded===1&&this.bing&&!this._hasInitializedImpressionFeedback)){return}var f=function(){this.adReporting.sendShoppingVisibility({beacon:false,unsentHoveredItems:this._unsentHoveredItems});this._unsentHoveredItems=[]}.bind(this),e=function(){this.adReporting.sendShoppingVisibility({beacon:true,unsentHoveredItems:this._unsentHoveredItems});this._unsentHoveredItems=[]}.bind(this);this.on("change:highlightedItem",this._reportShoppingItemHovered.bind(this));this.on("clicked-external-link",f);this.on("change:isLoading",function(g){if(g){f()}});this.on("change:isRequerying",function(g){if(g){f()}});this.on("change:items",function(){if(this.expanded===1){this.adReporting.sendShoppingImpressions(this.items)}}.bind(this));this.on("change:active",f);$(window).on("beforeunload",e);setTimeout(f,55*60*1000);this._hasInitializedImpressionFeedback=true},_onUpdatePosition:function(){if(!c.device.isMobile&&this.position===c.Models.ModulesPositions.SIDE&&this.bing){var e=c.getProperty(this,"layout.columns")||3;this.gridColumns=(e&&Math.min(e,3));if(this.items&&(this.items.length==2||this.items.length==4)){this.gridColumns=2}if(this.gridColumns&&c.pageLayout.isFirstValidSidebarItem("products")===true){this.isSlottedFirst=1}}},_addItemsFromResponse:function(e){if(this.bing&&e&&e.feedback){this.adReporting.setEndpoint("shopping",{impression:e.feedback.impression,visibility:e.feedback.visibility})}if(e.filters){var f=function(i){var h=Object.keys(i)[0],n=i[h],m=n.filter(function(o){return o.is_selected}).map(function(o){return o.url}),k=this._filterNameToType(h),j=[{id:"",name:h,isHeader:true}];return{key:h,pixelName:this._formatKeyPixelName(h),header:h,type:k,selectedId:(m.length>1&&m)||m[0]||false,values:j.concat(n.map(function(o){return{id:o.url,name:o.display_text}})),singleChoice:!!a[k],bing:true}};var g=e.filters.map(f.bind(this));g=g.map(function(h){return new c.Models.AnswerSelectLists.Parameter(h)});this.set("parameters",g)}b.prototype._addItemsFromResponse.call(this,e)},_unsentHoveredItems:[],_reportShoppingItemHovered:function(){var e=this.highlightedItem;if(e&&!e.hasHovered&&!c.device.isMobileDevice){if(Math.random()>0.5){this._unsentHoveredItems.push(e.tid)}else{this._unsentHoveredItems.unshift(e.tid)}e.hasHovered=true}},_filterNameToType:function(e){var f={Price:"Price",Preis:"Price",Prix:"Price",Color:"Color",Colour:"Color",Size:"Size",Taille:"Size"};return f[e]||false},_formatKeyPixelName:function(e){return"sv_"+e.replace(" ","-").toLowerCase()}})}(DDG);!function(b){var a=b.Models.Answer;b.Models.Answers.Recipes=function(c){a.call(this,c)};b.Models.Answers.Recipes.prototype=$.extend({},a.prototype,{answerType:"Recipes",answerItemModel:"Recipe"})}(DDG);!function(b){var a=b.Models.Answer;b.Models.Answers.ExpandedMap=function(c){this.id="maps_expanded";this.name=c.name;this.nameId=c.nameId;this.answerItemModel=c.answerItemModel;this.isMapExpanded=true;this.isDirectionsActive=false;this.isMapStartActive=false;this.queryEncoded=c.queryEncoded;this.hasContentHeight=true;this.mapLocation=c.mapLocation;this.hasExampleSearches=null;this.hasNoResults=null;this.hasExternalDirectionsProvider=false;this.sourceId=c.sourceName;this.local_source=c.localSource;this.sourceName=c.sourceName;this.sourceUrl=c.sourceUrl;var f={id:"local",requeryURL:b.services.getURL("local")};var e=[{key:"tg",values:[{id:"maps_places"}]},{key:"rt",values:[{id:"D"}]},{key:"mkexp",values:[{id:"b"}]},{key:"wiki_info",values:[{id:"1"}]}];c.sources=[f];c.parameters=e;c.meta=c.meta||{};c.meta.idField="itemId";this._metaTokens=[];this.moreAtExternalServiceText=this._getMoreAtExternalServiceText();b.router.add("map-start",this._handleMapStart.bind(this));a.call(this,c);if(c.data){this.addItems(c.data)}};b.Models.Answers.ExpandedMap.prototype=$.extend({},a.prototype,{addItems:function(c){this.sourceName="";this.sourceId="";this.local_source="";var e=c[0]||c;if(e){if(this.answerItemModel==="About"){this.sourceName=e.AbstractSource}else{if(this.answerItemModel==="Place"){this.sourceName=e.source;this.sourceId=e.sourceId;this.local_source="api"}}}a.prototype.addItems.call(this,c);if(this.items.length&&!this.selectedItem&&this.answerItemModel==="MapLocation"){this.items[0].select()}},requery:function(g){var i={};i.is_requery="1";i.query=g.query||g.q||this.meta.requery;if(i.query===decodeURIComponentSafe(i.query)){i.query=encodeURIComponent(i.query)}if(g.queryParsed){i.queryParsed=g.queryParsed}var o=this.geo_bbox||this._glMapModel.getApproximateGeoBBox();if(g&&g.bbox){var h=g.bbox.split(",");i.bbox_tl=h[0]+","+h[1];i.bbox_br=h[2]+","+h[3]}else{if(o&&!(g&&g.isFromHistory)){i.bbox_tl=o.top_left;i.bbox_br=o.bottom_right}}var m=b.userLocator&&b.userLocator.userLocation;if(m&&m.lat&&m.lon){i.location_type=m.type;i.latitude=m.lat;i.longitude=m.lon}i.strict_bbox=g&&g.strict_bbox||"0";if(g&&g.iai){this.selectedItemIdRequery=g.iai}if(g.suggestion){var p=g.suggestion;if(!p.coordinate&&p.where&&p.where.match(lp("vertical_map","Search Near My Location"),"i")){delete i.bbox_tl;delete i.bbox_br}if(p.coordinate){var n=p.coordinate.latitude;var f=p.coordinate.longitude;var e=parseFloat(n)+0.00005,k=parseFloat(f)-0.00005,c=parseFloat(n)-0.00005,j=parseFloat(f)+0.00005;i.bbox_tl=e+","+k;i.bbox_br=c+","+j}if(p.metadata){i.metadata=p.metadata}}if(g.metatoken){i.metadata=this.getMetadata(g.metatoken)}this.shouldMapViewportUpdate=g.hasOwnProperty("shouldMapViewportUpdate")?g.shouldMapViewportUpdate:true;this.isSearchMapAreaPending=g.hasOwnProperty("isSearchMapAreaPending")?g.isSearchMapAreaPending:false;if(!this.isRequerying){a.prototype.requery.call(this,i)}},onMapStartAction:function(){b.router.navigate("map-start")},_handleMapStart:function(c){this.set("isDirectionsActive",false);this.set("isMapStartActive",true);b.history.clear("start");b.history.clear("end");b.history.clear("transport");b.history.clear("bbox");b.history.clear("strict_bbox");b.history.set("iaxm","start")},saveMetadata:function(e){for(var c=0;c<this._metaTokens.length;c++){if(this._metaTokens[c]===e){return c.toString()}}this._metaTokens.push(e);var f=this._metaTokens.length-1;return f.toString()},getMetadata:function(c){c=parseInt(c,10);if(c<this._metaTokens.length){return this._metaTokens[c]}},_getMoreAtExternalServiceText:function(){if(!this.sourceName){return}var c=this.sourceName;return l("More at %s ",c)},getFeedbackCategory:function(){var c;if(this.hasNoResults){c="map_no_results"}else{if(this.answerItemModel==="Place"){c=((this.items&&this.items.length===1)||this.selectedItem)?"places_single":"places_multiple"}else{if(this.answerItemModel==="About"){c="wikipedia"}else{if(["MapLocation","Maps"].indexOf(this.answerItemModel)>-1){c="maps"}else{if(this.isDirectionsActive){c="directions"}}}}}return c},getCurrentItemName:function(){return this.selectedItem&&this.selectedItem.name||this.meta&&this.meta.requery||this.query},_onRequery:function(e){var f;if(e.response_type==="places"){f=DDG.localAPI.getPlacesResponse(e);this.answerItemModel="Place";this.sourceName=f.sourceName;this.sourceUrl=f.sourceUrl;this.moreAtExternalServiceText=this._getMoreAtExternalServiceText();this.set("proximity",f.proximity)}else{if(e.response_type==="map"){f=DDG.localAPI.getMapsResponse(e);this.answerItemModel="MapLocation"}else{if(e.response_type==="geowiki"){f=e.wiki_info;f.query=e.query;f.queryEncoded=e.queryEncoded;var g=e.features&&e.features[0];if(g&&g.center){f.lat=g.lat=g.center[1];f.lon=g.lon=g.center[0];var c=b.localAPI.getMapsResponse(e);f.location=c&&c.results&&c.results[0]}this.answerItemModel="About"}else{f=DDG.localAPI.getEmptyResponse(e)}}}a.prototype._onRequery.call(this,f)}})}(DDG);!function(b){var a=b.Models.Answer;b.Models.Answers.Directions=function(e){a.call(this,e);if(this.data&&this.data[0]&&this.data[0].user_location){var c=this.data[0].user_location;c.lat=c.lat?parseFloat(c.lat):null;c.lon=c.lon?parseFloat(c.lon):null;this.userLocation=c}};b.Models.Answers.Directions.prototype=$.extend({},a.prototype,{answerItemModel:"DirectionsItem",addItems:function(c){a.prototype.addItems.call(this,c)}})}(DDG);!function(c){var b=c.Models.Base,a;c.Models.AnswerItems.Base=a=function(e){if(this.transform){e=this.transform(e)}b.call(this,e);this._updateId()};a.extend=function(f){var e=function(g){a.call(this,g)};e.prototype=$.extend({},a.prototype,f||{});return e};a.prototype=$.extend({},b.prototype,{select:function(){this.unhighlight();this.set("selected",1);if(this.topic&&this.topic.select){this.topic.select()}},unselect:function(){this.set("selected");if(this.topic&&this.topic.unselect){this.topic.unselect()}},highlight:function(){if(this.selected){return}this.set("highlighted",1);if(this.topic&&this.topic.highlight){this.topic.highlight()}},unhighlight:function(){this.set("highlighted");if(this.topic&&this.topic.unhighlight){this.topic.unhighlight()}},toTemplateObject:function(){return $.extend({},this,{meta:this.meta?$.extend({},this.answerMeta,this.meta):this.answerMeta})},_updateId:function(){if(typeof this.idField==="string"&&this[this.idField]){return this.id=this[this.idField]}if($.isArray(this.idField)){this.id=this.idField.map(function(e){return this[e]},this).join("");if(this.id){return this.id}}return this.id=this.UUID()},getItemTemplate:function(){var e=this.templates,f=e.item;if(c.device.isMobile){f=e.item_mobile||f}return f},getDetailTemplate:function(){var e=this.templates,f=e.detail;if(c.device.isMobile){f=e.detail_mobile||f}return f},getItemDetailTemplate:function(){var e=this.templates,f=e.item_detail||e.detail;if(c.device.isMobile){f=e.item_detail_mobile||e.detail_mobile||f}return f},canShowItemDetail:function(){return !!this.getItemDetailTemplate()}})}(DDG);!function(a){a.Models.AnswerItems.Audio=a.Models.AnswerItems.Base.extend({idField:"url"})}(DDG);!function(a){a.Models.AnswerItems.FatheadListItem=a.Models.AnswerItems.Base.extend({idField:"FirstURL"})}(DDG);!function(b){var a=b.Models.AnswerItems.Base,h=["alternate","rain","snow","sleet","fog","cloudy","partly-cloudy-day","partly-cloudy-night","clear-day","clear-night","hail","thunderstorm","tornado","wind"],g=[0,4,8,12,16,20],f={metric:"c",imperial:"f"},e=[lp("forecast","N"),lp("forecast","NE"),lp("forecast","E"),lp("forecast","SE"),lp("forecast","S"),lp("forecast","SW"),lp("forecast","W"),lp("forecast","NW"),lp("forecast","N")],c=["ar","de","es","fr","it","ja","nl","tr","zh"];b.Models.AnswerItems.Forecast=function(i){a.call(this,i)};b.Models.AnswerItems.Forecast.prototype=$.extend({},a.prototype,{transform:function(i){if(!i||!i.currently||!i.daily||!i.flags){return}this._data=i;this.unit=this._getInitialUnit();this.isMetric=this.unit===f.metric;this._setDailyWeather(i);this.selected=0;this.latitude=i.latitude;this.longitude=i.longitude;this.location=i.flags["ddg-location"];this.moreAtUrl=this._getMoreLink({});this.isIE11=b.device.isIE11p;this._setCurrentWeather(i.currently);this.updateSelected(this.selected,true);this._mapData(i,this.isMetric);this.hours=this._getHoursGraphData(i,this.isMetric)},_setAlert:function(k,n){if(!k||!k.length){return}if(n){this.warning=null;this.weatherAlert=null;return}if(!n&&!this.warning&&!this.weatherAlert){for(var j=0;j<k.length;j++){var m=k[j];m.title=m.title.replace(/(yellow)|(orange)/ig,"");if(m.severity==="advisory"){this.warning=m}else{this.weatherAlert=m;break}}}},_calculatePercent:function(i){return Math.round(i*100)},_setCurrentWeather:function(j){if(!j){return}var i=48;this.precipitation=this._calculatePercent(j.precipProbability);this.humidity=this._calculatePercent(j.humidity);this.icon=this._getIcon(j.icon,i);this.iconName=j.icon;this.summary=j.summary},_setDailyWeather:function(n){if(!n||!n.daily||!n.daily.data){return}this.days=[];var j,q=8,m=n.daily.data.slice(0,q),t=48;for(var o=0;o<m.length;o++){j=new Date();var k={},s=(o>0)?m[o]:n.currently;k.index=o;k.icon=this._getIcon(s.icon,t);k.iconName=s.icon;k.summary=s.summary;k.humidity=s.humidity;k.precipitation=s.precipProbability;j.setDate(j.getDate()+o);if(this.toLocaleStringSupportsLocales()){var p=locale.replace("_","-");k.day=j.toLocaleString(p,{weekday:"short"}).replace(".","");k.dayLong=j.toLocaleString(p,{weekday:"long"}).replace(".","")}else{var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=j.getDay();k.day=u[r].substring(0,4);k.dayLong=u[r]}this.days.push(k)}},toLocaleStringSupportsLocales:function(){try{new Date().toLocaleString("i")}catch(i){return i instanceof RangeError}return false},_getInitialUnit:function(){var i=b.geo.getUOM(),j=f[i]||f.imperial;return j},updateUnit:function(i){var k=this.days[this.selected]||{},j=k.rawHourly||this._data;this.isMetric=i===f.metric;this._mapData(this._data,this.isMetric);this.hours=this._getHoursGraphData(j,this.isMetric,this.selected,k.time);k.hours=this.hours;this.set("unit",i)},updateSelected:function(i,j){var m=this.days[i];if(!j){this.summary=m.summary;this.wind=m.wind;this.precipitation=m.precipitation;this.humidity=this._calculatePercent(m.humidity);this.icon=this._getIcon(m.iconName,64);this.temperature=m.high;this.temperature=(i===0)?m.temperature:m.high}this.days[this.selected].selected=false;this.days[i].selected=true;this.dayLong=b.capitalize(m.dayLong);this.moreLink=this._getMoreLink(m);this._setAlert(this._data.alerts,i);if(i>1&&!m.hours){this.emit("beforeSend");$.getJSON("/js/spice/forecast_daily/"+this.latitude+"/"+this.longitude+"/"+m.time).done(function(n){m.rawHourly=n;this.hours=this._getHoursGraphData(n,this.isMetric,i,m.time);m.hours=this.hours;this.set("selected",i)}.bind(this))}else{var k=m.rawHourly||this._data;m.hours=this._getHoursGraphData(k,this.isMetric,i,m.time);this.hours=m.hours;this.set("selected",i)}},_getMoreLink:function(m){var k="https://darksky.net";if(m.time){var i=new Date();i.setDate(i.getDate()+m.index);var j=i.toISOString().substr(0,10);k+="/details/"+this.latitude+","+this.longitude+"/"+j}else{k+="/forecast/"+this.latitude+","+this.longitude}return k+"/"+this._getTargetUnit()+"/"+this._getTargetLanguage()},_getTargetUnit:function(){var i=this.isMetric?"ca24":"us12";return i},_getTargetLanguage:function(){var i=window.locale.split("_")[0];if(c.indexOf(i)===-1){return"en"}return i},_mapData:function(o,j){if(!o.currently){return}var n=o.currently;this.wind=this._convertWindSpeed(n.windSpeed,j);this.wind+=" "+this._convertWindDirection(n.windBearing);for(var m=0;m<this.days.length;m++){var k=o.daily.data[m];this.days[m].high=this._convertTemperature(k.temperatureMax,j);this.days[m].low=this._convertTemperature(k.temperatureMin,j);this.days[m].time=k.time;this.days[m].temperature=(m===0)?this._convertTemperature(n.temperature,j):this.days[m].high;this.days[m].wind=this._convertWindSpeed(k.windSpeed,j);this.days[m].wind+=" "+this._convertWindDirection(k.windBearing)}this.temperature=this.days[this.selected].temperature},_getHoursGraphData:function(B,j,r,t){if(!B||!B.hourly||!B.hourly.data){return}t=new Date(t*1000);var z=B.hourly.data,y={data:[]},s={mobileLabels:[]},q=1,x=z.length,k=0,m=[];s.data={datasets:[],labels:[]};for(var v=0;v<x;v+=q){var C=z[v];if(!C){continue}var n=new Date(C.time*1000);if(t&&(n<t)){continue}var p=this._getSingleHourInfo(C,n),o=p.hourString,A=p.temperature,u=p.temperatureLabel;y.data.push(A);s.data.labels.push(this._getSingleGraphLabel(u,o));if(!r&&q===1){s.firstHour=o}if(q===1){q=3;k=v;x=v+24}}m=g.map(function(D){return z[k+D]});s.mobileLabels=this._getMobileHoursLabels(m);s.data.datasets.push(y);return s},_getSingleGraphLabel:function(j,i){if(!i){return}return[j+"°",i]},_getMobileHoursLabels:function(k){if(!k){return}var r=[];for(var o=0;o<k.length;o++){var n=k[o];if(!n){continue}var q=new Date(n.time*1000),j=this._getSingleHourInfo(n,q),m=j.hourString,p=j.temperatureLabel;r.push(this._getSingleGraphLabel(p,m))}return r},_getSingleHourInfo:function(n,r){if(!n){return}r=r||new Date(n.time*1000);var s={},j="en-US",m,p=this._convertTemperature(n.temperature),i=this._convertTemperature(n.temperature,this.isMetric);if(this.toLocaleStringSupportsLocales()){m=r.toLocaleString(j,{hour:"numeric",hour12:b.device.isEnglish})}else{m=r.getHours();if(b.device.isEnglish){var k=12,q=(m>=k)?"PM":"AM",o=(!m||m===k)?k:m%k;m=o+" "+q}m=m.toString()}if(!b.device.isEnglish){m=m.replace(/(\d{2})[^:]+/,"$1");m=m.replace(/^0/,"");m+=":00"}s={hourString:m,temperature:p,temperatureLabel:i};return s},_convertWindSpeed:function(j,i){if(i){return Math.round(j*1.609344)+" kph"}return Math.round(j)+" mph"},_convertWindDirection:function(j){var i=Math.round(j/45),k=e[0],m=e[i]||k;return m},_convertTemperature:function(j,i){if(i){j=Math.round((j-32)*(5/9));j=(Math.abs(j)===0)?Math.abs(j):j;return j}return Math.round(j)},_getIcon:function(j,i){if(h.indexOf(j)===-1){j="cloudy"}return"/assets/weather/svg/new/"+j+".svg"}})}(DDG);!function(b){var a=b.Models.AnswerItems.Base,c={START:"START",DONE:"DONE"};b.Models.AnswerItems.Place=function(e){a.call(this,e);if(e.sourceId==="applemaps"&&!this.embed){this.embedLoading=c.START;this._fetchEmbedData()}this.subtitle=this.getSubtitle();this.priceSymbol=this.getPriceSymbols();this.categories=this.getCategories();this.directions=this.getDirectionsURL();this.directionsTitle=this.getDirectionsTitle();this.staticMapTitle=lp("maps_places","Open Expanded Map");this.mapURL=b.directionSource.getMapURL(this);this.shortAddress=this.getShortAddress();if(!$.isEmptyObject(this.hours)){this.hours=this._transformHours();this.hoursStatus=this._getHoursStatus(e.hours)}if(this.embed){b.pixel.fire("ny_i");this._onEmbedDataFetched(this.embed);if(this.embed.image){this.isScrapedImage=true}}this.ratingClass=this.rating?this.rating.toString().replace(".","-"):false;this.morePhotosText=this._getPhotosOnProviderText();this.moreAtExternalServiceText=this.getMoreAtExternalServiceText();this.moreOnExternalServiceText=this.getMoreOnExternalServiceText();this.viewOnExternalServiceText=this.getViewOnExternalServiceText();this.moreReviewsOnExternalServiceText=this.getMoreReviewsOnExternalServiceText();this.distanceStr=this.getDistanceString();this.snippetInfoMap=this.getSnippetInfoMap();this.showMapCta=!b.device.isMobile&&this.parentId!=="maps_expanded";this.isMobile=b.device.isMobileDevice;this.showTabs=this.isMobile&&this.reviews;this.showAttribution=this.sourceId==="applemaps"&&this.url;this.hasPriceOrCategory=!!this.priceSymbol||!!this.categories;this.titleUrl=this.url;if(this.sourceId==="applemaps"&&this.website){this.titleUrl=this.website;this.viewOnExternalServiceText=this.getOpenPlaceWebsiteText()}this.showPriceCategoryNewLine=this.parentId==="maps_expanded"||this.isMobile;if(b.device.is2x||b.device.is3x){this.ratingImage=this.ratingImageRetina?this.ratingImageRetina:this.ratingImage}this._setReviews(this.reviews)};b.Models.AnswerItems.Place.prototype=$.extend({},a.prototype,{select:function(){a.prototype.select.call(this);if(this.source==="Yelp"&&!this.reviews){this._loadReviews()}},getSubtitle:function(){var f=this.getPriceSymbols(),e=this.getCategories();if(!f){return e}if(!e){return f}return f+" · "+e},getPriceSymbols:function(){if(!this.price){return}var e="";for(var f=0;f<this.price;f++){e+="$"}return e},getCategories:function(){if(!this.categories||!this.categories.length){return}return this.categories.map(function(e){return e.name}).join(", ")},getDirectionsTitle:function(){return b.directionSource.getMapTitleText()},getDirectionsURL:function(){return b.directionSource.getDirectionsURL(this)},getShortAddress:function(){return this.addressLines?this.addressLines[0]:null},getDistanceString:function(){if(!this.distance){return}var e=b.geo.getUOM(),g,f;if(e==="metric"){g=b.geo.metersToKilometers(this.distance);f=(g)?l("%s km",g):""}else{g=b.geo.metersToMiles(this.distance);f=(g)?l("%s mi",g):""}return f},_transformHours:function(){var f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var e=(new Date()).getDay();return f.map(function(h,g){var i=lp("maps_places","Closed");if(this.hours[h]){i=this.hours[h]==="12AM–12AM"?lp("maps_places","Open 24 hours"):this.hours[h]}if(g===e){this.hoursToday=i}return{weekDay:h,hours:i,isToday:g===e}}.bind(this))},_getHoursStatus:function(f){var e={};if(!f){return e}if(f.is_open){if(f.closes_soon){e.textStatus=lp("maps_places","Closes soon");e.textHour=f.state_switch_time||"";e.style="warn"}else{e.textStatus=lp("maps_places","Open");e.textHour=f.state_switch_time?lp("maps_places","Closes")+" "+f.state_switch_time:"";e.style="on"}}else{if(f.opens_soon){e.textStatus=lp("maps_places","Opens soon");e.textHour=f.state_switch_time||"";e.style="warn"}else{e.textStatus=lp("maps_places","Closed");e.textHour=f.state_switch_time?lp("maps_places","Opens")+" "+f.state_switch_time:"";e.style="off"}}return e},toggleHoursExpand:function(){if(this.hours){this.set("hoursExpanded",!this.hoursExpanded)}},_getPhotosOnProviderText:function(){var e=this.source;return l("Photos on %s",e)},getViewOnExternalServiceText:function(){var e=this.provider||this.source;return l("View on %s",e)},getOpenPlaceWebsiteText:function(){var e=this.name;return l("Open %s website",e)},getMoreAtExternalServiceText:function(){var e=this.provider||this.source;return l("More at %s ",e)},getMoreOnExternalServiceText:function(){var e=this.source;return l("More on %s ",e)},getMoreReviewsOnExternalServiceText:function(){var e=this.source;return lp("more_reviews_on_external_website","More Reviews on %s ",e)},getUserOnServiceText:function(e){var f=e.name;var g=this.source;return lp("maps_places","%s on %s",f,g)},getSnippetInfoMap:function(){return{hours:this.hoursToday||false,streetaddress:this.address||false,phone:this.displayPhone||false}},isExpandable:function(){if(typeof this.canExpand==="undefined"){return this.canExpand=!this.isSideModule&&(!!this.moreAtExternalServiceText||(this.review_detail&&this.review_detail.length>0))}return this.canExpand},toggleExpand:function(){this.set("expanded",!this.expanded)},_loadReviews:function(){if(this._loadedReviews){return}this._loadedReviews=true;$.ajax({dataType:"jsonp",url:"/local.js?q="+encodeURIComponent(this.name)+"&tg=maps_places&id="+this.itemId+"&strong_hint="+this.itemId+"&fsh=1&l="+b.settings.region.getId(),success:function(e){e=b.localAPI.getPlacesResponse(e);if(!e.results||!e.results.length){return}var f=e.results.filter(function(g){return g.itemId===this.itemId}.bind(this));if(f&&f[0]){this._setReviews(f[0].reviews)}}.bind(this),error:function(){}})},_setReviews:function(e){if(!e||!e.length){return}e.forEach(function(f){var g={year:"numeric",month:"short",day:"numeric"};f.formattedDate=new Date(f.timeCreated*1000).toLocaleDateString(false,g);f.user.userOnServiceText=this.getUserOnServiceText(f.user);if(b.device.is2x||b.device.is3x){f.ratingImage=f.ratingImageRetina?f.ratingImageRetina:f.ratingImage}f.ratingClass=f.rating?f.rating.toString().replace(".","-"):""}.bind(this));this.set("reviews",e)},_fetchEmbedData:function(){if(this.website){b.pixel.fire("ny_i");var e="";if(this.timezone){e="&tz="+this.timezone}$.getJSON("/f.js?vqd="+window.vqd+"&o=json&ldata=1&u="+this.website+e,this._onEmbedDataFetched.bind(this)).error(this._onEmbedDataFailed.bind(this))}else{this.set("embedLoading",c.DONE);b.pixel.fire("ny_nw",this._getPixelParams())}},_onEmbedDataFetched:function(f){b.pixel.fire("ny_s",this._getPixelParams(f));if(f.image){var e=b.getImageProxyURL(f.image,{noFallback:true});this.set("image",e)}if(f.additional_images){this.set("thumbnails",f.additional_images)}if(f.description){this.set("description",f.description.length<301?f.description:f.description.substr(0,300)+"...")}if(f.hours){this.set("hours",f.hours);this.hours=this._transformHours();this.hoursStatus=this._getHoursStatus(f.hours)}this.set("embedLoading",c.DONE)},_onEmbedDataFailed:function(){b.pixel.fire("ny_e",this._getPixelParams());this.set("embedLoading",c.DONE)},_getPixelParams:function(e){e=e||this.embed||{};return{image:!!e.image||!!this.image,description:!!e.description||!!this.description,mult_images:!!e.additional_images||!!this.additional_images,hours:!!e.hours||!!this.hours,links:!!e.third_party_links,phone:!!e.phone||!!this.phone,website:!!e.url||!!this.website}}})}(DDG);!function(f){var c=f.Models.AnswerItems.Base,b=120;f.Models.AnswerItems.Product=c.extend({idField:["ASIN","img_m","img"],transform:function(h){h.image=h.img;h.title=h.heading;h.showImage=h.image;h.containImage=1;h.hideSource=1;var n=e(h);var k=a(h);h.onlyGrayText=n||k;if(k&&n){h.onlyGrayText=n+" - "+k}if(h.answerMeta.sourceName==="Bing"){h.bing=1;h.onlyGrayText=e(h,20);if(h.extensions){h.visibleExtensions=[];var j=h.extensions.price_drop,g=h.extensions.merchant_promotion,i=h.extensions.free_shipping,m=h.extensions.product_rating;if(j&&j.text&&j.tid){h.promotion=j.text;h.visibleExtensions.push(j.tid)}else{if(g&&g.text&&g.tid){h.promotion=g.text;h.visibleExtensions.push(g.tid)}}if(i&&i.tid){h.visibleExtensions.push(i.tid)}if(m&&m.tid){h.visibleExtensions.push(m.tid)}}h.img=h.img+"&h="+b}return h}});var e=function(g,h){if(!g.brand){return""}h=h||14;return(g.brand.length>h?g.brand.substr(0,(h-2))+"…":g.brand)};var a=function(g){if(typeof g.price!=="string"){return""}return g.price}}(DDG);!function(a){a.Models.AnswerItems.Recipe=a.Models.AnswerItems.Base.extend({idField:"id",transform:function(b){b.excerpt=b.description;b.showImage=b.image||b.fetch_image;b.onlyGrayText=b.ratingText;b.hideSource=1;b.showRating=1;b.showDescription=1;b.oneRowTitle=1;return b}})}(DDG);!function(h){var g=h.Models.AnswerItems.Base,i=h.Utils.ParseDate,a=120,f={YouTube:{videoId:{match:/embed\/([^?]+)/,group:1},embedURL:"https://www.youtube-nocookie.com/embed/",searchURL:"https://www.youtube.com/results?search_query=",userURL:"https://www.youtube.com/channel/",url:"https://www.youtube.com/watch?v=",params:{wmode:"transparent",iv_load_policy:3,autoplay:1,html5:1,showinfo:0,rel:0,modestbranding:1,playsinline:0,theme:"light"}},Vimeo:{embedURL:"https://player.vimeo.com/video/",searchURL:"https://www.vimeo.com/search?q=",userURL:"https://vimeo.com/",url:"https://vimeo.com/",params:{api:0,autoplay:1}},Bing:{}};h.Models.AnswerItems.Video=g.extend({idField:"id",transform:function(j){if(j.provider=="Bing"){return this._getBingAttrs(j)}var k=f[j.provider];j.embedURL=encodeURIComponent(k.embedURL+j.id+"?"+$.param(k.params));j.faviconURL=h.get_favicon_url(j.provider.toLowerCase());j.musicVideoData=b(j);j.url=k.url+j.id;j.searchURL=k.searchURL+rq;j.userURL=k.userURL+j.channel_id;j.username=j.display_name;j.viewCount=c(j);j.publishedDate=e(j.published);j.image=j.images.medium;j.showImage=j.image||j.fetch_image;j.onlyGrayText=j.viewCount;return j},getITunesData:function(m){var n=this.musicVideo();if(!n){return m()}if(this._iTunesData){return m(null,this._iTunesData)}var j=this,k="/iit/"+encodeURIComponent(n.title);$.ajax({url:k,dataType:"json",success:function(o){j._iTunesData=o;m(null,o)},error:function(){m()}})},canShowItemDetail:function(){var k=g.prototype.canShowItemDetail.call(this),j=h.settings.get("k5")==="2";return k&&!j},isEmbeddable:function(){var j=this.embedURL?decodeURIComponent(this.embedURL):"";return !!(j&&j.indexOf(f.YouTube.embedURL)===0)},_formatEmbedURL:function(k,n){var p=f[k];var j=p?p.videoId:false;if(n&&j){var m=n.match(j.match),o=m&&m[j.group]?m[j.group]:false;if(o){return encodeURIComponent(p.embedURL+o+"?"+$.param(p.params))}}return false},_getBingAttrs:function(j){j.provider=j.publisher;j.embedURL=this._formatEmbedURL(j.provider,j.embed_url);j.isBing=true;j.faviconURL=h.get_favicon_url(j.publisher.toLowerCase());j.url=j.content;j.idField="url";j.username=j.uploader;j.labelIcon=(h.settings.get("k5")==="2"||!j.embedURL)?false:"play";if(j.statistics&&j.statistics.viewCount&&j.statistics.viewCount!="0"){j.viewCount=c(j)}j.publishedDate=e(j.published);j.relativeTimeShort=i.getRelativeDate(j.published);j.image=j.images.medium+"&h="+a;j.showImage=j.image||j.fetch_image;j.textOnlySource=j.publisher;j.centerImage=1;j.extraRow=j.viewCount;var k=h.getProperty(f,j.publisher+".searchURL");if(k){j.searchURL=k+rq}return j}});var c=function(j){var k=0;if(j.statistics&&j.statistics.viewCount){k=parseInt(j.statistics.viewCount,10);if(!$.isNumeric(k)){k=0}}if(!k&&j.duration.match(/\d+:\d+:\d+/)){return lp("video","Preview")}return h.abbrevNumber(k)+" view"+(k!==1?"s":"")},b=function(r){if(!r.category||r.category!=="Music"){return}var q=r.title.replace(/\(.*\)|\[.*\]/g,"");q=q.replace(/\s+f(?:ea|)t\..*$/g,"");q=q.replace(/^\s+|\s+$/g,"");var k=q.split(" - "),o=k[0],m=k[1]||o,s=m!==o?m+" "+o:m,n="/iit/"+encodeURIComponent(q),p=encodeURIComponent("!a "+s),j=encodeURIComponent("!spotify "+s);return{title:q,artist:o,song:m,iTunesURL:n,amazonURL:p,spotifyURL:j}},e=function(k){var j=DDG.getDateFromString(k);return j?j.toDateString().substr(4):""}}(DDG);!function(e){var c=e.Models.AnswerItems,b=c.Base,a={desktop:{module:110,vertical:130},mobile:{module:110,vertical:80}};c.News=b.extend({idField:"url",transform:function(f){f.showImage=f.image||f.fetch_image;if(f.relative_time){f.relativeTimeShort=f.relative_time.replace(/(\d+) ([a-z]).*/,"$1$2")}if(!f.favicon_url){f.favicon_url=f.url}if(!e.device.isMobile&&window.kl==="fr-fr"){f.noExcerpt=1}f.imageProxyOps={height:this._getImageHeight(f.pageNo)};this.on("change:visible",this._onVisibleChanged.bind(this));return f},_getImageHeight:function(g){var h=(e.device.isMobile)?"mobile":"desktop",f=(g===1)?"module":"vertical";return a[h][f]},_fetchImage:function(f){if(this._fetchedImage){return}this._fetchedImage=true;$.getJSON("/f.js?vqd="+window.vqd+"&o=json&i=1&u="+f,this._onImageFetched.bind(this))},_onVisibleChanged:function(){if(!this.visible){return}if(this.fetch_image&&!this.image){this._fetchImage(this.url)}},_onImageFetched:function(f){if(f&&f.image){this.set("image",f.image)}}})}(DDG);!function(f){var a=f.Models.AnswerItems.Base,h=120,j=160,k=160,b=1.8,e=0.7,g=1100,c=80,m=1.4,i=150;f.Models.AnswerItems.About=function(n){a.call(this,n);if(this.hasInfobox){this.infobox=new f.Models.Modules.AboutInfoBox({Infobox:this.Infobox,RelatedTopics:this.RelatedTopics,minimizeHeight:n.minimizeHeight})}if(this.infobox&&this.infobox.maps.length){this.headerImage=this.Image&&!this.ImageIsLogo;this.headerType=this.headerImage?2:1;this.header=new f.Models.Modules.AboutHeader({imageURL:this.headerImage?this.Image:null,imageWidth:this.ImageWidth,imageHeight:this.ImageHeight,mapURL:this.infobox.maps[0].value,location:this.location})}if(this.header){this.showDirectionsButton=true}if(this.infobox&&this.infobox.profiles.length){this.infobox.profiles.push({data_type:"wikipedia",value:this.AbstractURL});if(this.OfficialUrl){this.infobox.profiles.push({data_type:"official_site",value:this.OfficialUrl});var o=f.searchExperiments.assign("muxabouti");if(o==="b"){this.isExperimentB=true}}this.profiles=new f.Models.Modules.AboutProfiles({title:this.Heading,entity:this.Entity,data:this.infobox.profiles})}var p=this.answerMeta;if(p&&((p.id&&p.id==="wikihow")||(p.is_stackexchange&&p.is_stackexchange===1))){this.hasClickableHeader=true}};f.Models.AnswerItems.About.prototype=$.extend({},a.prototype,{headerType:0,isTooHigh:false,toggleExpand:function(){this.infobox&&this.infobox.toggleExpand();this.set("expanded",!this.expanded)},expand:function(){if(!this.expanded){this.toggleExpand()}},collapse:function(){if(this.expanded){this.toggleExpand()}},hasPredictableExpandableContent:function(){return(this.infobox&&this.infobox.canExpand())||(this.shortAbstract!==this.fullAbstract)},canModuleExpand:function(){return this.hasPredictableExpandableContent()||this.isTooHigh},getAbstract:function(){return this.expanded?this.fullAbstract:this.shortAbstract},showMoreAtBottom:function(){if(this.infobox){return false}if(!this.canModuleExpand()){return true}if(this.isTooHigh){return true}return false},transform:function(n){if(n.Results&&n.Results.length){n.OfficialUrl=n.Results[0].FirstURL}n.minEllipsisHeight=n.minimizeHeight?c:k;n.ImageHeight=n.ImageHeight||0;if(n.Image&&n.ImageWidth&&n.ImageHeight){var q=(f.device.width<=g)?e:1;var o=f.scaleToFit(n.ImageWidth,n.ImageHeight,h,j);n.ImageWidth=parseInt(o.width,10);n.ImageHeight=parseInt(o.height,10);n.defaultTextHeight=Math.max(n.minEllipsisHeight,(n.ImageHeight*q)/2)}else{if(n.Image){delete n.Image}}if(n.Image&&window.iqbi&&!f.settings.safeSearch.isOff()){delete n.Image}if(n.AbstractSource){n.moreAtText=n.AbstractSource}else{if(n.meta){n.moreAtText=n.meta.src_name}}n.Abstract=f.Utils.Strings.removeUnwantedHtml(n.Abstract)||"";n.hasCode=n.Abstract.match(/\<code/i);n.hasMarkup=n.Abstract.match(/\<\//);n.fullAbstract=n.Abstract;n.shortAbstract=this.trimParagraphs(n);n.hasInfobox=n.Infobox;var p=DDG.parseAbstract(n.Heading);n.title=p.main?p.main.trim():n.title;n.subTitle=p.subTitle;return n},trimParagraphs:function(u){if(!u.Abstract){return""}if(u.hasMarkup){return u.Abstract}var v=u.Abstract.length,q,o=/\.\s/g,n=v,s=u.minimizeHeight?m:b,r=Math.max(u.minEllipsisHeight,u.ImageHeight)*s;if(u.Abstract.length<=r){return u.Abstract}while(q=o.exec(u.Abstract)){var t=q.index;if(Math.abs(r-t)<v){v=Math.abs(r-t);n=t}}var p=u.Abstract.substring(0,n+1);if((u.Abstract.length-p.length)<i){p=u.Abstract}return p}})}(DDG);!function(b){var a=b.Models.AnswerItems.Base;b.Models.AnswerItems.MapLocation=function(c){a.call(this,c);if(this.hasValidLatLon()&&b.search.isLatLonQuery()){this.displayLatLon=this._getDisplayLatLon()}this.latLng=[this.lat,this.lon]};b.Models.AnswerItems.MapLocation.prototype=$.extend({},a.prototype,{hasValidLatLon:function(){return this.lat&&!isNaN(this.lat)&&this.lon&&!isNaN(this.lon)},_getDisplayLatLon:function(){var c,e,f='"';if(this.lat>0){c=this.lat+f+" N, "}else{c=(this.lat*-1)+f+" S, "}if(this.lon>0){e=this.lon+f+" E"}else{e=(this.lon*-1)+f+" W"}return c+e}})}(DDG);!function(b){var a=b.Models.AnswerItems.Base;b.Models.AnswerItems.DirectionsItem=function(c){a.call(this,c)};b.Models.AnswerItems.DirectionsItem.prototype=$.extend({},a.prototype,{})}(DDG);!function(c){var e=300,a=42,b=c.Models.Base;c.Models.Header=function(f){b.call(this,f);this._headerHeight=c.get_header_height()+1};c.Models.Header.prototype=$.extend({},b.prototype,{updateScrollPosition:function(i){var f=(i<this._previousScroll)?1:0,h,g;this.scrolledToTop=c.device.isMobile?i<a:i===0;this.scrolledPastHeaderThreshold=(i>this._headerHeight+e);this.scrolledPastHeader=i>this._headerHeight;this.canUpdateHeaderPosition=false;this.newHeaderPosition=-this._headerHeight;if(this.scrolledToTop){this._scrollBuffer=0;this._showingFloatedHeader=false;this.newHeaderPosition=0}h=f&&!this._showingFloatedHeader;g=!f&&this._showingFloatedHeader;if(this.scrolledPastHeaderThreshold&&(h||g)&&this._pastScrollBuffer(i,f)){this.newHeaderPosition=(f)?0:-this._headerHeight;this.canUpdateHeaderPosition=true;this._scrollBuffer=0;this._showingFloatedHeader=!this._showingFloatedHeader}if(c.device.isMobile&&!this.scrolledToTop){this.newHeaderPosition-=a}this._previousScroll=i;this._previousScrollDirection=f},_pastScrollBuffer:function(g,f){if(this._previousScrollDirection!==f){this._scrollBuffer=0}if(!this._scrollBuffer){this._scrollBuffer=g+((f)?-50:100)}if(f){return g<this._scrollBuffer}return g>this._scrollBuffer}})}(DDG);!function(c){var b=c.Models.Base,a="$2,650,000",f="67",e={spread:{title:lp("SERP footer content","Help Spread DuckDuckGo"),body:lp("showcase_spread","Help your friends and family join the Duck Side!"),icon:"spread",url:"https://duckduckgo.com/spread",id:"sp"},bangs:{title:lp("SERP footer content","Learn About Bangs"),body:lp("SERP footer content","Discover shortcuts to go to search results on other sites."),icon:"bangs",url:"https://duckduckgo.com/bang",id:"ba"},app:{title:lp("showcase_app","Get Our App & Extension"),body:lp("showcase_app","Protect your data on every device."),icon:"woman",url:"https://duckduckgo.com/app",id:"bl"},donations:{title:lp("SERP footer content","Donating for Privacy"),body:lp("SERP footer content","Over %s in DuckDuckGo privacy donations.",a),icon:"donations",url:"https://duckduckgo.com/donations",id:"dn"},course:{title:lp("SERP footer content","Privacy in Your Inbox"),body:lp("SERP footer content","Stay protected and informed with our privacy newsletters."),icon:"mailbox",url:"https://duckduckgo.com/newsletter",id:"su"},syntax:{title:lp("SERP footer content","Fine-tune Your Search"),body:lp("SERP footer content","Learn how to search like the pros."),icon:"private-searches",url:"https://help.duckduckgo.com/results/syntax",id:"syntax"},tips:{title:lp("SERP footer content","Protect Your Devices"),body:lp("SERP footer content","Check out our privacy device guides."),icon:"privacy-simplified",url:"https://spreadprivacy.com/tag/device-privacy-tips/",id:"tips"},hiring:{title:lp("SERP footer content","Join Our Team!"),body:lp("SERP footer content","Help us raise the standard of trust online."),icon:"employees",url:"https://duckduckgo.com/hiring",id:"hiring"},traffic:{title:lp("SERP footer content","%s Billion Searches",f),body:lp("SERP footer content","We get a ton of searches, and all of them are anonymous."),icon:"traffic",url:"https://duckduckgo.com/traffic",id:"traffic"},themes:{title:lp("SERP footer content","Get New Themes"),body:lp("SERP footer content","You're in control. Customize the look-and-feel of DuckDuckGo."),icon:"design",url:"https://duckduckgo.com/settings#theme",id:"theme"},about:{title:lp("SERP footer content","Learn About DuckDuckGo"),body:lp("SERP footer content","Learn how we're dedicated to keeping you safe online."),icon:"hatched",url:"https://duckduckgo.com/about",id:"about"},google:{title:lp("SERP footer content","Say Goodbye To Google"),body:lp("SERP footer content","Learn how you can free yourself from Google for good."),icon:"milestone",url:"https://spreadprivacy.com/how-to-remove-google/",id:"google"},duckcom:{title:lp("SERP footer content","Get Started at Duck.com"),body:lp("SERP footer content","Get to DuckDuckGo faster. Share duck.com with your friends."),icon:"paper-plane",url:"https://duck.com",id:"duckcom"},bubble:{title:lp("SERP footer content","Escape The Filter Bubble"),body:lp("SERP footer content","Read about how Google influences what people click."),icon:"launch-small",url:"https://spreadprivacy.com/google-filter-bubble-study/",id:"bubble"},profit:{title:lp("SERP footer content","How We Are Profitable"),body:lp("SERP footer content","The world needs an alternative to the collect-it-all business model."),icon:"beanstalk",url:"https://spreadprivacy.com/duckduckgo-revenue-model/",id:"profit"},anonymous:{title:lp("SERP footer content","We Protect Your Privacy"),body:lp("SERP footer content","We don't store your search history or follow you around the web."),icon:"shield",url:"https://spreadprivacy.com/how-anonymous-is-duckduckgo/",id:"anonymous"},swag:{title:lp("SERP footer content","Visit Our Store"),body:lp("SERP footer content","Show your DuckDuckGo pride with t-shirts, stickers, & more."),icon:"donations-blue-large",url:"https://duckduckgo.merchmadeeasy.com/",id:"swag"}},g=[[e.tips,e.donations,e.anonymous],[e.traffic,e.course,e.bangs],[e.spread,e.hiring,e.syntax],[e.app,e.course,e.spread],[e.themes,e.about,e.google]];if(window.locale==="en_US"){g.push([e.swag,e.spread,e.profit])}else{g.push([e.bubble,e.spread,e.profit])}c.Models.Footer=function(h){b.call(this,h);this.cards=[];this.links=[{url:"https://spreadprivacy.com",icon:"blog",id:"bl"},{url:"https://twitter.com/duckduckgo",icon:"twr",id:"tw"},{url:"https://reddit.com/r/duckduckgo",icon:"reddit",id:"rd"},{url:"https://duckduckgo.com/newsletter",icon:"newsletter",id:"nl"}];if(!c.device.isDesktop){this.links.push({url:"https://duckduckgo.com/app",icon:"phone",id:"ip"})}this._initCards()};c.Models.Footer.prototype=$.extend({},b.prototype,{_initCards:function(){var h={},k=g[Math.floor(Math.random()*g.length)];if(window.locale&&window.locale.substring(0,2)==="en"){e.hiring.title="Work With Us Remotely";e.hiring.body="Help us raise the standard of trust online — from anywhere!";var i=null,m=k.some(function(o,n){if(o.id==="hiring"){i=n;return true}return false});if(m){k[i]=e.hiring}else{k[Math.floor(Math.random()*k.length)]=e.hiring}}while(this.cards.length<3){var j=Math.floor(Math.random()*k.length);if(!h[j]){h[j]=true;this.cards.push(k[j])}}}})}(DDG);!function(e){var c=e.Models.Base,f=900000,b=18000000,g="geoip",h="manual",a="precise";e.Models.UserLocation=function(i){i=i||{};if(typeof i==="string"){i=this._fromString(i)||{}}if(!this._isValidLatLon(i.lat,i.lon)){i.lat=null;i.lon=null}if(!this._isValidLocationType(i.type)){i.type=a}c.call(this,i);if(this.isValid()){if(!this.timestamp){this.timestamp=new Date().getTime()}}};e.Models.UserLocation.GEOIP_LOCATION=g;e.Models.UserLocation.MANUAL_LOCATION=h;e.Models.UserLocation.PRECISE_LOCATION=a;e.Models.UserLocation.prototype=$.extend({},c.prototype,{isValid:function(){return this._isValidLatLon(this.lat,this.lon)},isSameAs:function(i){return this.lat===i.lat&&this.lon===i.lon&&this.desc===i.desc},isExpired:function(){if(!this.timestamp){return false}if(this.desc&&this.desc==="Antarctica, Antarctica"){return true}var i=new Date().getTime()-this.timestamp,j=e.device.isMobile?f:b;return i>j},toString:function(){return[this.lat,this.lon,this.desc,this.timestamp,this.type,this.geoipLat,this.geoipLon].join("|")},setDescByGeocoding:function(i){this._geocode(function(k){if(!k){return i()}var m=k.text;if(k.context&&k.context.length){for(var j=0;j<k.context.length;j++){if(k.context[j].id.match(/(neighborhood|locality|place)/)){m=k.context[j].text;break}}}m=m.split("  ").join(" ");this.set("desc",m);i()}.bind(this))},_fromString:function(o){var n=o.split("|");if(n.length!==4&&n.length!==7){return null}var j=this._isValidLocationType(n[4])?n[4]:a;var k=null;var m=null;if(j===h){k=n[5]?parseFloat(n[5]):null;m=n[6]?parseFloat(n[6]):null;if(!this._isValidLatLon(k,m)){k=null;m=null}}var i={lat:parseFloat(n[0]),lon:parseFloat(n[1]),desc:n[2],timestamp:parseInt(n[3],10),type:j,geoipLat:k,geoipLon:m};return i},_isValidLatLon:function(i,j){return !!(typeof i==="number"&&typeof j==="number"&&!isNaN(i)&&!isNaN(j))},_isValidLocationType:function(i){return[g,h,a].indexOf(i)!==-1},_geocode:function(i){var j=encodeURIComponent(this.lon+", "+this.lat);$.ajax({url:"/local.js?ha=1&q="+j,dataType:"jsonp",success:function(k){if(!k||!k.features||!k.features.length){return i()}i(k.features[0])},error:function(){i()}})}})}(DDG);!function(g){var b=g.Models.Base,h=true,a=10000,f=600000,i=1,j=1,c="kar",e="kat";g.Models.UserLocator=function(n){b.call(this,n);this.userLocation=new g.Models.UserLocation();this.errorGettingLocation=false;this.waitingForLocation=false;this.problemUpdatingLocation=false;this._updateClickCount=0;this._retries=0;this._checkedForUpdate=false;this._waitTimeout=null;if(!g.settings.isDefault(c)){var m=g.settings.get(c);var k=new g.Models.UserLocation(m);if(k.isValid()){if(!k.desc){k.setDescByGeocoding(function(){this.setLocation(k)}.bind(this))}this.setLocation(k,false)}}};g.Models.UserLocator.prototype=$.extend({},b.prototype,{canGetLocation:function(){var k=(g.device.isAndroid&&g.device.isDDGApp&&!g.device.isEnglish);return !!(!k&&w.navigator&&w.navigator.geolocation&&w.navigator.geolocation.getCurrentPosition)},hasLocation:function(){return this.userLocation.isValid()},updateLocation:function(m,k){m=m||{};k=(typeof k==="function")?k:null;this.set("lastUpdateType",m.updateType||"na");if(m.updateType==="cta"){this._updateClickCount+=1;if(this._updateClickCount===3){g.pixel.fire("lupp");this.set("problemUpdatingLocation",true);this._updateClickCount=0;k&&k();return}}if(!this.canGetLocation()||this.userLocation.type!==g.Models.UserLocation.PRECISE_LOCATION||(!m.force&&this._checkedForUpdate)||(!m.force&&this.userLocation.isValid()&&!this.userLocation.isExpired())){k&&k();return}if(!m.retry){g.pixel.fire("lupd",m.updateType)}this._stopWaitTimeout();this._waitTimeout=w.setTimeout(function(){this._waitTimeout=null;this.set("waitingForLocation",true);this.set("errorGettingLocation",false)}.bind(this),150);var n=Date.now();w.navigator.geolocation.getCurrentPosition(function(p){if(!this._waitTimeout&&!this.waitingForLocation){k&&k();return}this._stopWaitTimeout();var o=new g.Models.UserLocation({lat:p.coords.latitude,lon:p.coords.longitude});this._checkedForUpdate=true;this.set("errorGettingLocation",false);this.set("waitingForLocation",false);o.setDescByGeocoding(function(){var q=this.setLocation(o);g.pixel.fire("lups",m.updateType,{di:q});this.emit("successGettingLocation");k&&k()}.bind(this))}.bind(this),function(p){var o=null;if(!this._waitTimeout&&!this.waitingForLocation){k&&k();return}this._stopWaitTimeout();if((p.code===3||p.code===2)&&this._retries<i){this._retries+=1;m.retry=true;this.updateLocation(m,k);return}else{if(p.code===1){o=(Date.now()-n)<100?"sys":"user";g.settings.set(e,"-1",{saveToCookie:true,saveToCloud:false})}}this._checkedForUpdate=true;this.set("errorGettingLocation",p.code);this.set("waitingForLocation",false);g.pixel.fire("lupe",m.updateType,p.code,o);k&&k()}.bind(this),{enableHighAccuracy:(this._retries?false:h),timeout:a,maximumAge:(this._retries?f*6:f)})},cancelLocation:function(){this._stopWaitTimeout();this.set("waitingForLocation",false);this.set("errorGettingLocation",false)},clearLocation:function(){this._stopWaitTimeout();this.set("userLocation",new g.Models.UserLocation());this.set("errorGettingLocation",false);this.set("waitingForLocation",false);g.settings.clear(c,{saveToCookie:true,saveToCloud:false});this.emit("meaningfulUserLocationChange")},_stopWaitTimeout:function(){if(this._waitTimeout){w.clearTimeout(this._waitTimeout);this._waitTimeout=null}},setGeoIPLocation:function(k){if(!k||k.type!==g.Models.UserLocation.GEOIP_LOCATION||!k.isValid()){return}this.geoipLocation=k;if(this.hasLocation()&&this.userLocation.type===DDG.Models.UserLocation.MANUAL_LOCATION&&this.geoipLocation.lat!==this.userLocation.geoipLat&&this.geoipLocation.lon!==this.userLocation.geoipLon){g.pixel.fire("lmgc")}},setLocation:function(m,k){k=typeof k==="undefined"?true:k;var n=0;if(!this.userLocation.isSameAs(m)){n=g.geo.distance(this.userLocation,m);this.set("userLocation",m)}if(k){g.settings.clear(e);g.settings.set(c,this.userLocation.toString(),{saveToCookie:true,saveToCloud:false})}if(n&&n>j){this.emit("meaningfulUserLocationChange",n)}return n}});g.userLocator=new g.Models.UserLocator()}(DDG);!function(e){var c=e.Models.Base,b=4,a=2;e.Models.ModuleImageHeader=function(g){g=g||{};this.images=g.images||[];this.loadMoreImages=g.loadMoreImages||false;this.maxNumberOfImages=e.device.widthBreakpoint()==="xs"?a:b;if(this.loadMoreImages){this.numberOfImages=this.maxNumberOfImages}else{if(this.images&&this.images.length){this.numberOfImages=this.images.length>this.maxNumberOfImages?this.maxNumberOfImages:this.images.length}}this.layout=g.layout||this._getLayout();if(g.morePhotosText){this.morePhotosText=g.morePhotosText}else{this.morePhotosText=l("See Photos")}c.call(this,g);if(this.loadMoreImages&&this.images.length<this.maxNumberOfImages){this.imagesModel=e.duckbar.tabs.images.model;this.bindEvents([[this.imagesModel,"change:items",this._updateImages],[this.imagesModel,"change:failed",this._updateImages]]);var f={};f.query=g.query;f.vqd=g.imagesVqd;this.imagesModel.requery(f)}};e.Models.ModuleImageHeader.prototype=$.extend({},c.prototype,{_getLayout:function(){var f={};f["layout_"+this.numberOfImages]=true;return f},_updateImages:function(){if(!this.imagesModel.items.length||this._loadedImages){return}this._loadedImages=true;var f=this.maxNumberOfImages-this.images.length;for(var g=0;g<f;g++){this.images.push({url:this.imagesModel.items[g].thumbnail})}this.set("imagesLoaded",true)}})}(DDG);!function(c){var a=c.Models.Base,b=["annotation","callout"];c.Models.ResultSnippet=function(f){a.call(this,f);if(f.text){this.organicResultSnippet=f.text}else{var e=(["b","c"].indexOf(c.searchExperiments.getExperimentGroup("nadca"))!==-1&&(this.creativeAnnotation&&this.creativeAnnotation.a));this.organicResultSnippet=e||this.item.a}this.formattedDate=c.Utils.ParseDate.getFormattedDate(this.item.e,window.locale);this.snippets=[this.organicResultSnippet];this.tids=[];this._appendAdExtensions();if(this.isAd){this.href=this.item.c;if(window.kn&&window.kn==="1"&&this.href.indexOf("http")!==-1){this.targetBlank=true}}};c.Models.ResultSnippet.prototype=$.extend({},a.prototype,{_appendAdExtensions:function(){var e=DDG.pageLayout&&DDG.pageLayout.canSendSERPAdImpressions(),m=e?this.item.adext:this.item.ae;var j=function(n,o){if(e){return o.t}if(n==="annotation"){return o}if(n==="callout"){return o.join(" &#183; ")}return false};if(m){for(var f in b){var g=b[f],k=m[g];if(k&&this.showExtensionData){var i=j(g,k),h=k.tid;if(i){this.snippets.push(i)}if(e&&h){this.tids.push(h)}}}}}})}(DDG);!function(b){var a=b.Models.Base;b.Models.ResultExtras=function(f){a.call(this,f);var k=this.item.c,j=this.item.d,m=this.item.i,e=this._splitUrl(k,j),i=b.settings.get("kn");this.link=$.extend({},e,{href:k,prefix:e.protocol==="https"?e.protocol+"://":null,targetBlank:this._openInNewWindow(i,k)});if(m!==""){var g=b.get_query_encoded(),n=b.settings.get("kf"),c=this.isAd&&this.item.late,h;if(c){h=false}else{h=b.deep.pageNumber===1}this.icon={hide:n==="-1",imageUrl:this._getImageUrl(m),siteSearchUrl:this._getSiteSearchUrl(g,e.domain),lazyLoad:h,title:this._getTitle(this.isAd,j)}}};b.Models.ResultExtras.prototype=$.extend({},a.prototype,{_splitUrl:function(c,f){c=c||"";f=f||"";f=f.split("/");var e={protocol:c.indexOf("https")!==-1?"https":"http",domain:f.shift()||"",path:f.join("/")||""};return e},_openInNewWindow:function(e,c){if(!e){return false}return e==="1"&&c.indexOf("http")!==-1},_getImageUrl:function(e){var c="";if(typeof e==="string"&&e.indexOf("http")===0){c=DDG.getImageProxyURL(e)}else{c=DDG.get_favicon_url(e)}return c},_getSiteSearchUrl:function(e,f){var c="/?q="+e;if(!b.search.isSiteQuery){c+="+site:"+f}if(window.kurl){c+=kurl}return c},_getTitle:function(c,f){if(c){return""}var e=f,g=l("Search domain %s",e);return g}})}(DDG);!function(b){var a=b.Views.Base;b.Views.AdSitelinks=function(c){this.$organicResultContainer=$(c.organicResultContainer);a.call(this,c)};b.Views.AdSitelinks.prototype=$.extend({},a.prototype,{_render:function(){this.$parent.append($(this.model.getSitelinkHtml()));if(this.model.hasSitelinkDescriptions){this.$organicResultContainer.attr("data-sld",true)}this.$parent.find("a.sponsored__sitelink").click(function(c){adClick(this.model.source,this.$organicResultContainer,c);return nrl(c,c.currentTarget)}.bind(this))}})}(DDG);!function(b){var a=b.Views.Base;b.Views.ResultSnippet=function(c){this.template=(c.model.isAd)?"result_snippet_ad":"result_snippet";a.call(this,c);if(c.model.isAd){this.$el.find("a").click(function(f){window.adClick(c.model.item.s,c.parentDiv,f);return window.nrl(f,this)})}};b.Views.ResultSnippet.prototype=$.extend({},a.prototype,{})}(DDG);!function(b){var a=b.Views.Base;b.Views.ResultExtras=function(c){this.template=(c.model.isAd)?"result_extras_ad":"result_extras";this.parentDiv=c.parentDiv;this.titleLockIcon=c.titleLockIcon;a.call(this,c)};b.Views.ResultExtras.prototype=$.extend({},a.prototype,{_enroll:function(){if(this.model.isAd){return false}var c=$(this.parentDiv);this.demexp=DDG.searchExperiments.demexp&&DDG.searchExperiments.demexp.activeGroup;if(this.demexp&&this.demexp!=="a"){c.addClass("http");if(this.model.link.protocol==="http"){c.addClass(this.demexp);this.template="result_extras_unencrypted";this.model.link.prefix="http://";if(this.demexp==="c"||this.demexp==="e"){this.model.icon=false}}}},_render:function(c){var e=$(this.parentDiv);e.data("protocol",this.model.link.protocol);this._enroll();a.prototype._render.call(this,$.extend({},c,{icon:this.model.icon,link:this.model.link}));this._cacheElems(".js-result-extras",["site_search","icon","tooltip","url","url-tooltip","close"]);this.bindEvents([[this.$site_search,"click",this._onIconClick],[this.$url,"click",this._onUrlClick],[this.$close,"click",this._onCloseClick]]);if(this.demexp&&this.demexp!=="a"){if(this.$icon.length){this.bindEvents([[this.$icon,"click",this._onLockClick],[this.$icon,"mouseenter",this._showTooltip],[this.$icon,"mouseleave",this._hideTooltip]])}if(this.titleLockIcon){this.bindEvents([[this.titleLockIcon,"click",this._onLockClick],[this.titleLockIcon,"mouseenter",this._showTooltip],[this.titleLockIcon,"mouseleave",this._hideTooltip]])}if(!DDG.device.isMobileDevice){this.bindEvents([[this.$url,"mouseenter",this._showTooltip],[this.$url,"mouseleave",this._hideTooltip]])}}},_onIconClick:function(c){window.fl=1},_wrapLinks:function(){$.noop()},_showTooltip:function(){var c=this.$tooltip.length?this.$tooltip:this.$urltooltip;c.addClass("is-showing");b.pixel.fire("dem",{t:"d"});this._showingTooltip=true;if(b.device.isMobile){b.$doc.on("click.http-tooltip",this._hideTooltip.bind(this))}},_hideTooltip:function(){var c=this.$tooltip.length?this.$tooltip:this.$urltooltip;c.removeClass("is-showing");this._showingTooltip=false;if(b.device.isMobile){b.$doc.off("click.http-tooltip")}},_onUrlClick:function(f){if(DDG.device.isMobileDevice&&this.demexp&&this.demexp!=="a"){if(!this._showingTooltip){f.preventDefault();f.stopPropagation();this._showTooltip();return}this._hideTooltip()}var c=this.$url[0];if(this.model.isAd){window.adClick(this.model.item.s,this.parentDiv,f)}else{window.organicClick(this.parentDiv,f)}return window.nrl(f,c)},_onLockClick:function(c){c.stopPropagation();if(!this._showingTooltip){this._showTooltip()}else{this._hideTooltip()}},_onCloseClick:function(c){c.stopPropagation();c.preventDefault();this._hideTooltip()}})}(DDG);!function(b){var a=b.Views.Base;b.Views.SERPMessages=function(c){this.ads=c.ads;this.searchbar=c.searchbar;this._pendingMessages=[];a.call(this,c);if(c.messages.spelling){this.showMessage("spelling",c.messages.spelling)}if(c.messages.safeSearch){this.showMessage("safeSearch")}if(c.messages.siteSearch){this.showMessage("siteSearch")}};b.Views.SERPMessages.prototype=$.extend({},a.prototype,{isReady:false,ready:function(){this.isReady=true;this._pendingMessages.forEach(function(c){this.showMessage(c[0],c[1])}.bind(this));this._pendingMessages=[]},showMessage:function(e,c){if(!this.isReady){return this._pendingMessages.push([e,c])}if(e==="spelling"){this._showSpellingMessage(c)}else{if(e==="safeSearch"){this._showSafeSearchMessage()}else{if(e==="siteSearch"&&!this._showingMessage){this._showSiteSearchMessage()}}}},_showSafeSearchMessage:function(){if(b.page.isSafeDDG||!b.settings.safeSearch.isStrict()){return}if(this.$safeSearch){return}var c=b.deep.getResultCount()?1:0;this.$safeSearch=b.exec_template("safe_search",{noResults:!c,searchTerm:"<b>"+rqd+"</b>"});this.$el.prepend(this.$safeSearch);this.$(".js-safe-search-temp").on("click",function(f){f.preventDefault();b.pixel.fire("sss","m",{v:-1,p:0,r:c});b.settings.safeSearch.setTemporaryId("-1",function(){b.search.requery()})});this.$(".js-safe-search-perm").on("click",function(f){f.preventDefault();b.pixel.fire("sss","m",{v:-1,p:1,r:c});b.settings.safeSearch.setId("-1",function(){b.search.requery()})});this._showingMessage=true;b.page.showingSafeSearch=1;b.pixel.fire("ssi",{r:c});if(!c){DDG.deep.hideNoResults=true}},_showSiteSearchMessage:function(){if(this.$siteSearch||!b.deep.getResultCount()){return}var e=sfq,c=b.search.getSiteQuery(e);if(c.sites.length){this.$siteSearch=DDG.$exec_template("site_query",{queryEncoded:encodeURIComponent(c.query),isExcluding:c.isExcluding,hasMultipleSites:c.sites.length>1,sites:c.sites,forceBreak:b.device.isMobile&&c.sites.length>1});this.$el.append(this.$siteSearch);this._showingMessage=true}},_showSpellingMessage:function(c){if(this.$safeSearch||this.$spelling||!b.search.spelling.isValidType()){return}this.$spelling=new b.Views.SpellingMessage({appendTo:this.$el.selector,model:b.search.spelling});this._showingMessage=true}})}(DDG);!function(b){var a=b.Views.Base;b.Views.SpellingMessage=function(c){this.model=c.model;this.ia=c.ia;a.call(this,c)};b.Views.SpellingMessage.prototype=$.extend({},a.prototype,{template:"spelling_",_render:function(c){this.template+=this.model.type;a.prototype._render.call(this);this._showSpellingMessage()},_showSpellingMessage:function(){b.pixel.fire("spd",this.model.type);if(this.model.type==="nmrc"){this.$el.find(".js-spelling-suggestion-link").html(this.model.suggestion)}else{this.$el.find(".js-spelling-suggestion-link").attr({href:this.model.makeSpellingURL(this.model.link,false,this.ia),"data-query":this.model.query}).html(this.model.suggestion).click(this._onSpellingLinkClick.bind(this,this.model.query))}this.$el.find(".js-spelling-recourse-link").attr({href:this.model.makeSpellingURL(this.model.recourseLink,true,this.ia),"data-query":this.model.recourseQuery}).html(this.model.recourseText).click(this._onSpellingLinkClick.bind(this,this.model.recourseQuery))},_onSpellingLinkClick:function(c,f){DDG.pixel.fire("sp",this.model.type);if(!b.settings.isDefault("kg")){f.preventDefault();b.page.searchbar.updateQuery(c)}}})}(DDG);!function(b){var a=b.Views.Base;b.Views.TwitterEasterEgg=function(c){this.username=c.username;a.call(this,c);this._fetchImage()};b.Views.TwitterEasterEgg.prototype=$.extend({},a.prototype,{_fetchImage:function(){$.ajax({url:"/tw.js?o=json&user="+this.username,dataType:"json",success:function(c){this.image=c&&c.profile_image;this._renderEasterEgg()}.bind(this)})},_renderEasterEgg:function(){if(!this.image){return}this.$el.append(b.exec_template("twitter_easter_egg",{image:this.image}));this._cacheElems(".js-logo",["ddg","praise","avatar"]);this.$el.attr("href","/spread");setTimeout(this._animate.bind(this),1000)},_animate:function(){this.$ddg.hide();this.$praise.show();setTimeout(function(){this.$praise.hide();this.$avatar.show()}.bind(this),1000);setTimeout(function(){this.$avatar.hide();this.$ddg.show()}.bind(this),3000)}})}(DDG);!function(c){var b=c.Views.Base,e="set-header--floating",a=20;c.Views.Header=function(f){b.call(this,f);this.views.headerLinks=new c.Views.HeaderLinks({appendTo:".js-header-aside",hideSettingsIcon:f.hideSettingsIcon});this.bindEvents([[c.device,"scroll",this._onScroll]])};c.Views.Header.prototype=$.extend({},b.prototype,{_onScroll:function(f){this.model.updateScrollPosition(c.device.scrollTop());if(this.model.scrolledToTop){this._reset();return}if(this.model.scrolledPastHeader){this.views.headerLinks.hide()}if(this.model.scrolledPastHeaderThreshold&&!c.hasClass(this.$el[0].id,e)){this._updateHeaderPosition();setTimeout(function(){c.addClass(this.$el[0].id,c.$html,e)}.bind(this),a)}if(this.model.canUpdateHeaderPosition){this._updateHeaderPosition()}},_updateHeaderPosition:function(){this.$el.css("top",this.model.newHeaderPosition)},_reset:function(){this.$el.css("top",0);c.removeClass(this.$el[0].id,c.$html,e)}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Footer=function(e){a.call(this,e);this._cacheElems(".js-footer",["card","link"]);this.bindEvents([[this.$card,"click",this._onItemClick],[this.$link,"click",this._onItemClick],[this.model,"change:visible",this._toggleVisibility]]);if(b.settings.isDefault("kav")){this.model.set("visible",true)}var c=$(".js-footer-lazysvg");DDG.ImageLoader.registerAll(c,"scrollY")};b.Views.Footer.prototype=$.extend({},a.prototype,{template:(b.device.isDesktop)?"footer":"footer_mobile",_render:function(c){a.prototype._render.call(this,c);this._showFeedbackBtn()},_showFeedbackBtn:function(){if(!this.views.feedback&&b.device.isMobileDevice&&b.duckbar){this.views.feedback=new b.Views.Feedback.Button({appendTo:".js-footer-feedback-btn-wrap",clickPixel:"fbpm"})}},_toggleVisibility:function(c){if(!c){b.$html.removeClass("has-footer");this.$el.hide()}else{b.$html.addClass("has-footer");this.$el.show()}if(!this._hasShownFooter){this._setContentMinHeight();b.device.on("resize",this._setContentMinHeight.bind(this));this._hasShownFooter=true}},_onItemClick:function(f){var c=$(f.currentTarget);var g=c.data("id");b.pixel.fire("fic",g,{ic:+(c.hasClass("footer__card"))})},_setContentMinHeight:function(){this.$after.css("min-height",b.device.height)}})}(DDG);!function(b){var a=b.Views.Base;b.Views.ClickableItem=function(c){a.call(this,c)};b.Views.ClickableItem.prototype=$.extend({},a.prototype,{_render:function(c){a.prototype._render.call(this,c);this.bindEvents([[this.$el,"click",this._onClick],[this.$el,"mousedown",this._onMouseDown]])},_onMouseDown:function(f){if($(f.target).is("a")){return}f.stopPropagation();var g=0;if(b.device.isIE&&(nkdc(f)||nkdm(f))){g=1}var h=f.which&&f.which==2;var c=f.which&&f.which==3;if(g||h||c){fm=1;if(!c){this._onClick(f,1)}}else{fm=0}},_onClick:function(g,f){g.stopPropagation();this.answer.engaged();var c;if(g.target&&g.target.nodeName==="A"){c=g.target}else{c=this.$el[0];c.href=this.$el.attr("data-link")}if(c.href){b.history.set({iai:this.answer.getQuerystringItemId(this.model)},function(){if(!DDG.isInternalURL(c.href)){this.answer.clickedExternalLink({},g)}if(!f&&b.settings.get("kn")==="1"){f=1}nrg(null,null,g,f,c)}.bind(this));return g.preventDefault()}this.model.select()},_onExternalLinkClick:function(c){c.stopPropagation();this.answer.engaged();this.answer.clickedExternalLink({},c);if(c.ctrlKey){b.history.set({iai:this.answer.getQuerystringItemId(this.model)});return a.prototype._onExternalLinkClick.call(this,c)}b.history.set({iai:this.answer.getQuerystringItemId(this.model),pn:this.model.pageNo},function(){a.prototype._onExternalLinkClick.call(this,c)}.bind(this))}})}(DDG);!function(b){var a=b.Views.Base;b.Views.ModuleImageHeader=function(e){this.answer=e.answer;this.model=new b.Models.ModuleImageHeader({images:this._getImages(e.model),loadMoreImages:this.answer.answerItemModel==="About",isMapExpanded:this.answer.isMapExpanded,query:this.answer.meta.requery,imagesVqd:e.imagesVqd,morePhotosText:e.model&&e.model.morePhotosText});this.model.imageURL=e.model.imageURL;if(this.answer.isMapExpanded){var f=this.answer.meta.requery?encodeURIComponent(this.answer.meta.requery):this.answer.queryEncoded;this.model.imageIAURL="/?q="+f+"&ia=images&iax=images"+(w.kurl?w.kurl:"")}var c=$.extend(true,{},e);c.model=this.model;a.call(this,c);this.bindEvents([[this.model,"change:imagesLoaded",this._onImagesLoaded]])};b.Views.ModuleImageHeader.prototype=$.extend({},a.prototype,{template:"module_image_header",_render:function(c){a.prototype._render.call(this,$.extend({},this.model,{hideTitle:this.answer.sourceId==="applemaps"}));this.bindEvents([[this.$el,"click",this._onClick]])},_getImages:function(f){var c=[];var e=f.image||f.imageURL;if(e){c.push({url:e})}if(f.thumbnails){for(var g=0;g<f.thumbnails.length;g++){c.push({url:f.thumbnails[g]})}}return c},_onImagesLoaded:function(){this._rerender()},_onClick:function(c){if(this.answer.nameId==="about"&&!this.answer.isMapExpanded){c.preventDefault();b.duckbar.open("images");this.answer.set("isMapExpanded",false)}}})}(DDG);!function(b){var a=b.Views.Base;b.Views.WebAttribution=function(c){a.call(this,c)};b.Views.WebAttribution.prototype=$.extend({},a.prototype,{template:"web_attribution",_render:function(c){a.prototype._render.call(this,{src:this.model.getAttributionSource()})}})}(DDG);!function(c){var a=c.Views.Base,b=160;c.Views.NoResults=function(e){this.vertical=e.vertical||"web";this.resultType=e.resultType||l("Results");this.skipPixel=e.skipPixel;this.resetFilters=e.resetFilters;a.call(this,e)};c.Views.NoResults.prototype=$.extend({},a.prototype,{template:"no_results",show:function(){this.$el.removeClass("is-hidden")},hide:function(){this.$el.addClass("is-hidden")},_render:function(){var g=(!c.deep.bn||c.deep.bn.ivc)?1:0,f=c.deep.is506&&Math.random()<0.1,e=(!c.history.get("norrc")&&(!g||f))||this.resetFilters;a.prototype._render.call(this,{query:rqd,resultType:this.resultType.toLowerCase(),showWebLink:(this.vertical!=="web"),showRetryMessage:e,resetFilters:this.resetFilters,minHeight:c.device.height-b});this._pixelData={r:e?1:0,i506:c.deep.is506?1:0,ivc:g,irt:c.history.get("norrc")?1:0,v:this.vertical};if(!this.skipPixel){c.pixel.fire("nor",this._pixelData)}this.bindEvents([[".js-no-results-retry","click",this._onRetryClick],[".js-no-results-web","click",this._onWebClick]])},_onRetryClick:function(){this._pixelData.age=c.vqd.age();c.pixel.fire("norrc",this._pixelData);c.history.set("norrc",1);setTimeout(function(){window.location.reload()},250)},_onWebClick:function(f){f.preventDefault();c.pixel.fire("norwc",this._pixelData);c.duckbar.open("web")}})}(DDG);!function(b){var a=b.Views.Base;b.Views.NoMoreResults=function(c){a.call(this,c)};b.Views.NoMoreResults.prototype=$.extend({},a.prototype,{template:"no_more_results",show:function(){this.$el.removeClass("is-hidden")},hide:function(){this.$el.addClass("is-hidden")},_render:function(){a.prototype._render.call(this,{query:rqd})}})}(DDG);!function(c){var b=c.Views.Base;var a={euandroid:{template:"welcome_message_eu",pixels:{impression:"wceui",dismiss:"wceud",cta:"wceuo"},dismissCookieCallback:function(){c.settings.set("kea","1")}},extensionInstall:{template:"welcome_message",pixels:{impression:"wcmi",dismiss:"wcmd"}}};c.Views.WelcomeMessage=function(e){b.call(this,e)};c.Views.WelcomeMessage.prototype=$.extend({},b.prototype,{_render:function(e){this.config=a[e.type||"extensionInstall"];this.template=this.config.template;c.pixel.fire(this.config.pixels.impression);setTimeout(function(){this.$parent.addClass("is-showing")}.bind(this),1000);b.prototype._render.call(this,$.extend(e,{queryString:c.get_query_encoded()}));this._cacheElems(".js-welcome",["dismiss","cta"]);this.bindEvents([[this.$dismiss,"click",this._onClick.bind(this,"dismiss")],[this.$cta,"click",this._onClick.bind(this,"cta")]])},_onClick:function(e){if(e&&this.config.pixels[e]){c.pixel.fire(this.config.pixels[e])}else{}if(this.config.dismissCookieCallback){this.config.dismissCookieCallback()}this.$el.hide()}})}(DDG);!function(c){var b=c.Views.Base,e=100,a=["xs","s","m"];c.Views.AdBadge=function(f){this.mouseLeaveTimeout;this.position;f=$.extend({},{context:"default",label:l("Ad")},f);b.call(this,f)};c.Views.AdBadge.prototype=$.extend({},b.prototype,{template:"ad_badge",_render:function(f){if(!c.adBadgeTooltipView){c.adBadgeTooltipView=new DDG.Views.AdBadgeTooltip({appendTo:$(".body--serp")})}b.prototype._render.call(this,f);this.$adBadge=this.$(".js-badge--ad");if(c.device.isMobileDevice){this.bindEvents([[this.$adBadge,"click",this._onBadgeClick]])}else{this.bindEvents([[this.$adBadge,"mouseenter",this._onBadgeMouseEnter],[this.$adBadge,"mouseout",this._onBadgeMouseLeave]])}},_triggerTooltip:function(){var g,k,j=this.$adBadge.offset(),m=this.$adBadge.outerHeight(),f=this.$adBadge.outerWidth();if(a.indexOf(c.device.widthBreakpoint())!==-1){this.position="mobile"}else{var h=this.$el.parents(".js-sidebar-ads").length===1,i=this.$el.parents(".js-metabar").length===1;this.position=(h||i)?"below":"right"}if(this.position==="mobile"){g=j.top+m;k=j.left}else{if(this.position==="below"){g=j.top+m;k=j.left+f}else{g=j.top+(m/2);k=j.left+f}}c.adBadgeTooltipView.showTooltip(g,k,this.position)},_onBadgeClick:function(f){f.stopPropagation();this._triggerTooltip();window.addEventListener("touchstart",this._onWindowTouchStart)},_onWindowTouchStart:function(g){var f=$(g.target);if(f.is(".badge--ad__tooltip")||f.is(".badge--ad__tooltip-link")){return}c.adBadgeTooltipView.hideTooltip()},_onBadgeMouseEnter:function(f){if(this.mouseLeaveTimeout){clearTimeout(this.mouseLeaveTimeout)}this._triggerTooltip()},_onBadgeMouseLeave:function(f){this.mouseLeaveTimeout=setTimeout(function(){c.adBadgeTooltipView.hideTooltip()},e)}})}(DDG);!function(c){var b=c.Views.Base,a=["bg_BG","cs_CZ","da_DK","de_DE","el_GR","es_ES","et_EE","fi_FI","fr_FR","hr_HR","hu_HU","is_IS","it_IT","lt_LT","lv_LV","nb_NO","nl_NL","pl_PL","pt_PT","ro_RO","ru_RU","sk_SK","sl_SI","sv_SE","tr_TR"];c.Views.AdBadgeTooltip=function(e){this.preventHide=false;this.helpPageURL=this._getHelpPageURL();b.call(this,e)};c.Views.AdBadgeTooltip.prototype=$.extend({},b.prototype,{template:"ad_badge_tooltip",showTooltip:function(f,g,e){this.$el.addClass("badge--ad__tooltip--"+e);this.$el.removeClass("is-hidden");if(e==="right"){f-=this.$el.outerHeight()/2}if(e==="below"){g-=this.$el.outerWidth()}if(e==="mobile"){this.$el.width(c.device.width-60);this.$triangleouter.css({left:g-((c.device.width-this.$el.outerWidth())/2)});this.$triangleinner.css({left:g-((c.device.width-this.$el.outerWidth())/2)});g=(c.device.width-this.$el.outerWidth())/2}this.$el.css({top:f,left:g})},hideTooltip:function(){if(this.preventHide){return}this.$el.css({top:"",left:"",width:""});this.$triangleouter.css({top:"",left:""});this.$triangleinner.css({top:"",left:""});this.$el.removeClass(function(e,f){return(f.match(/badge--ad__tooltip--.*/g)||[]).join(" ")});this.$el.addClass("is-hidden")},_render:function(){b.prototype._render.call(this,{helpPageURL:this.helpPageURL});this._cacheElems(".js-ad-badge-tooltip",["triangle-outer","triangle-inner"]);this.bindEvents([[this.$el,"mouseenter",this._onMouseEnter],[this.$el,"mouseleave",this._onMouseLeave],[c.device,"resize",this._onResize]])},_getHelpPageURL:function(){var f=this._getHelpPageLocaleSuffix();var e=f?"translated":"company";return"https://help.duckduckgo.com/"+e+"/ads-by-microsoft-on-duckduckgo-private-search"+f},_getHelpPageLocaleSuffix:function(){var f=window.locale;var e="";var g=a.indexOf(f);if(g>=0){e="-"+a[g]}return e},_onMouseEnter:function(f){this.preventHide=!c.device.isMobileDevice},_onMouseLeave:function(f){this.preventHide=false;this.hideTooltip()},_onResize:function(){this.preventHide=false;this.hideTooltip()}})}(DDG);!function(f){var b=f.Views.Base,e=f.Views.AnswerBar.Meta,c=44,a={expandModeIcon:"G",exitModeIcon:"×",minTopicsForMenu:3};e.MetaBar=function(h){if(h.heading){h.primaryText=h.heading}if(h.altMeta){h.secondaryText=h.altMeta}$.extend(this,a,h);this.parent=h.parent;this.notFixed=h.notFixed;this.showParams=this._shouldShowParams();this.showSources=this.model.sources&&this.model.sources.values.length>1;this.showAdBadge=this.model.meta&&this.model.meta.hasAdBadge;b.call(this,h);var g=this.model;this.bindEvents([[g,"change:items",this._onItemsChanged],[g,"change:expanded",this._onExpandedChanged],[g,"change:canExpand",this._onExpandedChanged],[g,"change:topics",this._createTopicMenu],[g,"change:parameters",this._onParametersChanged],[f.device,"scroll",this._onScroll]])};e.MetaBar.prototype=$.extend({},b.prototype,{template:"metabar",show:function(){this.$el.removeClass("is-hidden");this._height=this.$el.outerHeight(true)},hide:function(){this.$el.addClass("is-hidden")},getHeight:function(){return c},isStuck:function(){return DDG.hasClass(this.id,"is-stuck")},_render:function(){b.prototype._render.call(this,$.extend({},{showMoreAt:this.sourceName,showDropdowns:this.showParams||this.showSources,searchTerm:this.model.query,itemType:l("Results")},this));if(Modernizr.touch||is_mobile){this.$el.removeClass("metabar--fixed").addClass("metabar--unsticky")}this._cacheElems(".js-metabar",["primary","secondary","loading","mode","dropdowns"]);this.$mode.on("click",this._onModeClick.bind(this));if(this.clickableSecondaryText){this.$secondary.on("click",this._onSecondaryClick.bind(this))}this._updateMode();this._updateLoadingState();this._createTopicMenu();this._createAttribution();this._createSourceDropdown();this._createParameterDropdowns();this._createAdBadge();if(this.linkPrimaryText){this.$primary.addClass("metabar__primary-text--linked");this.$primary.on("click",this._onModeClick.bind(this))}},_createTopicMenu:function(){var g=this.views,h=this.model,i=this.model.topics;if(!g.topicMenu&&i.length&&i.length>=this.minTopicsForMenu){g.topicMenu=new f.Views.AnswerBar.Meta.TopicMenu({model:h,appendTo:this.$(".js-metabar")});this.$primary.hide()}},_createAttribution:function(){if(!this.model.meta.hasAttribution()||this.model.meta.hideAttribution){return false}var g=this.$(".js-attribution");this.views.attribution=new f.Views.Attribution({answer:this.model,direction:this.sourceName?"bottom":"bottom-left",appendTo:g});g.removeClass("is-hidden")},_createParameterDropdowns:function(){if(!this.showParams){return}this.views.parameters=new f.Views.Dropdowns.FilterContainer({$el:this.$dropdowns,answer:this.model})},_createSourceDropdown:function(){if(!this.showSources){return}this.views.source=new e.FilterDropdown({model:this.model.sources,answer:this.model,appendTo:this.$dropdowns})},_createAdBadge:function(){if(!this.showAdBadge){return}this.views.source=new f.Views.AdBadge({label:l("Ads"),appendTo:this.$(".js-metabar"),context:"shopping-vertical"})},_shouldShowParams:function(){var g=this.model,h=(g.parameters&&g.parameters.length);return(h||g.hasDynamicFilters)&&!g.canShowSidebarFilters},_updateLoadingState:function(){if(!this._isLoaded&&this.model.items.length){this.$loading.hide();this.$primary.removeClass("is-loading");this.$dropdowns.removeClass("is-loading");this.$secondary.removeClass("is-loading");this._isLoaded=true}},_updateMode:function(){var r=this,i=r.model,j=i.expanded,h=r.$mode,k=f.device.isMobile,q=i.meta,g=r.exitModeIcon,m=function(){if(q.useExpandTextButton()){h.removeClass("btn--icon");h.addClass("metabar__grid-btn");h.text(l("More "+r.model.name))}else{h.addClass("btn--icon");h.removeClass("metabar__grid-btn");h.text(r.expandModeIcon)}},p=function(){r._modeSwitchEnabled=true;h.removeClass("is-disabled");h.removeClass("btn--icon");h.addClass("metabar__grid-btn");h.text(g);h.attr("title",l("Click to collapse"))},o=function(){r._modeSwitchEnabled=true;h.removeClass("is-disabled");m();h.attr("title",l("Click to expand"))},n=function(){r._modeSwitchEnabled=false;h.addClass("is-disabled");m();h.attr("title",l("Grid mode disabled for this answer"))};if(q.hideModeSwitch||f.duckbar.tabIsActiveFullPage(r)){h.addClass("is-hidden")}else{if(k||j){p()}else{if(i.canExpand){o()}else{n()}}}},_onScroll:function(){if(Modernizr.touch||f.device.isMobile||!this.parent||!this.model.active||this.notFixed){return}var n=DDG.hasClass(this.id,"is-stuck"),g=DDG.hasClass(this.id,"at-bottom");if(!this.model.expanded){if(n){DDG.removeClass(this.id,this.$el,"is-stuck");this.emit("stuck",false)}if(g){DDG.removeClass(this.id,this.$el,"at-bottom")}return}var k=f.device.scrollTop(),m=this.parent.getHeight(),j=0,i=m-c,h=DDG.get_header_height();j+=!DDG.isHeaderFixed?h:0;i+=j;if(k>j&&!n){DDG.addClass(this.id,this.$el,"is-stuck");this.emit("stuck",true)}else{if(k<=j&&n){DDG.removeClass(this.id,this.$el,"is-stuck");this.emit("stuck",false)}}if(!g&&k>i){DDG.addClass(this.id,this.$el,"at-bottom")}else{if(g&&k<i){DDG.removeClass(this.id,this.$el,"at-bottom")}}},_onModeClick:function(g){g.preventDefault();g.stopPropagation();if(!this._modeSwitchEnabled){return}if(f.device.isMobile){return this.emit("close")}if(this.model.allowModuleIA){f.duckbar.open("web")}else{this.model.set("expanded",!this.model.expanded)}this.model.engaged();this.model.fire("iacg",{ex:this.model.expanded?1:0})},_onSecondaryClick:function(){if(this.model.id==="products"&&this.model.bing){f.pixel.fire("iafi","sv","clear");setTimeout(function(){window.location.reload()},100)}},_onItemsChanged:function(){this._updateLoadingState();this._updateMode()},_onExpandedChanged:function(){this._updateMode()},_onParametersChanged:function(){if(this.views&&this.views.parameters){this.views.parameters.destroyChildViews();delete this.views.parameters}this._createParameterDropdowns()},_onExternalLinkClick:function(g){this.model.clickedExternalLink();b.prototype._onExternalLinkClick.call(this,g)}})}(DDG);!function(c){var a=c.Views.Base,b=c.Views.AnswerBar.Meta;b.TopicMenu=function(e){this.views={topics:{}};a.call(this,e);this.bindEvents([[this.model,"change:topics",this._updateTopics],[this.model,"change:selectedTopic",this._onSelectedTopicChanged]])};b.TopicMenu.prototype=$.extend({},a.prototype,{template:"topic_menu",destroy:function(){a.prototype.destroy.call(this);this._removeDocHandler()},_render:function(){a.prototype._render.call(this);this.$menu=this.$(".js-topic-menu");this._updateTopics()},_updateTopics:function(){var h,e=this.model.topics,f=this.views.topics;for(var j in f){if(!e[j]){f[j].destroy();delete f[j]}}for(var g=0;g<e.length;g++){h=e[g];if(!f[h.id]){this.views.topics[h.id]=new b.TopicMenuItem({model:h,appendTo:this.$menu})}}},_addDocHandler:function(){DDG.$doc.on("click.topicmenu",this._onDocClick.bind(this));this._boundToDoc=1},_removeDocHandler:function(){DDG.$doc.off("click.topicmenu");this._boundToDoc=0},_onSelectedTopicChanged:function(){if(this.model.selectedTopic&&!this._boundToDoc){this._addDocHandler()}else{this._removeDocHandler()}},_onDocClick:function(){if(this.model.selectedTopic){this.model.selectedTopic.unselect()}}})}(DDG);!function(f){var c=f.Views.Base,e=f.Views.AnswerBar.Meta,a="is-selected",b="is-highlighted";e.TopicMenuItem=function(g){c.call(this,g);this.bindEvents([[this.$link,"click",this._onClick],[this.model,"change:highlighted",this._onHighlightedChanged],[this.model,"change:selected",this._onSelectedChanged],[this.model,"change:count",this._onCountChanged]])};e.TopicMenuItem.prototype=$.extend({},c.prototype,{template:"topic_menu_item",_render:function(){c.prototype._render.call(this,this.model);this._cacheElems(".js-topic-menu",["link","count"])},_onHighlightedChanged:function(){this.$link.toggleClass(b,!!this.model.highlighted)},_onSelectedChanged:function(){this.$link.toggleClass(a,!!this.model.selected)},_onCountChanged:function(){if(this.model.hideCount){return}this.$count.text(this.model.items.length)},_onClick:function(g){g.preventDefault();g.stopPropagation();this.model.select();if($.isFunction(this.model.engaged)){this.model.engaged()}}})}(DDG);!function(c){var a=c.Views.Dropdowns.SelectListDropdown,b=c.Views.AnswerBar.Meta;b.FilterDropdown=function(e){e=e||{};e.showSelected=true;this.answer=e.answer;a.call(this,e)};b.FilterDropdown.prototype=$.extend({},a.prototype,{_render:function(f){a.prototype._render.call(this,f);if(!this.model.bing){var e=c.history.getComposite("iaf",this.model.key);if(e){this.model.select(e)}}else{this.$el.toggleClass("is-active",this.model.selectedId)}},_updateHidden:function(){var e=c.history.get("iaf");if(e){c.hidden.set("iaf",e)}else{c.hidden.clear("iaf")}},_onSelectedChange:function(){var e=this.model.selected.id;a.prototype._onSelectedChange.call(this);if(e){c.history.setComposite("iaf",this.model.key,e);this.$el.addClass("is-active")}else{c.history.clearComposite("iaf",this.model.key);this.$el.removeClass("is-active")}this._updateHidden()},_onItemClick:function(e){a.prototype._onItemClick.call(this,e);if(this.model.bing){this.$el.toggleClass("is-active",($.isNumeric(e)&&e>0))}c.pixel.fire("iafi",this.model.pixelName?this.model.pixelName:this.model.key,{fv:this.model.selected.id.toLowerCase()});this.answer.engaged();this.answer.requery()}})}(DDG);!function(e){var b=e.Views.Base,c=e.Views.AnswerBar.Meta,a=5,f={Price:true,Color:true,Size:true};c.SidebarFilter=function(g){g=g||{};this.answer=g.answer;if(this._canHaveHiddenOptions(g)){this.lastSelected=g.lastSelected=this._getLastSelected(g.model.values);g.hasHiddenOptions=this._getHasHiddenOptions(g);g.numHiddenOptions=this._getNumHiddenOptions(g);g.hasOneHiddenOption=g.numHiddenOptions===1}b.call(this,g);this._cacheElems(".js-sidebar-filters",["options","show-more"]);this._createOptions();this.bindEvents([[this.$showmore,"click",this._onShowMoreClick]])};c.SidebarFilter.prototype=$.extend({},b.prototype,{template:"sidebar_filter",_createOptions:function(){this.views.options=[];for(var g=1;g<this.model.values.length;g++){var h=this.model.values[g];this.views.options.push(new c.SidebarFilterOption({model:this.model,optionName:h.name,optionId:h.id,selected:h.selected,appendTo:this.$options,answer:this.answer,hidden:this._canHaveHiddenOptions(this)&&this._optionIsHidden(g,this.lastSelected)}))}},_getLastSelected:function(g){var j=0;for(var h=1;h<g.length;h++){if(g[h].selected){j=h}}return j},_optionIsHidden:function(g,h){return g>a&&g>h},_getNumHiddenOptions:function(g){return g.model.values.length-(g.lastSelected>a?g.lastSelected:a)-1},_getHasHiddenOptions:function(g){return this._canHaveHiddenOptions(g)&&this._optionIsHidden(g.model.values.length-1,g.lastSelected)},_canHaveHiddenOptions:function(g){return !f[g.model.type]},_onShowMoreClick:function(g){this.$options.find(".sidebar-filter__option").removeClass("is-hidden");this.$(g.target).addClass("is-hidden")}})}(DDG);!function(c){var a=c.Views.Base,b=c.Views.AnswerBar.Meta,e={black:"#222222",white:"#ffffff",red:"#ff0000",brown:"#996633",blue:"#00278e",gray:"#c4c4c4",green:"#5b9e4d",orange:"#de5833",yellow:"#ffc649",pink:"#efa4b2",purple:"#933393"};b.SidebarFilterOption=function(g){g=g||{};if(g.model&&g.model.type==="Color"){var f=g.optionName.toLowerCase();g.isColor=true;g.presetColor=e[f]?f:false;g.color=e[f]||f;g.hideText=true}if(g.model&&g.model.type==="Size"){g.isSize=true;g.hideIcon=true}if(g.model&&g.model.type==="Price"){g.isRadio=true}this.answer=g.answer;a.call(this,g);this.bindEvents([[this.$el,"click",this._onItemClick]])};b.SidebarFilterOption.prototype=$.extend({},a.prototype,{template:"sidebar_filter_option",_onItemClick:function(j){var f=$(j.currentTarget),m=f.data("id");var i=this.model.selectedId===m,h=($.isArray(this.model.selectedId)&&this.model.selectedId.indexOf(m)!==-1),g=i||h,k=f.find("input");if(this.model.singleChoice&&g){return}if(k.length>0){k.prop("checked",!g)}else{f.toggleClass("is-selected",!g)}this.answer.sources.selected.requeryURL=m;c.pixel.fire("iafi",this.model.pixelName);this.answer.engaged();this.answer.requery()}})}(DDG);!function(c){var a=c.Views.Base,b=c.Views.AnswerBar;b.InfoBox=function(e){a.call(this,e);this.$tile=this.$(".js-infobox-tile");this.$expand=this.$(".js-tile-expand");this.$lastInfo=this.$(".info:last");if(this.model.expanded){this._expand()}this.bindEvents([[this.model,"change:expanded",this._onAnswerExpandedChanged],[this.model,"change:active",this._onAnswerActiveChanged],[this.$expand,"click",this._onExpandClick],["a","click",function(){c.pixel.fire("ibc")}],[c.device,"resize",this._onResize]])};b.InfoBox.prototype=$.extend({},a.prototype,{template:"infobox",_expand:function(){if(!this._canExpand()){return}this.$tile.addClass("is-open")},_collapse:function(){if(!this._canExpand()){return}this.$tile.removeClass("is-open")},_canExpand:function(){if(!this.$lastInfo||typeof this._isExpandable==="boolean"){return this._isExpandable}if(this.model.expanded){return this._isExpandable=true}var e=this.$lastInfo.position().top+this.$lastInfo.outerHeight(true),f=this.$tile.outerHeight();return(this._isExpandable=e>f)},_showHideExpandLink:function(){if(this._canExpand()){this.$expand.removeClass("is-hidden")}else{this.$expand.addClass("is-hidden")}},_onExpandClick:function(){this.model.set("expanded",!this.model.expanded);this.model.engaged();this.model.fire("iasm")},_onResize:function(){delete this._isExpandable;this._showHideExpandLink()},_onAnswerActiveChanged:function(){if(this.model.active){delete this._isExpandable;this._showHideExpandLink()}},_onAnswerExpandedChanged:function(){if(this.model.expanded){this._expand()}else{this._collapse()}}})}(DDG);!function(e){var c=e.Views.ClickableItem,g="is-hidden",a="is-selected",b="highlight",f=8;e.Views.AnswerBar.Tile=function(i){this.answer=i.answer;this.noDetail=i.noDetail;c.call(this,i);this.bindEvents([[this.model,"change:visible",this._updateVisible],[this.model,"change:partiallyVisible",this._updateVisible],[this.model,"change:selected",this._onSelectedChanged],[this.model,"change:highlighted",this._onHighlightedChanged],[this.answer,"change:active",this._onAnswerActiveChanged],[this.answer,"change:expanded",this._onAnswerExpandedChanged],[e.device,"resize",this._onResize]]);var h=this.answer.meta.rerender;if(h){this.bindEvents(h.map(function(j){return[this.model,"change:"+j,this._rerender]}.bind(this)))}};e.Views.AnswerBar.Tile.prototype=$.extend({},c.prototype,{show:function(){this.$el.removeClass(g)},hide:function(){this.$el.addClass(g)},getMargins:function(){return{x:parseFloat(this.$el.css("margin-left"),10),top:parseFloat(this.$el.css("margin-top"),10),bottom:this._tileMarginBottom()||f}},_render:function(){this.template=this.model.getItemTemplate();c.prototype._render.call(this,this.model.toTemplateObject());e.ImageLoader.registerAll(this.$(".js-lazyload"),this.model.id);e.ImageLoader.registerAll(this.$(".js-lazysvg"),this.model.id,{svg:true});this.$ellipsis=this.$(".js-ellipsis");var h=this.$("a");if(h.length){h.on("touchstart touchend",function(i){i.stopPropagation()})}if(this.answer.meta.itemsHighlight!==false&&!e.device.isIDevice){this.$el.on("mouseenter",this._onMouseEnter.bind(this));this.$el.on("mouseleave",this._onMouseLeave.bind(this))}this._updateEllipsis({force:true})},_updateEllipsis:function(h){h=h||{};if(h.force){this._hasBeenEllipsized=false}if(this._hasBeenEllipsized||!this.answer.active||!this.model.visible||!this.$ellipsis.length||e.device.isMobile){return}this.$ellipsis.ellipsis({id:this.model.id});this._hasBeenEllipsized=true},_updateVisible:function(){if(this.model.visible||this.model.partiallyVisible){e.ImageLoader.trigger(this.model.id);this._updateEllipsis()}},_updateMargin:function(){if(e.device.isMobile){return}var i=this._tileMarginBottom()||f;if(!this.noDetail&&this.model.canShowItemDetail()&&this.answer.expanded&&this.model.selected){var h=this.answer.items[this.answer.items.length-1].gridRow;if(!h||h!==this.model.gridRow){i=(e.getProperty(this,"answer.detailScrollOffset")||i)*2}else{i=((this._tileMarginBottom()+9)||i)-1}i+=this.answer.getDetailHeight()}i+="px";if(this._marginBottom===i){return}this._marginBottom=i;this.$el.css({marginBottom:i})},_tileMarginBottom:function(){return e.getProperty(this,"answer.tileMarginBottom")},_rerender:function(){c.prototype._rerender.call(this);this._onHighlightedChanged();this._onSelectedChanged()},_onHighlightedChanged:function(){this.$el.toggleClass(b,!!this.model.highlighted)},_onSelectedChanged:function(){if(this.model.selected){e.history.set({iai:this.answer.getQuerystringItemId(this.model)})}this.$el.toggleClass(a,!!this.model.selected);this._updateMargin()},_onAnswerActiveChanged:function(){this._updateEllipsis()},_onAnswerExpandedChanged:function(){this._updateMargin();this._updateEllipsis({force:true})},_onClick:function(i,h){if(this.answer.id==="images"||this.answer.id==="videos"){this.answer.set("expanded",1)}if(this.answer.id==="products"&&this.answer.bing){h=1;this.answer.clickedExternalLink({},i)}if(this.answer.id==="products"&&this.answer.bing){this.answer.clickedExternalLink({},i)}this.answer.fire("iatc");if(this.model.selected){this.answer.engaged();return this.model.unselect()}if(!this.noDetail&&this.model.canShowItemDetail()){i.preventDefault();this.answer.engaged();return this.model.select()}return c.prototype._onClick.call(this,i,h)},_onMouseEnter:function(h){if(e.keyboard.active){return}this.model.highlight()},_onMouseLeave:function(h){this.model.unhighlight()},_onResize:function(h){this._updateEllipsis({force:true});this._updateMargin()},_onExternalLinkClick:function(h){this.answer.fire("iatc");return c.prototype._onExternalLinkClick.call(this,h)}})}(DDG);!function(g){var f=g.Views.AnswerBar.Tile,b="is-loading",c="is-paused",e="is-unavailable",a,i=0;g.Views.AnswerBar.AudioTile=function(j){f.call(this,j);this.bindEvents([[g.keyboard,"space."+this.answer.id,this._onSpace]])};g.Views.AnswerBar.AudioTile.prototype=$.extend({},f.prototype,{play:function(){if(i){this.showError("Playback Unavailable");return}this.$el.addClass(b);if(!this.$action){this.$action=this.$(".audio-controls__action");this.$time=this.$(".audio-controls__time");this.$progress=this.$(".audio-controls__progress");this.$loadProgress=this.$(".audio-controls__progress-loading");this.$loadProgressFill=this.$(".audio-controls__progress-loading .rotated-fill");this.$playProgress=this.$(".audio-controls__progress-playback");this.$playProgressFill=this.$(".audio-controls__progress-playback .rotated-fill")}if(!a){g.require("audio",function(j){a=j;if(a&&a.ready){if(g.device.isIDevice||g.device.isAndroid){this.$el.removeClass(b);return}}else{i=1}this.play()}.bind(this));return}this.$el.removeClass(c);this.$action.text("║");this.isPlaying=1;this.hasStartedPlaying=0;if(this.sound){a.play(this.model.id);this._onLoadProgress()}else{this.sound=a.play(this.model.id,this.model.streamURL,{autoPlay:true,whileloading:this._onLoadProgress.bind(this),whileplaying:this._onPlayProgress.bind(this),onload:this._onLoadFinished.bind(this),onfinish:this._onPlayFinished.bind(this)})}},pause:function(){if(!a||!a.ready){return}a.pause(this.model.id);this.$el.removeClass(b);this.$el.addClass(c);this.$action.text("►");this.isPlaying=0},stop:function(){if(!a||!a.ready){return}a.stop(this.model.id);this.$el.removeClass(b);this.$el.removeClass(c);this.$action.text("►");if(!this.$el.hasClass(e)){this.$time.text("")}this.$loadProgress.removeClass("gt50");this.$playProgress.removeClass("gt50");h(this.$loadProgressFill,0);h(this.$playProgressFill,0);this.isPlaying=0},showError:function(j){this.$time.text(j);this.$el.addClass(e)},_onSelectedChanged:function(){if(this.answer.meta.autoplay===false&&!this._userSelected){if(this.model.selected){this.model.unselect()}return}f.prototype._onSelectedChanged.call(this);if(this.model.selected){this.play()}else{this.stop()}},_onClick:function(j){this._userSelected=true;j.preventDefault();this.answer.fire("iatc");if(this.model.selected){this.isPlaying?this.pause():this.play()}else{this.model.select()}},_onSpace:function(j){this._userSelected=true;if(this.model.selected){if(this.isPlaying){j.preventDefault();this.pause()}else{if(this.answer.active){j.preventDefault();this.play()}}}},_onLoadProgress:function(){var j=(this.sound.bytesLoaded/this.sound.bytesTotal)*100;if(j>50){this.$loadProgress.addClass("gt50");return h(this.$loadProgressFill,100)}h(this.$loadProgressFill,j)},_onLoadFinished:function(j){if(j){return}this.showError("Stream Unavailable");a.stop();if(this.answer.autoplaying){this.answer.selectNextItem()}},_onPlayProgress:function(){if(!this.sound||!this.model.duration){return}if(!this.hasStartedPlaying){this.$el.removeClass(b);this.hasStartedPlaying=1}var k=this.model.duration-this.sound.position,j=(this.sound.position/this.model.duration)*100;this.$time.text("-"+DDG.formatDuration(k));if(j>50){this.$playProgress.addClass("gt50")}h(this.$playProgressFill,j)},_onPlayFinished:function(){this.stop();if(this.answer.meta.autoplay!==false){this.answer.autoplaying=1;this.answer.selectNextItem()}}});var h=function(k,m){var j=(360/100*m)+"deg";k.css({"-moz-transform":"rotate("+j+")","-webkit-transform":"rotate("+j+")","-o-transform":"rotate("+j+")",transform:"rotate("+j+")"})}}(DDG);!function(e){var c=e.Views.Base,g="can-expand",a="has-chomp-expanded",f=200,b=150;e.Views.AnswerBar.Detail=function(i){this.answer=i.answer;this.template=i.template;this.canExpand=i.canExpand;this.canWrap=i.canWrap;this.hasInfobox=i.hasInfobox;c.call(this,i);if(this.canExpand){this.bindEvents([[this.answer,"change:expanded",this._updateExpandableContent],[this.answer,"change:active",this._updateExpandableContent],[e.device,"resize",this._updateExpandableContent]])}var h=this.answer.meta.rerender;if(h){this.bindEvents(h.map(function(j){return[this.model,"change:"+j,this._rerender]}.bind(this)))}};e.Views.AnswerBar.Detail.prototype=$.extend({},c.prototype,{_render:function(m){var i=this.model.toTemplateObject(),h=$.extend({},i,m),p=this.model.templates.wrap_detail,k=this.template;if(this.canWrap&&p){h={content:e.exec_template(k,i)};this.template=p}c.prototype._render.call(this,h);this.template=k;var n=this.$(".js-sized-img");if(n.length){n.on("load error",function(){$(this).css({height:"auto",width:"auto"})})}var j=this.$("img");if(j.length){j.error(function(){$(this).hide()})}if(this.canExpand){this.$expandContent=this.$(".js-ellipsis,.js-chomp");if(this.$expandContent.length){this.expandContent=this.$expandContent.html();this.expandUseEllipsis=this.$(".js-ellipsis").length;this.$expandLink=this.$(".js-chomp-link");this._updateExpandableContent();if(this.$expandLink.length){this.$expandLink.on("click",function(){this.answer.set("expanded",!this.answer.expanded);this.answer.fire("iasm")}.bind(this))}var o=this.$(".js-detail-img");if(o.length&&!o.width()){o.load(function(){this._updateExpandableContent()}.bind(this))}}}},_updateExpandableContent:function(){if(!this.answer.active||!this.expandContent){return}this.$expandContent.html(this.expandContent);this._hasCode();if(this.answer.expanded){if(is_mobile||this.$expandContent.outerHeight()<this.$expandContent.prop("scrollHeight")-1){this.$expandLink.addClass(g)}this.$el.addClass(a)}else{this.$el.removeClass(a);var h;if(this.expandUseEllipsis){h=this.$expandContent.ellipsis(this._getEllipsisOptions())}else{if(this.$expandContent.outerHeight()<this.$expandContent.prop("scrollHeight")-1){h=true}}if(e.device.isMobile&&this.hasInfobox){h=true}this.$expandLink.toggleClass(g,h)}this._highlightSyntaxCheck()},_hasCode:function(){if(this.model.meta&&this.model.meta.topic){this.isReference=this.model.meta.topic.indexOf("reference")>-1;this.isProgramming=this.model.meta.topic.indexOf("programming")>-1;this.isStackExchange=this.model.id.indexOf("stackexchange")>-1;if(this.isReference||this.isProgramming||this.isStackExchange){this.$el.addClass("has-code")}}},_highlightSyntaxCheck:function(){if(this.isReference||this.isProgramming){var h=this.$el.find("pre");if(h.length){DDG.require("prettify",function(){h.addClass("prettyprint");window.prettyPrint()})}}},_getEllipsisOptions:function(){var h={firstParagraph:true};if(this.$el.find("code").length){h.maxHeight=f}if(this.model.parentId==="lyrics"){h.maxHeight=b}return h},_onExternalLinkClick:function(h){this.answer.clickedExternalLink();c.prototype._onExternalLinkClick.call(this,h)}})}(DDG);!function(c){var b=c.Views.AnswerBar.Detail,e=0.55,a=500;c.Views.AnswerBar.ImageDetail=function(f){this.parentPadding=f.parentPadding;b.call(this,f);this.bindEvents([[this.model,"change:selected",this._onSelectedChanged],[c.device,"resize",this._onResize]])};c.Views.AnswerBar.ImageDetail.prototype=$.extend({},b.prototype,{_zoom:1,_panX:0,_panY:0,setZoom:function(g,f){this._zoom=g;this._updateTransform(f)},setPan:function(f,h,g){this._panX=f/this._zoom;this._panY=h/this._zoom;this._updateTransform(g)},getPanDimensions:function(){return{width:this._width*this._zoom,height:this._height*this._zoom}},_reportImage:function(f){f.preventDefault();if(!this.views.modal){this.views.modal=new c.Views.ReportImageModal({thumbnail:this.model.thumbnail,image:this.model.image})}this.views.modal.show()},_render:function(){b.prototype._render.call(this,{detail:this._getDimensions(),isMobile:c.device.isMobile,linkImage:!c.device.isMobile});this.$imgWrapper=this.$(".js-image-detail-wrapper");this.$transBg=this.$(".js-detail-image-bg");if(this.model.selected){this._onSelectedChanged()}this._cacheElems(".js-image-report",["link"]);this.bindEvents([[this.$link,"click",this._reportImage]])},_getDimensions:function(){var m=c.device,g=m.isMobile;var k=g?m.width:m.width*e,j=g?m.height:this.answer.getDetailHeight()-(this.parentPadding*2),h=this.model,i=Math.min(h.width,k),f=i/h.width*h.height;if(f>j){f=j;i=f/h.height*h.width}this._width=i;this._height=f;return{width:i+"px",height:f+"px",transBgWidth:Math.floor(i-1)+"px",transBgHeight:Math.floor(f-1)+"px"}},_loadHighRes:function(){if(this.$highRes){return}var f=c.getImageProxyURL(this.model.image_mobile||this.model.image,{noFallback:true});this.$highRes=this.$(".js-detail-img-high");this.$highRes.attr("src",f).css({display:"block"}).on("load",this._onHighResLoaded.bind(this))},_animateTransform:function(){if(!$.Velocity){return this._updateTransform()}this.$imgWrapper.velocity("stop").velocity({scale:this._zoom,translateX:this._panX,translateY:this._panY},{easing:"ease-out",duration:c.animation_speed})},_updateTransform:function(f){if(f){return this._animateTransform()}if($.Velocity){this.$imgWrapper.velocity("stop");if(this._zoom){$.Velocity.hook(this.$imgWrapper,"scale",this._zoom)}if(this._panX){$.Velocity.hook(this.$imgWrapper,"translateX",this._panX+"px")}if(this._panY){$.Velocity.hook(this.$imgWrapper,"translateY",this._panY+"px")}}else{var g="";if(this._zoom){g+="scale("+this._zoom+") "}if(this._panX||this._panY){g+="translate("+(this._panX||0)+"px,"+(this._panY||0)+"px) "}this.$imgWrapper.css({transform:g,"-webkit-transform":g,"-moz-transform":g,"-ms-transform":g,"-o-transform":g})}},_onSelectedChanged:function(){if(this.model.selected){this._loadHighResTimeout=setTimeout(this._loadHighRes.bind(this),c.device.isMobileDevice?a:0)}else{clearTimeout(this._loadHighResTimeout)}},_onResize:function(){if(!this.$imgs){this.$imgs=this.$(".js-detail-img")}var f=this._getDimensions();this.$imgs.css({height:f.height,width:f.width});this.$transBg.css({width:f.transBgWidth,height:f.transBgHeight})},_onHighResLoaded:function(){this.$(".js-detail-img-thumb").fadeOut()}})}(DDG);!function(e){var c=e.Views.AnswerBar.Detail,f=0.75,a=110,b=76;e.Views.AnswerBar.VideoDetail=function(g){this.parentPadding=g.parentPadding;c.call(this,g);this.bindEvents([[this.model,"change:selected",this._updateContent],[e.settings,"change:k5",this._updateContent],[e.device,"resize",this._onResize]])};e.Views.AnswerBar.VideoDetail.prototype=$.extend({},c.prototype,{template:"videos_detail",destroy:function(){clearTimeout(this._embedTimeout);c.prototype.destroy.call(this)},_render:function(){c.prototype._render.call(this);this.$videoWrap=this.$(".js-video");this.$video=this.$(".js-video-media");this._updateSize();this._updateContent()},_renderEmbed:function(){if(!this.model.selected){return}var g=DDG.exec_template(DDG.templates.videos_detail_embed,this.model);this.$video.empty().append(g)},_renderPrivacy:function(){if(this.views&&!this.views.privacy){this.views.privacy=new e.Views.AnswerBar.VideoDetailOverlay({model:this.model,appendTo:this.$video})}},_shouldShowPrivacy:function(){if(this.model.isBing){return e.settings.isDefault("k5")||!this.model.embedURL}return !e.device.isMobile&&this.model.selected&&e.settings.isDefault("k5")},_shouldShowEmbed:function(){return this.model.selected&&this.model.isEmbeddable()&&e.settings.get("k5")==1},_updateSize:function(){var h=e.device,k=h.widthBreakpoint(),i=h.gutterSize(),n=i?i+a:this.parentPadding*2,j=i?this.parentPadding*2:this.parentPadding*2+b,m=h.width-n,o=!h.isMobileLandscape()&&(k==="m"||k==="s"||k==="xs")?m:m*f,p=this.answer.getDetailHeight()-j,r=16/9,g=o,q=o/r;if(q>p){q=p;g=q*r}this.$videoWrap.css({width:g+"px"});this.$video.css({height:q+"px",width:g+"px"})},_updateContent:function(){if(this._shouldShowPrivacy()){this._renderPrivacy()}else{if(this._shouldShowEmbed()){if(e.device.isMobile){this._embedTimeout=setTimeout(this._renderEmbed.bind(this),e.animation_speed+100)}else{this._renderEmbed()}}else{this.$video.empty()}}},_onResize:function(){this._updateSize()}})}(DDG);!function(b){var a=b.Views.Base;b.Views.AnswerBar.VideoDetailOverlay=function(c){a.call(this,c)};b.Views.AnswerBar.VideoDetailOverlay.prototype=$.extend({},a.prototype,{template:"videos_detail_privacy",shouldShow:function(){return DDG.settings.isDefault("k5")},_render:function(){a.prototype._render.call(this,this.model);this._cacheElems(".js-video-privacy",["watch","leave","remember","remember-label"]);this.bindEvents([[this.$watch,"click",this._onWatchClick],[this.$leave,"click",this._onLeaveClick],[this.$remember,"touchstart",this._onRememberTouchStart],[this.$rememberlabel,"touchstart",this._onRememberTouchStart]])},_shouldRemember:function(){return this.$remember[0].checked},_updateSetting:function(c){var e=this._shouldRemember();DDG.settings.set("k5",c,{saveToCloud:e,saveToCookie:e})},_onWatchClick:function(c){c.preventDefault();this._updateSetting("1");this.destroy()},_onLeaveClick:function(c){c.preventDefault();if(this.model.isEmbeddable()){this._updateSetting("2");this.destroy()}nug(this.model.url)},_onRememberTouchStart:function(c){c.stopPropagation()}})}(DDG);!function(e){var b=e.Views.Base,g="is-hidden",f="has-open-detail",c="can-scroll",a={images_detail:"ImageDetail",videos_detail:"VideoDetail"},h={images_detail:1,videos_detail:1};e.Views.AnswerBar.DetailSlider=function(i){b.call(this,i);this.bindEvents([[this.model,"change:active",this._onActiveChanged],[this.model,"change:selectedItem",this._onSelectedItemChanged],[e.device,"resize",this._onResize]])};e.Views.AnswerBar.DetailSlider.prototype=$.extend({},b.prototype,{template:"detail_slider",_zoom:1,_panX:0,_panY:0,_focused:false,destroy:function(){this._hide();b.prototype.destroy.call(this)},position:function(i){if(e.device.isMobile){return}if(this._top===i){return}this._top=i;this.$el.css({top:i})},_show:function(){if(this._isShowing){return}this.$el.removeClass(g);this._updateSelectedItem();e.$html.addClass(f);if(e.device.isMobile){this._focus()}this._isShowing=1},_hide:function(){if(!this._isShowing){return}this.$el.addClass(g);e.$html.removeClass(f);this.gestures.reset();this.destroyChildViews();this.views={};this._isShowing=0},_focus:function(){this.$el.addClass("has-focus");this._focused=1},_unfocus:function(){this.$el.removeClass("has-focus");this._focused=0},_render:function(){var m=$.extend({},this.model),i=e.device.isMobile;if(!i){m.detailHeight=this.model.getDetailHeight()+"px"}if(i&&!Modernizr.touch){m.mobileAndNoTouch=1}b.prototype._render.call(this,m);var j=this.model.meta.detailOverlay;if(i&&j){this.overlayClass=e.Views.AnswerBar[j]}if(this.model.items.length){var n=this.model.items[0],k=n.getItemDetailTemplate();if(h[k]){this.$el.addClass("detail--xd")}}this._cacheElems(".js-detail",["panes","close","next","prev"]);this.gestures=new e.Utils.GestureRecognizer({el:this.$el});this.gestures.on("tap",this._onTap.bind(this));this.gestures.on("double-tap",this._onDoubleTap.bind(this));this.gestures.on("swipe",this._onSwipe.bind(this));this.gestures.on("panmove",this._onPanMove.bind(this));this.gestures.on("panend",this._onPanEnd.bind(this));this.gestures.on("pinchmove",this._onPinchMove.bind(this));this.gestures.on("pinchend",this._onPinchEnd.bind(this));this.bindEvents([[this.$close,"click",this._onCloseClick],[this.$next,"click",this._onNextClick],[this.$prev,"click",this._onPrevClick]]);if(this.model.selectedItem){this._show()}},_createPane:function(k,m){if(!k){return}var j=k.getItemDetailTemplate(),i=a[j]||"Detail";return new e.Views.AnswerBar.DetailSliderPane({answer:this.model,model:k,pos:m,detailView:i,appendTo:this.$panes})},_swipeToItem:function(i,j){this._swipeVelocity=j;if(i==="prev"){this.model.selectPrevItem()}else{this.model.selectNextItem()}},_setZoom:function(j,i){this._zoom=j;if(this._zoom<=1){this._setPan(0,0)}this.views.cur&&this.views.cur.setZoom(j,i)},_setPan:function(i,o,k){if(this._zoom<1){this._panX=0;this._panY=0}else{this._panX=i;this._panY=o}if(this.views.cur&&this._zoom>1&&k){var n=this.views.cur.getPanDimensions();if(n){var j=Math.abs(n.width-e.device.width)/2,m=Math.abs(n.height-e.device.height)/2;if(this._panX-j>0){this._panX=j}else{if(this._panX+j<0){this._panX=j*-1}}if(this._panY-m>0){this._panY=m}else{if(this._panY+m<0){this._panY=m*-1}}}}this.views.cur&&this.views.cur.setPan(this._panX,this._panY,k)},_updateDOM:function(){var i=this.views,j=this._swipeVelocity;if(i.prev){i.prev.resetPosition(-1,j)}if(i.cur){i.cur.resetPosition(0,j)}if(i.next){i.next.resetPosition(1,j)}delete this._swipeVelocity;this.$prev.toggleClass(c,!!i.prev);this.$next.toggleClass(c,!!i.next&&!i.next.model.hidden)},_updateSelectedItem:function(){if(this.views.prev&&this.views.prev.model===this.model.selectedItem){this.views.next&&this.views.next.destroy();this.views.next=this.views.cur;this.views.cur=this.views.prev;this.views.prev=this._createPane(this.model.getPrevItem(),-1)}else{if(this.views.next&&this.views.next.model===this.model.selectedItem){this.views.prev&&this.views.prev.destroy();this.views.prev=this.views.cur;this.views.cur=this.views.next;this.views.next=this._createPane(this.model.getNextItem(),1)}else{this.destroyChildViews();this.views={prev:this._createPane(this.model.getPrevItem(),-1),cur:this._createPane(this.model.selectedItem),next:this._createPane(this.model.getNextItem(),1)}}}this._updateDOM();if(this.overlayClass&&this.overlayClass.prototype.shouldShow()){this.views.overlay&&this.views.overlay.destroy();this.views.overlay=new this.overlayClass({model:this.model.selectedItem,appendTo:this.$el})}if(e.device.isMobile&&this.model.indexOfSelectedItem()>=(this.model.items.length-1)){this.model.loadMore()}this._setZoom(1,true);this._setPan(0,0)},_clearVerticalPan:function(){this.$el.removeClass("is-closing");this._setPan(0,0,true);this._focus()},_onPanMove:function(j){if(this._zoom>1){var i=this._panX+j.deltaX,k=this._panY+j.deltaY;this._setPan(i,k)}else{if(j.axis==="x"){if(this._panAxis!=="x"){if(this._panAxis==="y"){this._clearVerticalPan()}this._panAxis="x"}if(this._prevDirection&&this._prevDirection!==j.direction){this._updateDOM()}else{if(this.views.prev){this.views.prev.translateX(j.distX)}if(this.views.next){this.views.next.translateX(j.distX)}if(this.views.cur){this.views.cur.translateX(j.distX)}}this._prevDirection=j.direction}else{if(j.axis==="y"){if(this._panAxis!=="y"){this.$el.addClass("is-closing");this._panAxis="y";this._unfocus();this._updateDOM()}this._setPan(0,this._panY+j.deltaY)}}}},_onPanEnd:function(j){if(this._panAxis==="y"){this._clearVerticalPan()}delete this._panAxis;delete this._prevDirection;if(this._zoom<=1&&!j.multitouch&&!j.swiped){this._updateDOM()}if(this._zoom>1&&(Math.abs(j.velocityX)>0.1||Math.abs(j.velocityY)>0.1)){var i=this._panX+j.velocityX*e.animation_speed,k=this._panY+j.velocityY*e.animation_speed;this._setPan(i,k,true)}},_onPinchMove:function(i){this._setZoom(i.pinchDelta*this._zoom)},_onPinchEnd:function(){if(this._zoom<1){this._setZoom(1,true)}},_onTap:function(i){var j=i.e;this._updateDOM();if(this._zoom>1){return}if(!this._focused){j.preventDefault();j.stopPropagation();this._focus()}else{if(!j.target||j.target.nodeName!=="A"){this._unfocus()}}},_onDoubleTap:function(i){if(this._zoom>1){this._setZoom(1,true);this._focus()}else{this._setZoom(2,true);this._unfocus()}},_onSwipe:function(i){if(this._zoom>1){return}if(this._panAxis==="x"&&i.axis==="x"){if(i.direction==="right"&&this.model.getPrevItem()){this._swipeToItem("prev",i.velocityX)}else{if(i.direction==="left"&&this.model.getNextItem()){this._swipeToItem("next",i.velocityX)}else{this._updateDOM()}}}else{if(this._panAxis==="y"&&i.axis==="y"){this._closePane()}}},_onCloseClick:function(i){i.stopPropagation();i.preventDefault();this._closePane()},_onNextClick:function(){this.model.selectNextItem()},_onPrevClick:function(){this.model.selectPrevItem()},_onActiveChanged:function(){if(!this.model.active){this._hide()}else{if(this.model.selectedItem){this._show()}}},_onSelectedItemChanged:function(){if(this.model.selectedItem){this._updateSelectedItem();this._show()}else{this._hide()}},_onResize:function(){if(e.device.isMobile){return}this.$el.css({height:this.model.getDetailHeight()+"px"})},_closePane:function(){if(this.model.selectedItem){this.model.selectedItem.unselect()}if(e.device.isMobile&&this.model.allowModuleIA&&this.model.openedFromModule){e.duckbar.open("web",{skipPixel:true});this.model.set("openedFromModule",false)}}})}(DDG);!function(e){var c=e.Views.Base,a=16,f=200,b=500;e.Views.AnswerBar.DetailSliderPane=function(g){this.answer=g.answer;this._pos=g.pos;this.detailView=g.detailView;c.call(this,g);this.bindEvents([[this.answer,"change:expanded",this._onExpandedChanged],[e.device,"resize",this._onResize]])};e.Views.AnswerBar.DetailSliderPane.prototype=$.extend({},c.prototype,{template:"detail_slider_pane",resetPosition:function(h,g){if(this._pos===h&&!this._translateX){return}this._prevX=this._getLeft();this._translateX=0;this._pos=h;if(e.device.isMobile&&$.Velocity){this._transitionPosition(g)}else{this._updatePosition()}},translateX:function(g){if(this._translateX===g){return}this._prevX=this._getLeft();this._translateX=g;this._updatePosition()},setZoom:function(h,g){this.views.detail&&this.views.detail.setZoom&&this.views.detail.setZoom(h,g)},setPan:function(g,i,h){this.views.detail&&this.views.detail.setPan&&this.views.detail.setPan(g,i,h)},getPanDimensions:function(){if(this.views.detail&&this.views.detail.getPanDimensions){return this.views.detail.getPanDimensions()}},_render:function(){c.prototype._render.call(this,this._getMeasurements());var g=this.model.getItemDetailTemplate();this.views.detail=new e.Views.AnswerBar[this.detailView]({model:this.model,answer:this.answer,template:g,parentPadding:a,appendTo:this.$el});this._prevX=this._getLeft();this._updatePosition();this.$el.css({display:"block"});if(!$.Velocity){e.require("velocity",function(){this._updatePosition()}.bind(this))}},_updateDOM:function(){this.$el.css(this._getMeasurements())},_updatePosition:function(){var g=this._getLeft();if($.Velocity){this.$el.velocity("stop");$.Velocity.hook(this.$el,"translateX",g+"px")}else{var h="translateX("+g+"px)";this.$el.css({transform:h,"-webkit-transform":h,"-moz-transform":h,"-ms-transform":h,"-o-transform":h})}},_transitionPosition:function(h){h=h||1;var k=this._getLeft(),j=this._prevX,i=k-j,g=h?(Math.abs(i)/(h*100)*100):e.animation_speed;g=Math.max(Math.min(g,b),f);this.$el.velocity("stop").velocity({translateX:[k,j]},{easing:"ease-out",duration:Math.round(g)})},_getLeft:function(){var g=(this._pos||0)*e.device.width;if(this._translateX){g+=this._translateX}return g},_getMeasurements:function(){var i=e.device,m=i.isMobile,k=i.isMobilePortrait(),o=m?e.device.height:this.answer.getDetailHeight(),n=a,q=n*2,j=i.isMobile?n:this.answer.expanded?n:n+i.gutterSize(),p=k?q:n,g=o-p-n,h=e.device.width;h-=(n+j);return{lineHeight:g+"px",height:g+"px",width:h+"px",padding:[p,n,n,j].join("px ")+"px"}},_onExpandedChanged:function(){this._updateDOM()},_onResize:function(){this._updateDOM();this._updatePosition()}})}(DDG);!function(f){var c=f.Views.Base,e=f.Views.AnswerBar.Answers,b="is-expanded",h=0.8,g=800,a=1;e.Base=function(j){this.views={items:[],itemsById:{}};j.id=j.model.id;c.call(this,j);this._deferShow=j.deferShow;var i=this.model;this.bindEvents([[f.device,"resize",this._onResize],[f.keyboard,"escape."+this.model.id,this._onEscape],[i,"change:active",this._onActiveChanged],[i,"change:expanded",this._onExpandedChanged],[i,"change:items",this._onItemsChanged],[i,"change:isRequerying",this._onRequeryingChanged]]);if(this.isValid()){if(i.active){this.show()}if(i.expanded){this._expand()}if(i.items.length){this._updateItems()}}};e.Base.prototype=$.extend({},c.prototype,{template:"base",isValid:function(){if(this.requiredTemplates){for(var o=0;o<this.requiredTemplates.length;o++){var n=this.requiredTemplates[o],k=n+"_mobile";for(var m=0;m<this.model.items.length;m++){var p=this.model.items[m];if(!p.templates||(!p.templates[n]&&!p.templates[k])){return false}}}}if(this.maxItems&&(this.model.items.length>this.maxItems)){return false}return true},show:function(){this.$el.addClass("is-active");f.keyboard.set("namespace",this.model.id);if(this.shouldExpandOnShow()){this.model.set("expanded",1)}if(this.model.expanded){f.history.set({iax:this.model.nameId})}if(this._showingNoResults){this._fireNoResultsPixel()}},hide:function(){this.$el.removeClass("is-active");f.keyboard.set("namespace")},getHeight:function(){if(this._height){return this._height}return this.$el&&(this._height=this.$el.outerHeight())},getWidth:function(){if(this._width){return this._width}return this.$el&&(this._width=this.$el.width())},showNoResults:function(i){if(this.model&&this.model.id==="products"&&this.model.bing){if(!this.views.noResults){this.views.noResults=new f.Views.NoResults({vertical:this.model.pixelId,resultType:this.model.meta.itemType,appendTo:this.$jsTiles,skipPixel:true,resetFilters:(this.model.hasRequeried&&this.model.hasDynamicFilters)})}this.views.noResults.show()}else{if(!this.$noResults){this.$noResults=f.$exec_template("no_ia_results",i);this.$el.append(this.$noResults);this.$noResults.show()}}this._fireNoResultsPixel();this._showingNoResults=1},hideNoResults:function(){this.$noResults.hide();this._showingNoResults=0},shouldExpandOnShow:function(){var i=this.model.meta.autoExpand&&this.model.meta.autoExpandRows;return this._isQuerystringIAX()&&!i},calculateIAHeight:function(){var j=viewport_height-f.get_header_height(),i=viewport_height<g?a:h;return Math.round(j*i)},_render:function(i){c.prototype._render.call(this,i);this.$el.click(function(){this.model.engaged()}.bind(this))},_updateItems:function(){},_expand:function(){this.$el.addClass(b);f.history.set({iax:this.model.nameId})},_collapse:function(){this.$el.removeClass(b);f.history.clear("iax")},_fireNoResultsPixel:function(){if(this.model.active){var i={};if(this.model.id==="products"&&this.model.hasRequeried){i.hruf=1}f.pixel.fire("iafd",this.model.pixelId,f.duckbar.activeTabOpenType,i)}},_isQuerystringIAX:function(){var j=f.history.get("iax"),i=(j==1||j==0)?f.history.get("ia"):j;return(this.model.id===i||this.model.nameId===i)},_onActiveChanged:function(){if(this.model.active&&!this._deferShow){this.show()}else{this.hide()}},_onExpandedChanged:function(){if(this.model.expanded){if(this.model.isFullPage){f.duckbar.setOrganicsVisibility(false,this.model.id)}this._expand()}else{this._collapse()}},_onRequeryingChanged:function(k){this.$el.toggleClass("is-requerying",k);if(!k){for(var j=0;j<this.views.items.length;j++){this.views.items[j].destroy()}this.views.items=[];this.views.itemsById={}}},_onItemsChanged:function(){if(this.isValid()){this._updateItems()}},_onResize:function(){this._height=null;this._width=null},_onEscape:function(){if(!this.model.isFullPage){this.model.set("expanded")}},_onExternalLinkClick:function(i){this.model.clickedExternalLink();c.prototype._onExternalLinkClick.call(this,i)}})}(DDG);!function(c){var b=c.Views.AnswerBar.Answers,a=b.Base;b.Detail=function(e){a.call(this,e)};b.Detail.prototype=$.extend({},a.prototype,{template:"base",maxItems:1,requiredTemplates:["detail"],show:function(){a.prototype.show.call(this);if(this.model.items.length){this.emit("item-shown",this.model.items[0])}},_updateItems:function(){if(this.views.items.length||!this.model.items.length){return}var e=this.model.items[0];this.views.items.push(new c.Views.AnswerBar.Detail({model:e,answer:this.model,template:e.getDetailTemplate(),canExpand:true,canWrap:true,hasInfobox:!!e.infoboxData,appendTo:this.$el}));if(e.infoboxData){this.views.infobox=new c.Views.AnswerBar.InfoBox({model:this.model,data:e.infoboxData,appendTo:this.$el})}if(this.model.meta.hasAttribution()){this.views.attribution=new c.Views.Attribution({answer:this.model,className:e.infoboxData?"attribution-wrap--infobox":"attribution-wrap--top",direction:"bottom-left",appendTo:this.$el})}}})}(DDG);!function(g){var f=g.Views.AnswerBar.Answers,b=f.Base,h=100,e=2000,c=4,a=5,i={audio_item:"AudioTile",places_item:"PlaceTile"};f.Tiles=function(k){var j=k.model,m=j.id;this._scrollLeft=0;this.noDetail=k.noDetail;this.bindEvents([[j,"change:isLoading",this._onIsLoadingChanged],[j,"change:failed",this._onLoadFailed],[j,"change:selectedItem",this._onSelectedItemChanged],[j,"change:isRequerying",this._onIsRequeryingChanged],[j,"no-results",this.removeLoadMore],[g.keyboard,"left."+m,this.selectPrevItem],[g.keyboard,"right."+m,this.selectNextItem]]);b.call(this,k);this._updateLoadingMore();if(this.model.failed){this._onLoadFailed()}};f.Tiles.prototype=$.extend({},b.prototype,{template:"tiles",requiredTemplates:["item"],destroy:function(){clearTimeout(this._expandTimeout);clearTimeout(this._flickTimeout);b.prototype.destroy.call(this)},_updateItems:function(){if(!this.model.items.length){return this.showNoResults()}else{if(this._showingNoResults){this.hideNoResults()}}this.removeLoadMore();for(var j=0;j<this.model.items.length;j++){var k=this.model.items[j];k.num=k.num||j+1;if(!this.views.itemsById[k.id]&&!k.pixelated){this._appendItem(k)}}if(this.model.meta.next){this.addLoadMore()}this._updateFooterVisibility();delete this._height;this._updateScrollNav();this._selectItemFromQuerystring()},_updateFooterVisibility:function(){if(this.model.id==="videos"){g.footer&&g.footer.set("visible",!g.settings.isDefault("kc")||!this.model.meta.next)}},_appendItem:function(m){if(m.fromDeep&&this.model.active&&g.history.get("iaf")){return}var j=m.getItemTemplate(),n=i[j]||"Tile",k=new g.Views.AnswerBar[n]({model:m,answer:this.model,noDetail:this.noDetail,appendTo:this.$jsTiles});this.views.items.push(k);this.views.itemsById[m.id]=k;k.width=this.getTileWidth(k)},show:function(){b.prototype.show.call(this);this._updateFooterVisibility();var j=this.model;this._updateWidths();if(j.selectedItem){g.history.set({iai:j.getQuerystringItemId(j.selectedItem)})}this._onResize();if(this.views.items.length){this._selectItemFromQuerystring();this._selectItemFromMeta()}this.model.items.map(function(k){if(k.visible){this.emit("item-shown",k)}}.bind(this))},hide:function(){clearTimeout(this._flickTimeout);clearTimeout(this._expandTimeout);b.prototype.hide.call(this)},shouldExpandOnShow:function(){return false},selectNextItem:function(){this.model.selectNextItem();if(this.model.indexOfSelectedItem()>=(this.model.items.length-1)){this.model.loadMore()}},selectPrevItem:function(){this.model.selectPrevItem()},getTileWidth:function(j){if(j.$el){var k=this.model.meta;if(k.variableTileWidth||k.itemsWidthVaries||k.itemsExpand){return j.$el.outerWidth()+(this.getTileMargins().x*2)}if(!this.tileWidth){this.tileWidth=j.$el.outerWidth()+(this.getTileMargins().x*2)}}return this.tileWidth},getSelectedTileWidth:function(){return this.model.selectedItem&&this.getTileWidth(this.views.itemsById[this.model.selectedItem.id])},getTileMargins:function(){if(this._tileMargins){return this._tileMargins}if(!this.views.items.length){return{x:0,top:0,bottom:0}}return this._tileMargins=this.views.items[0].getMargins()},getLoadMoreWidth:function(){if(!this._showingLoadMore){return 0}return this.views.items.length&&this.getTileWidth(this.views.items[0])},_render:function(){b.prototype._render.call(this,{id:this.model.id,meta:this.model.meta,bing:this.model.meta.sourceName==="Bing",isFullPage:this.model.isFullPage,canShowSidebarFilters:this.model.canShowSidebarFilters,hasFeedbackButton:this.model.hasFeedbackButton});this.$tileview=this.$(".tileview");this.$tileWrap=this.$(".tile-wrap");this.$jsTiles=this.$(".js-tiles");this.$jsTiles.on("mousewheel",this._onMouseWheel.bind(this));if(window.addEventListener){this.$jsTiles[0].addEventListener("wheel",this._onMouseWheel.bind(this))}this.$jsTiles.addClass("tileview__"+this.model.id);this.$jsTiles.bind("touchend",this._onJsTilesTouchEnd.bind(this));this.$loadMore=g.$exec_template("tiles_load_more",{id:this.model.id,name:this.model.name});this._onResize()},_createDetailSlider:function(){if(this.views.detail||this.noDetail){return}this.views.detail=new g.Views.AnswerBar.DetailSlider({model:this.model,appendTo:this.$el})},_updateVisibleItems:function(){var s=this._scrollLeft-g.device.gutterSize(),q=s+viewport_width,x=0,u={offscreenRight:[],offscreenLeft:[],visible:[]},p,r,j;for(p=0;r=this.views.items[p];p++){var n=x+r.width,m=x,k=n,o=0,t=0;if(m<s){u.offscreenLeft.push(r);if(k>s){t=1}}else{if(k>q){u.offscreenRight.push(r);if(m<q){t=1}}else{o=1;u.visible.push(r)}}j=(o||t)&&this.model.active&&!r.model.visible;r.model.set({visible:o,partiallyVisible:t});x+=r.width;if(j){this.emit("item-shown",r.model)}}if(this._showingLoadMore){var v={width:this.getLoadMoreWidth()};if(x+v.width>q){v.visible=0;u.offscreenRight.push(v)}else{v.visible=1;u.visible.push(v)}}return u},_selectItemFromQuerystring:function(){var j=this.model,n=g.history.get("iai"),m=g.history.get("ia"),k;if(!j.active||j.selectedItem){return}if(m===j.nameId&&typeof n!=="undefined"){k=j.itemsById[n];if(!k&&$.isNumeric(n)){k=j.items[n]}if(k){if(this._rowsToShow&&!k.visible){this._loadMore()}k.select();this._scrollToTile(this.views.itemsById[k.id],{animated:false})}else{if(j.meta.next){this._loadMore()}}}},_selectItemFromMeta:function(){var j=this.model,m=j.meta;if(!j.active||j.selectedItem){return}if(!j.selectedItem&&m.selectedItem){var k=j.itemsById[m.selectedItem];if(!k){k=j.items[m.selectedItem]}k&&k.select();this._scrollToTile(this.views.itemsById[k.id],{animated:false})}},_updateScrollNav:function(){if(!this.views.items.length||!this.model.active){return}if(!this.$leftScrollNav){this.$leftScrollNav=g.$exec_template("tiles_scroll_nav",{dir:"prev"});this.$rightScrollNav=g.$exec_template("tiles_scroll_nav",{dir:"next"});this.$jsTiles.prepend(this.$leftScrollNav);this.$jsTiles.prepend(this.$rightScrollNav);this.$leftScrollNav.bind("click",this._onLeftScrollClick.bind(this));this.$rightScrollNav.bind("click",this._onRightScrollClick.bind(this))}var m=this._updateVisibleItems(),k=m.offscreenLeft.length,j=m.offscreenRight.length;this.$leftScrollNav.attr("data-items",k);this.$rightScrollNav.attr("data-items",j);this.$leftScrollNav.removeClass("can-scroll");this.$rightScrollNav.removeClass("can-scroll");if(k>0){this.$leftScrollNav.addClass("can-scroll")}if(j>0){this.$rightScrollNav.addClass("can-scroll")}if(this.model.active&&this.model.meta.next&&!this.model.expanded&&j<3){this._loadMore()}this.emit("scrolled",m)},_scrollHorizontal:function(j){var k=this._scrollLeft,q=g.device.gutterSize(),m=this._getTotalTileWidth(),o=viewport_width-q,r;if(j==="right"){r=Math.min(k+o,m+q)}else{r=Math.max(k-o,0)}var p,s=0;for(var n=0,u;u=this.views.items[n];n++){if(r>=s&&r<=(s+u.width)){p=u}s+=u.width}if(!p&&this._showingLoadMore&&this.$loadMore){p={"$el":this.$loadMore}}this._scrollToTile(p)},_scrollToTile:function(o,j){if(!o||!o.$el){return}var k=j&&typeof j.animated!=="undefined"?j.animated:true,n=this.model,r=n.meta,q=0,m=0,s,p=this._getTotalTileWidth()+g.device.gutterSize()+h-g.device.width;for(;s=this.views.items[m];m++){if(s===o){break}q+=s.width}if(r.itemsExpand&&m>this._lastExpandedTileIndex){q-=this._lastExpandedTileDiff}q=Math.min(q,p);if(this._scrollLeft===q){return}this._scrollLeft=q;if(k){this._autoScrolling=true;this.$jsTiles.stop().animate({scrollLeft:this._scrollLeft},g.animation_speed,function(){this._autoScrolling=false}.bind(this))}else{this.$jsTiles.scrollLeft(this._scrollLeft)}this._updateScrollNav()},_updateDetailViewPosition:function(){var m=this.model.selectedItem;if(!m||g.device.isMobile||!this.views.detail){return}if(!this.model.expanded){this.views.detail.position("auto");return}var k=this.views.itemsById[m.id],j=parseInt(k.$el.position().top,10),o=this.getTileMargins(),n=j+parseInt(k.$el.outerHeight(),10)+o.bottom;if(this.views.metabar&&!this.views.metabar.isStuck()&&g.settings.get("ko").match(/^(d|s|-1)$/)){n+=this.views.metabar.getHeight()}this.views.detail.position(n+"px")},_updateWidths:function(){delete this.tileWidth;for(var k=0,j;j=this.views.items[k];k++){j.width=this.getTileWidth(j)}},_getTotalTileWidth:function(){var k=0;for(var j=0;j<this.views.items.length;j++){k+=this.views.items[j].width}k+=this.getLoadMoreWidth();return k},showNoResults:function(j){b.prototype.showNoResults.call(this,j);this.$leftScrollNav&&this.$leftScrollNav.hide();this.$rightScrollNav&&this.$rightScrollNav.hide();this.$el.addClass("has-no-results")},hideNoResults:function(){b.prototype.hideNoResults.call(this);this.$leftScrollNav&&this.$leftScrollNav.show();this.$rightScrollNav&&this.$rightScrollNav.show();this.$el.removeClass("has-no-results")},addLoadMore:function(){if(this._showingLoadMore){return}this.$jsTiles.append(this.$loadMore);this.$loadMore.click(this._onLoadMoreClick.bind(this));this._showingLoadMore=true},removeLoadMore:function(){this.$loadMore.remove();this._showingLoadMore=false},_loadMore:function(){if(this.model.isLoading){return}if(this._rowsToShow){this.views.metabar&&this.views.metabar.show();if(is_mobile&&(!this.model.canLoadOnScroll()||this.model.id==="images")){this._loadMoreMobile()}else{this.$(".tile.is-hidden").removeClass("is-hidden");delete this._rowsToShow;if(!this.model.meta.next){this.removeLoadMore()}}return}this.model.loadMore()},_loadMoreMobile:function(){var m,p,q,o=c,n=g.device.width,j=this.views.items.length,k=function(r){return j-r<a-1};if(this.model.id==="images"){o=j}for(m=0;m<j&&o;m++){p=this.views.items[m];q=p.$el;if(q.is(":visible")){continue}if(n-q.outerWidth()<0&&!k(m)){n=g.device.width;o--}if(o){p.model.set({visible:1,partiallyVisible:0});q.removeClass("is-hidden");n-=q.outerWidth()}}this._rowsToShow+=c-o;if(this.views.items[j-1].$el.is(":visible")){delete this._rowsToShow;this.views.metabar&&this.views.metabar.show();if(!this.model.meta.next){this.removeLoadMore()}}},_updateLoadingMore:function(){if(this.$loadMore){if(this.model.isLoading){this.$loadMore.addClass("is-loading")}else{this.$loadMore.removeClass("is-loading")}}},_updateAfterItemExpand:function(){clearTimeout(this._expandTimeout);var j=this.getSelectedTileWidth();this._expandTimeout=setTimeout(function(){this._updateWidths();this._updateScrollNav();if(this.model.selectedItem){var k=this.getSelectedTileWidth();this._lastExpandedTileDiff=k-j;this._lastExpandedTileIndex=this.model.indexOfSelectedItem()}else{delete this._lastExpandedTileIndex;delete this._lastExpandedTileDiff}}.bind(this),g.animation_speed+150)},_onLeftScrollClick:function(j){j.preventDefault();this._scrollHorizontal("left")},_onRightScrollClick:function(j){j.preventDefault();this._scrollHorizontal("right")},_onJsTilesTouchEnd:function(){this._scrollLeft=this.$jsTiles.scrollLeft();this._updateVisibleItems();if(this._flickTimeout){clearTimeout(this._flickTimeout)}this._flickTimeout=setTimeout(function(){if(this._scrollLeft!==this.$jsTiles.scrollLeft()){this._scrollLeft=this.$jsTiles.scrollLeft();this._updateVisibleItems()}}.bind(this),e)},_onMouseWheel:function(m){if(this._autoScrolling){return}if(this.model.selectedItem){var k=this.views.itemsById[this.model.selectedItem.id];if(k&&k.hideViews){k.hideViews()}}var j=m.originalEvent?(m.originalEvent.wheelDeltaX*-1):m.deltaX;if(!j){return}m.preventDefault();this.$jsTiles.scrollLeft(this._scrollLeft+j);this._scrollLeft=this.$jsTiles.scrollLeft();this._updateScrollNav();return false},_onEscape:function(){if(this.model.selectedItem){this.model.selectedItem.unselect()}else{b.prototype._onEscape.call(this)}},_onLoadMoreClick:function(j){j.preventDefault();this._loadMore();this.model.fire("iasm")},_onResize:function(){b.prototype._onResize.call(this);this._updateWidths();this._updateScrollNav();delete this._height;delete this._tileMargins},_onIsLoadingChanged:function(){this._updateLoadingMore()},_onLoadFailed:function(){if(!this.model.failed){return}this.removeLoadMore();this._updateItems()},_shouldScrollToTileOnItemSelect:function(){if(g.device.isMobile){return false}var j=this.model.selectedItem;return j&&!j.visible},_onSelectedItemChanged:function(){delete this._height;var j=this.model,n=j.meta;if(!j.selectedItem){g.history.clear("iai");if(n.itemsExpand){this._updateAfterItemExpand()}return}var m=j.selectedItem,k=this.views.itemsById[m.id];if(this._shouldScrollToTileOnItemSelect()){this._scrollToTile(k)}if(n.itemsExpand){this._updateAfterItemExpand()}if(m.canShowItemDetail()&&!this.views.detail){this._createDetailSlider()}this._updateDetailViewPosition()},_onIsRequeryingChanged:function(j){if(j){if(g.device.scrollTop()>this.$el.scrollTop()){this._scrollToTile(this.views.items[0])}delete this._rowsToShow}}})}(DDG);!function(e){var c=e.Views.AnswerBar.Answers,b=c.Tiles,f=10,a=5;c.GridTiles=function(h){var g=h.model;b.call(this,h);this.bindEvents([[g,"change:canExpand",this._onCanExpandChanged],[g,"change:selectedTopic",this._onSelectedTopicChanged],[g,"change:parameters",this._createSidebarFilters]]);this._cacheElems(".js-tileview",["sidebar-filters"]);this._createMetaBar();this._createFeedbackButton()};c.GridTiles.prototype=$.extend({},b.prototype,{_updateItems:function(){b.prototype._updateItems.call(this);if(this._rowsToShow){this._updateHiddenRows()}this.tilesContainerHeight=this._getTilesContainerHeight()},_appendItem:function(h){b.prototype._appendItem.call(this,h);if(e.device.isMobile){var g=this.views.items[this.views.items.length-1];this.bindEvents([[g,"rerender",this._updateHiddenRows]])}},shouldExpandOnShow:function(){var g=this.model.meta.autoExpand&&this.model.meta.autoExpandRows;return this.model.canExpand&&(this._isQuerystringIAX()||this.model.allowModuleIA)&&!g},_shouldScrollToTileOnItemSelect:function(){var h=this.model,i=h.selectedItem,g=e.device.isMobile,j=h.expanded&&!g;if(this.model.openedFromModule){return j||(!i.visible&&!g)}return j||!i.visible},show:function(){if(this.model.expanded){this._setIARequery()}b.prototype.show.call(this);var g=this.model,h=g.meta;if(!g.expanded&&g.canExpand){if(h.autoExpand){this.model.set("expanded",1);if(h.autoExpandRows){this._rowsToShow=h.autoExpandRows;this._updateHiddenRows();if(!h.alwaysShowMetabar){this.views.metabar&&this.views.metabar.hide()}}h.autoExpand=0}}this.tilesContainerHeight=this._getTilesContainerHeight()},hide:function(){this._clearIARequery();b.prototype.hide.call(this)},_updateVisibleItems:function(){var h={offscreenRight:[],offscreenLeft:[],visible:[]},g,j,m,k=this.views.items.length;if(!k){return}if(this.model.expanded){if(e.device.isMobile&&this.model.meta.autoExpandRows&&!this.model.isRequery&&(this.model.meta.autoExpand||this._rowsToShow)){if(this.model.name==="Images"){k=f*this.model.meta.autoExpandRows}else{k=a*this.model.meta.autoExpandRows}}if(!(this.model.openedFromModule&&e.device.isMobile)){for(g=0;j=this.views.items[g];g++){if(g<k){m=this.model.active&&!j.model.visible;j.model.set({visible:1,partiallyVisible:0});h.visible.push(j);if(m){this.emit("item-shown",j.model)}}}}}else{h=b.prototype._updateVisibleItems.call(this)}this.tilesContainerHeight=this._getTilesContainerHeight();return h},_collapse:function(){this._clearIARequery();b.prototype._collapse.call(this);if(this.model.selectedItem){this.model.selectedItem.unselect()}e.device.scrollTop(0);if(is_mobile){this.emit("close");return}this.$jsTiles.removeClass("has-tiles--grid").addClass("has-tiles");this.$tileview.removeClass("tileview--grid").addClass("tileview");delete this._height;delete this._tileMargins;this._updateScrollNav()},_expand:function(){if(!this.model.meta.autoExpandRows){this._setIARequery()}b.prototype._expand.call(this);this.$tileview.removeClass("tileview").addClass("tileview--grid");this.$jsTiles.removeClass("has-tiles").addClass("has-tiles--grid");this._updateVisibleItems();delete this._height;delete this._tileMargins;if(this.views.detail&&this.model.selectedItem){this._updateDetailViewPosition();this._scrollToTile(this.views.itemsById[this.model.selectedItem.id])}this.tilesContainerHeight=this._getTilesContainerHeight()},getHeight:function(h){var g=b.prototype.getHeight.call(this,h);return(h&&h.subtractMenu&&this.views.metabar)?g-this.views.metabar.getHeight():g},_setIARequery:function(){if(this.model.isFullPage){e.hidden.set("iar",this.model.nameId)}},_clearIARequery:function(){e.hidden.clear("iar")},_createMetaBar:function(){if(this.views.metabar){return}this.views.metabar=new e.Views.AnswerBar.Meta.MetaBar($.extend({model:this.model,parent:this,before:this.model.canShowSidebarFilters?this.$sidebarfilters:this.$tileWrap},this.model.meta));this.views.metabar.on("stuck",this._onMetabarStuckChanged.bind(this));this.views.metabar.on("close",this.emit.bind(this,"close"))},_createSidebarFilters:function(){if(this.views.sidebarFilters){this.views.sidebarFilters.destroyChildViews();delete this.views.sidebarFilters}this.views.sidebarFilters=new e.Views.Dropdowns.FilterContainer({$el:this.$sidebarfilters,answer:this.model})},_createFeedbackButton:function(){if(this.views.feedback||!this.model.hasFeedbackButton||e.device.isMobile){return}this.views.feedback=new e.Views.Feedback.Button({appendTo:this.$(".js-vertical-bottom-right"),category:this.model.id+"vertical"})},_scrollToTile:function(j,h){if(!j||!j.$el){return}var i=h&&typeof h.animated!=="undefined"?h.animated:true,g=this.model;if(!g.expanded){b.prototype._scrollToTile.call(this,j,h)}else{var m=j.$el.offset().top,k=this.getTileMargins(),n=Math.max(m-k.top-k.bottom,0);if(this.views.metabar){n-=this.views.metabar.getHeight()}if(e.isHeaderFixed){n-=e.get_header_height()}n+=e.getProperty(this,"model.detailScrollOffset")||0;n=Math.round(n);if(g.canShowSidebarFilters){n=0}if(is_mobile_device||!i){e.device.scrollTop(n)}else{e.device.scrollTop(n,true)}}},_updateHiddenRows:function(){if(!this.model.expanded||!this._rowsToShow){return}var n=0,h=null,j=0,m,g,k=0;for(;m=this.views.items[k];k++){if(j){m.hide();continue}if(m.model.gridRow){n=m.model.gridRow}else{g=m.$el.position().top;if(h===null||g!==h){n++;h=g}}if(n>this._rowsToShow){j=1;m.hide();continue}m.show()}j&&this.addLoadMore();this.tilesContainerHeight=this._getTilesContainerHeight()},_getGridTileAt:function(g,m){g=g||0;m=m||0;for(var j=0,h;h=this.views.items[j];j++){var k=h.$el.offset();if(k.left>=g&&k.top>=m){return h}}return null},_scrollToSelectedTopic:function(){if(!this.model.selectedTopic){return}this._scrollToTile(this.views.itemsById[this.model.selectedTopic.items[0].id])},_onCanExpandChanged:function(){if(this.model.expanded&&!this.model.canExpand){this.model.set("expanded")}},_onMetabarStuckChanged:function(){if(this.model.expanded&&!e.device.isMobile){this._updateDetailViewPosition()}},_onResize:function(){b.prototype._onResize.call(this);this._updateHiddenRows();this._updateDetailViewPosition();this.tilesContainerHeight=this._getTilesContainerHeight()},_onSelectedTopicChanged:function(){var g=this.model.selectedTopic;this.$(".active-topic").removeClass("active-topic");if(g){var k=this.views.itemsById;this._scrollToSelectedTopic();DDG.addClass(this.model.id,this.$el,"at-topic");for(var h=0;h<g.items.length;h++){var j=k[g.items[h].id];j.$el.addClass("active-topic")}}else{DDG.removeClass(this.model.id,this.$el,"at-topic")}},_onJsTilesTouchEnd:function(){if(!this.model.expanded){b.prototype._onJsTilesTouchEnd.call(this)}},_onMouseWheel:function(g){if(!this.model.expanded){b.prototype._onMouseWheel.call(this,g)}},_onLoadMoreClick:function(g){if(e.device.isMobile&&this.model.isFullPage){this._setIARequery()}b.prototype._onLoadMoreClick.call(this,g)},_getTilesContainerHeight:function(){return $(".zci.is-active .js-tiles").height()},_checkLoadMore:function(g){if(!this.model.canLoadOnScroll()){return}var i=e.device;var h=i.scrollTop();var j=e.get_header_height()+(this.views.metabar?this.views.metabar.getHeight():0);if(h+i.height>this.tilesContainerHeight+j-g){this.model.loadMore()}},_updateLoadingMore:function(){if(this.$loadMore){var g=e.settings.get("kc")==="1"?" is-auto-loading":"";if(this.model.isLoading){this.$loadMore.addClass("is-loading"+g)}else{this.$loadMore.removeClass("is-loading"+g)}}}})}(DDG);!function(g){var f=g.Views.AnswerBar.Answers,b=f.GridTiles,j={desktop:{normal:180,fallback:163},mobile:{normal:150,fallback:120}},k={desktop:{normal:120,fallback:60},mobile:{normal:70,fallback:48}},i=240,h=2,c=300,e=20,m=10;f.Images=function(n){this._device=g.device.isMobile?"mobile":"desktop";this._type=n.model.isNonModuleFallback?"fallback":"normal";this.scrollHandler=this._onScroll.bind(this);b.call(this,n)};f.Images.prototype=$.extend({},b.prototype,{requiredTemplates:null,show:function(){g.device.on("scroll",this.scrollHandler);if(this.model.isNonModuleFallback){this.$el.addClass("is-fallback")}b.prototype.show.call(this)},hide:function(){g.device.removeListener("scroll",this.scrollHandler);g.keyboard.clear("nativeUpDown");b.prototype.hide.call(this)},showNoResults:function(){var o={},n=this.model.name;if(window.iqbi&&!g.settings.safeSearch.isOff()&&!g.history.get("iaf")){o.message=l("%s blocked by safe search.",n)}b.prototype.showNoResults.call(this,o)},_updateItems:function(){b.prototype._updateItems.call(this);if(this.model.expanded){this._recalcTileGridDimensions();this._updateTileWidths();this._checkLoadMore()}this._updateHiddenRows();delete this._height;this._updateDetailViewPosition();this.tilesContainerHeight=this._getTilesContainerHeight()},_appendItem:function(p){var n=k[this._device][this._type],o=j[this._device][this._type];p.loadHighRes=!is_mobile;if((p.width>n)&&(p.height>o)){p.tileWidth=Math.ceil((o/p.height)*p.width)}else{if(p.width>n){p.tileWidth=p.width}else{p.tileWidth=n}}b.prototype._appendItem.call(this,p)},getTileWidth:function(n){return n.model.tileWidth+(this.getTileMargins().x*2)},getLoadMoreWidth:function(){return this._loadMoreTileWidth||i},_loadMore:function(){b.prototype._loadMore.call(this);this.tilesContainerHeight=this._getTilesContainerHeight()},_expand:function(){this.$jsTiles.css("width",this.getWidth());if(this.model.id==="images"){if(!g.device.isMobile||!this.model.meta.autoExpandRows){this.$el.css("min-height",g.device.height-g.get_header_height())}}b.prototype._expand.call(this);if(!g.device.isMobile&&this.model.isNonModuleFallback){this._expandFromFallback()}this._recalcTileGridDimensions();this._updateTileWidths();g.history.set({ia:this.model.id});this._checkLoadMore();g.keyboard.set("nativeUpDown",true)},_collapse:function(){b.prototype._collapse.call(this);this._clearMinHeight();this._toggleTrailingTileVisibility();this.$jsTiles.css("width","auto");this._updateTileWidths();g.keyboard.clear("nativeUpDown")},_clearMinHeight:function(){if(!g.device.isMobile&&g.settings.isDefault("kc")){this.$el.css("min-height","")}},_recalcTileGridDimensions:function(){if(!this.views.items.length){return}var s=[],p=0,n=this.getWidth()-(g.device.isMobile?m:e),u=this.getTileMargins().x*2,o=1,t,v,r=0;for(var q=0;t=this.views.items[q];q++){v=t.model;v.gridWidth=v.tileWidth;delete v.killMinWidth;p+=v.gridWidth+u;s.push(v);v.gridRow=o;if(p>n){a(s,p-n,this._device,this._type);p=0;s=[];o++}if(v.selected){r=o}}if(o>1){this._toggleTrailingTileVisibility(o,n-p,r)}},_toggleTrailingTileVisibility:function(n,s,p){var q,r=k[this._device][this._type];for(var o=0;q=this.views.items[o];o++){if(q.model.gridRow===n&&s>r&&p!==n){q.model.set({hidden:1});q.$el.addClass("is-hidden")}else{if(q.model.hidden){delete q.model.hidden;q.$el.removeClass("is-hidden")}}}},_updateTileWidths:function(){var q=this.getTileMargins(),p;for(var n=0,o;o=this.views.items[n];n++){if(o.$el){p=o.model;o.$el.css({width:this.model.expanded?p.gridWidth:p.tileWidth,marginLeft:q.x+"px",marginRight:q.x+"px"});if(p.killMinWidth){o.$el.css({minWidth:0})}}}if(!is_mobile){this.$loadMore.css({width:((this.model.expanded)?c:this.getLoadMoreWidth())+"px",marginLeft:(this.model.expanded)?"auto":q.x+"px",marginRight:(this.model.expanded)?"auto":q.x+"px"})}},_onResize:function(){this._width=null;this.$jsTiles.css("width",this.getWidth());b.prototype._onResize.call(this);if(this.views.items.length&&this.model.expanded){this._recalcTileGridDimensions();this._updateTileWidths();this._updateDetailViewPosition();this._checkLoadMore()}},_onScroll:function(){if(this.model&&this.model.isNonModuleFallback){return}var n=j[this._device][this._type];this._checkLoadMore(n*h)},_onLoadMoreClick:function(n){if(g.device.isMobile&&this.model.isNonModuleFallback){this._expandFromFallback()}b.prototype._onLoadMoreClick.call(this,n)},_expandFromFallback:function(){this._type="normal";this.$el.removeClass("is-fallback");this.model.set("isNonModuleFallback",false);if(!this.model.isFullPage){this.$el.addClass("is-full-page");this.model.set("isFullPage",true);this.model.meta.set("autoExpand",0);g.duckbar.setOrganicsVisibility(false,this.model.id)}}});var a=function(t,s,n,u){var r=Math.floor(s/t.length),p=k[n][u];for(var v=0,x;x=t[v];v++){var o=r;if(x.gridWidth-r<p){o=x.gridWidth-p}x.gridWidth-=o;s-=o}var q=Math.ceil(s);for(v=0;x=t[v];v++){if(x.gridWidth-q>p){x.gridWidth-=q;break}else{if(v===t.length-1){x.gridWidth-=q;x.killMinWidth=1}}}}}(DDG);!function(f){var e=f.Views.AnswerBar.Answers,c=e.GridTiles;var a=250;var b=3;e.Videos=function(g){this.scrollHandler=this._onScroll.bind(this);c.call(this,g)};e.Videos.prototype=$.extend({},c.prototype,{show:function(){f.device.on("scroll",this.scrollHandler);c.prototype.show.call(this)},hide:function(){f.device.off("scroll",this.scrollHandler);c.prototype.hide.call(this)},showNoResults:function(){var h={},g=this.model.name;if(window.iqbi&&!f.settings.safeSearch.isOff()&&!f.history.get("iaf")){h.message=l("%s blocked by safe search.",g)}c.prototype.showNoResults.call(this,h)},_expand:function(){if(!f.device.isMobile||!this.model.meta.autoExpandRows){this.$el.css("min-height",f.device.height-f.get_header_height())}c.prototype._expand.call(this)},_collapse:function(){this._clearMinHeight();c.prototype._collapse.call(this)},_clearMinHeight:function(){if(!f.device.isMobile&&f.settings.isDefault("kc")){this.$el.css("min-height","")}},_onScroll:function(){this._checkLoadMore(a*b)}})}(DDG);!function(f){var e=f.Views.AnswerBar.Answers,c=e.GridTiles;var a=220;var b=3;e.Products=function(g){this.scrollHandler=this._onScroll.bind(this);c.call(this,g);this.bindEvents([[this.model,"change:active",this._updateTitle],[this.model,"change:items",function(){this._detectItemsInViewport();this._bindEventsToImages();this._checkLoadMore(0)}.bind(this)]])};e.Products.prototype=$.extend({},c.prototype,{show:function(){f.device.on("scroll",this.scrollHandler);c.prototype.show.call(this)},hide:function(){f.device.off("scroll",this.scrollHandler);c.prototype.hide.call(this)},_onScroll:function(){if(f.device.isMobileDevice){this._detectItemsInViewport()}this._checkLoadMore(a*b)},_detectItemsInViewport:function(){if(!this.model.adReporting){return}var g=$(window);for(var i=0;i<this.views.items.length;i++){var j=this.views.items[i],h=j.$el,k=h&&h.offset();if(k&&(k.left+h.width())>g.scrollLeft()&&(k.top+h.height())>g.scrollTop()&&k.left<(g.scrollLeft()+g.innerWidth())&&k.top<(g.scrollTop()+g.innerHeight())){j.model.inViewport=true}else{j.model.inViewport=false}}if(f.device.isMobileDevice&&this.model.expanded===1){this.model.adReporting.sendShoppingVisibility({mobile:true,items:this.model.items})}},_bindEventsToImages:function(){if(f.device.isIE){return}this.$(".js-product-image").off("error").on("error",this._onImageError)},_onImageError:function(){var g=$(this);g.hide();f.pixel.fire("jse","productimageerror",{msg:g.attr("src")})},_selectItemFromQuerystring:function(){if(!this.model.bing){c.prototype._selectItemFromQuerystring.call(this)}}})}(DDG);!function(f){var e=f.Views.AnswerBar.Answers,b=e.Base,c={images:{mobile:185,desktop:216},forecast:{mobile:395,desktop:281},nlp_qa:{mobile:133,desktop:253},products:{mobile:279,desktop:269},recipes:{mobile:251,desktop:205,desktopTall:268},sound_cloud:{mobile:330,desktop:311},time:{mobile:154,desktop:154},videos:{mobile:250.5,desktop:238,desktopTall:272}},a=190;e.Placeholder=function(g){this.signalWait=g.signalWait;this.timeAdded=new Date().getTime();b.call(this,g);this.show();this.updateHeight()};e.Placeholder.prototype=$.extend({},b.prototype,{updateHeight:function(){var i=c[this.signalWait],h=f.device,g;if(i){if(h.isMobile){g=i.mobile||a}else{if(h.isTeapot()){g=i.desktop||a}else{g=i.desktopTall||i.desktop||a}}}this.$el.height(g)}})}(DDG);!function(b){var a=b.Views.Base;b.Views.AnswerBarMenuItem=function(c){a.call(this,c);this.$link=this.$(".js-zci-link");this.bindEvents([[this.model,"change:active",this._onActiveChanged],[this.model,"change:visible",this._onVisibleChanged],[this.$link,"click",this._onClick]])};b.Views.AnswerBarMenuItem.prototype=$.extend({},a.prototype,{template:"duckbar_tab",_render:function(){a.prototype._render.call(this,this.model)},_onClick:function(c){c.preventDefault();this.model.toggle()},_onActiveChanged:function(c){this.$link.toggleClass("is-active",c)},_onVisibleChanged:function(c){this.$el.toggleClass("is-hidden",!c)}})}(DDG);!function(b){var a=b.Views.Base;b.Views.AnswerBarMenu=function(c){a.call(this,c);this.views.items=[];this.views.itemsById={};this._isAndroidIoSDDGAppHeaderExp=(b.device.isMobileDevice&&(b.device.isAndroid||b.device.isIDevice)&&b.device.isDDGApp&&[-1,-2].includes(parseInt(b.settings.get("ko"),10)));this._headerIsHidden=b.settings.get("ko")==="-1";this.bindEvents([[this.model,"change:items",this._onItemsChanged]]);b.deep.on("load:initial",this._renderSettings.bind(this))};b.Views.AnswerBarMenu.prototype=$.extend({},a.prototype,{template:"answerbar_tabs",_renderSettings:function(){if(b.addToBrowser.canShowOpenInAppButton()||!b.device.isMobile||this._headerIsHidden||this._isAndroidIoSDDGAppHeaderExp){new b.Views.Dropdowns.SettingsDropdown({appendTo:"#duckbar_dropdowns",tagName:"li",preRender:false})}},_render:function(c){a.prototype._render.call(this,c);this.$staticWrap=this.$("#duckbar_static");this.$newItem=this.$("#duckbar_new");this.$sep=this.$("#duckbar_dynamic_sep");if(b.device.isMobileDevice&&(this._isAndroidIoSDDGAppHeaderExp||!this._headerIsHidden)){$(".js-zcm-right").addClass("zcm--right-fade"+(!this._shouldRenderSettingsOnTheRight?" zcm--right-fade-wide":""))}},_onItemsChanged:function(){this.model.items.forEach(function(e,c){var f=false;if(this.views.itemsById[e.id]){return}if(c!==this.model.items.length-1){f=c}this._addItem(e,f)}.bind(this));this.views.items.forEach(function(c){if(!this.model.itemsById[c.model.id]){this._removeItem(c)}}.bind(this))},_addItem:function(e,f){if(e.isPendingModule){return}var g;if(e.type==="static"){g=this.$staticWrap}else{g=this.$newItem;this.$sep.removeClass("is-hidden")}var c=new b.Views.AnswerBarMenuItem({appendTo:f===false?g:false,after:f?this.views.items[f].$el:false,model:e});if(f){this.views.items.splice(f,0,c)}else{this.views.items.push(c)}this.views.itemsById[e.id]=c;g.addClass("has-zci")},_removeItem:function(e){for(var c in this.views.items){if(this.views.items[c].model.id===e.model.id){this.views.items[c].destroy();this.views.items.splice(c,1);delete this.views.itemsById[e.model.id];break}}}})}(DDG);!function(b){var a=b.Models.Base,c=0.25;b.Models.GLMap=function(e){this.locations=e.locations||[e.selectedLocation];this.selectedLocation=e.selectedLocation||(this.locations.length===1&&e.locations[0]);this.pixelId=e.pixelId;this.isSatellite=false;this.canShowMap=false;a.call(this,e)};b.Models.GLMap.prototype=$.extend({},a.prototype,{getApproximateGeoBBox:function(){var e=this.selectedLocation||(this.locations.length&&this.locations[0]);if(!e){return}return this.getGeoBBox(e.lat,e.lon)},getGeoBBox:function(i,j,e,g){e=e||c;g=g||c;var f=(i+e/2)+","+(j-g/2),h=(i-e/2)+","+(j+g/2);return{top_left:f,bottom_right:h,lat:i,lon:j,latDelta:e,lonDelta:g}}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Address.AddressDetail=function(c){this.answer=c.answer;a.call(this,c);this.bindEvents([[this.$address,"click",this._onLinkClick],[this.$title,"click",this._onLinkClick],[this.$el,"click",this._onClick],[this.$directions,"click",this._onDirectionsClick]])};b.Views.Address.AddressDetail.prototype=$.extend({},a.prototype,{template:"address_detail",show:function(){this.$el.show()},hide:function(){this.$el.hide()},_render:function(c){a.prototype._render.call(this,$.extend({mapkitAppleDevice:b.device.isAppleDevice},this.model));this._cacheElems(".js-address-detail",["title","address","directions"]);this.answer.directionsModel=this.answer.directionsModel||(b.duckbar.verticalMap&&b.duckbar.verticalMap.model&&b.duckbar.verticalMap.model.directionsModel)||new b.Models.Maps.Directions();if(this.answer.isMapExpanded&&b.device.isEnglish){this.views.exampleSearches=new b.Views.Maps.ExampleSearches({appendTo:this.$parent,model:this.model,answer:this.answer})}},_updateMapLinks:function(){var f=b.directionSource.getMapURL(this.model),c=b.get_favicon_url(b.directionSource.selected.faviconURL||f),e=b.directionSource.selected.name;this.$address.attr("href",f).attr("title","Open in "+e);this.$(".js-maps-module-favicon img").attr("src",c)},updateDropdownPosition:function(c){this.views.directions&&this.views.directions.changeVerticalPos(c)},_openDirections:function(){this.answer.directionsModel.addLocation({type:"end",what:this.model.address});this.answer.directionsModel.set("endDisplay",this.model.address);if(this.answer.directionsModel.userLocation){this.answer.directionsModel.addLocation({type:"start",coordinate:{lat:this.answer.directionsModel.userLocation.lat,lon:this.answer.directionsModel.userLocation.lon}});this.answer.directionsModel.set("startDisplay",lp("directions","Your Location"))}if(this.answer.isMapExpanded){this.answer.set("isDirectionsActive",true);this.answer.directionsModel.onDirectionsAction()}else{b.router.navigate("toggle-map",{model:this.answer,directionsModel:this.answer.directionsModel,isMapExpanded:true,isDirections:true})}},_onClick:function(){this.answer.engaged()},_onLinkClick:function(c){this.answer.engaged();c.preventDefault();c.stopPropagation();b.router.navigate("toggle-map",{model:this.answer,isMapExpanded:true});this.answer.fire("iacg")},_onDirectionsClick:function(){b.pixel.fire("dir_loc");this._openDirections()}})}(DDG);!function(c){var b=c.Views.Base;var a=0.5;c.Views.Mapkit.Map=function(e){this.mapkit=e.mapkit||c.mapkit;this.geo=e.geo||c.geo;this.answer=e.answer;this._mapOffset=e.mapOffset||{top:0,right:0,bottom:0,left:0};this._isFrozen=e.isFrozen||false;this._hideLoc=e.hideLoc||false;this._hideMapTypeControl=e.hideMapTypeControl||false;this._hideScale=e.hideScale||false;this._hideCompass=e.hideCompass||false;this._onMapReady=e.onMapReady;this.isDirections=e.isDirections;this.userLocation=e.userLocation;this._mapkitMapConstructorOptions=e.mapkitMapConstructorOptions;this._isCurrentThemeDark=c.settings.isDarkTheme();this._markers=e.markers||[];b.call(this,e);this.bindEvents([[this.model,"change:canShowMap",this._onCanShowMapChange],[this.answer,"change:isMapExpanded",this._onIsMapExpandedChange],[this.answer,"change:selectedItem",this._onSelectedItemChange],[this.answer,"change:isRequerying",this._onRequeryingChange],[this.answer,"change:items",this._onItemsChange],[this.answer,"change:geo_bbox",this._onBoundingBoxChange],[this.answer,"change:mapType",this._onMapTypeChange],[c.settings,"change:"+c.settings.THEME_KEY,this._onThemeChange]])};c.Views.Mapkit.Map.prototype=$.extend({},b.prototype,{template:"mapkit_map",hide:function(){this.$el.addClass("is-hidden")},show:function(){this.$el.removeClass("is-hidden");this.recenter()},recenter:function(f){if(!this.views.map){return}if(f){var e=new w.mapkit.Coordinate(f.lat,f.lon);this.views.map.setCenterAnimated(e)}else{this.views.map.setVisibleMapRectAnimated(this._originalMapRect)}},updateMapOffset:function(e){if(!this.views.map){return}this._mapOffset=e;this.views.map.padding=new w.mapkit.Padding(this._mapOffset)},updateMap:function(j){if(j){this.updateMapOffset(j)}if(!this.views.map||!this.views.markers||this._markers.length===0){return}var i={},g;if(c.history.get("bbox")){var h=c.history.get("bbox").split(",");i.top_left=h[0]+","+h[1];i.bottom_right=h[2]+","+h[3]}if(c.history.get("strict_bbox")!=1){if(this._markers.length===1){var e=this._markers[0];var f=e.bbox||e.location&&e.location.bbox;if(f){g=this.mapkit.regionFromBoundingBox(f)}else{if(e.lat&&e.lon){g=this.mapkit.regionFromLatLon(e.lat,e.lon)}}if(g){this.views.map.setRegionAnimated(g,false)}}else{if(this.views.map.annotations&&this.views.map.annotations.length>1){g=this.mapkit.regionFromBoundingBox(c.geo.enlargeBoundingBox(c.geo.boundingBox(this.views.map.annotations.map(function(k){return{lat:k.coordinate.latitude,lon:k.coordinate.longitude}})),a));this.views.map.setRegionAnimated(g,false)}}}else{i=this.answer.geo_bbox||i;g=this.mapkit.regionFromGeoBbox(i);this.views.map.setRegionAnimated(g,false)}this._originalMapRect=this.views.map.visibleMapRect},getCenter:function(){var e=this.views.map.center;return{lat:e.latitude,lon:e.longitude}},updateRegion:function(i,k,g,h){if(!this.views.map||!i||!k){return}var e=new w.mapkit.Coordinate(parseFloat(i),parseFloat(k));var f=new w.mapkit.CoordinateSpan(g||0.016,h||0.016);var j=new w.mapkit.CoordinateRegion(e,f);this.views.map.setRegionAnimated(j,false)},addImageAnnotation:function(h,i,g){var j=new w.mapkit.Coordinate(h,i),f={url:{1:g}},e=new w.mapkit.ImageAnnotation(j,f);return this.views.map.addAnnotation(e)},clearMap:function(){if(this.views&&this.views.map){if(this.views.map.annotations&&this.views.map.annotations.length>0){this.views.map.removeAnnotations(this.views.map.annotations)}if(this.views.map.overlays&&this.views.map.overlays.length>0){this.views.map.removeOverlays(this.views.map.overlays)}}},_isMarkerVisible:function(g){if(!g.annotation){return false}var j=g.annotation.coordinate,e=this.views.map.convertCoordinateToPointOnPage(j),h=e.x>this._mapOffset.left&&e.x<c.device.width-this._mapOffset.right,i=e.y>this._mapOffset.top&&e.y<c.device.height-this._mapOffset.bottom,f=h&&i;return f},_onRequeryingChange:function(){if(this._isFrozen){return}if(this.answer.isRequerying){this.clearMap()}},_onItemsChange:function(){if(!this.views.map||this._isFrozen){return}this._markers=this.answer.itemsOnMap;var g=c.geo.boundingBox(this._markers);var f=c.userLocator.hasLocation()&&c.userLocator.userLocation;var e=c.mapkit.isUserLocNearMarkers(f,g,this._markers);if(e){this._renderUserLocation()}this._renderMarkers();this._originalMapRect=this.views.map.visibleMapRect;this.answer.set("isSearchAreaBtnVisible",false);if(this.answer.shouldMapViewportUpdate){this.answer.shouldMapViewportUpdate=false}},_onBoundingBoxChange:function(){if(this.answer.shouldMapViewportUpdate&&!this._isFrozen){}},_onSelectedItemChange:function(){if(this._isFrozen){return}if(this.answer.isRequerying||this.answer.isSingle||!this.views.markers){return}var e=this.answer.selectedItem;if(!e){this.recenter()}else{if(!this._isMarkerVisible(e)){this.recenter({lat:e.lat,lon:e.lon})}}},_updateMapType:function(){if(!this.views.map||!this.answer||this._isFrozen){return}if(this.answer.mapType){this.views.map.mapType=this.answer.mapType}this.answer.set("isDarkMap",this._isCurrentThemeDark||this.views.map.mapType!=="standard")},_getMarkersWithUserLoc:function(f,h){var g=this._markers.slice();var e=c.mapkit.isUserLocNearMarkers(f,h,g,this.answer);if(e){g.push({lat:f.lat,lon:f.lon})}return g},_renderUserLocation:function(){if(this.views.userLocation){this.views.userLocation.destroy()}if(c.userLocator.hasLocation()){this.views.userLocation=new c.Views.Mapkit.UserLocation({model:c.userLocator,answer:this.answer,map:this.views.map})}},_renderMap:function(){var g={padding:new w.mapkit.Padding(this._mapOffset),showsScale:w.mapkit.FeatureVisibility[this._hideScale?"Hidden":"Visible"],isScrollEnabled:this._mapkitMapConstructorOptions?this._mapkitMapConstructorOptions.isScrollEnabled:true,isZoomEnabled:this._mapkitMapConstructorOptions?this._mapkitMapConstructorOptions.isZoomEnabled:true,showsMapTypeControl:!this._hideMapTypeControl,showsCompass:w.mapkit.FeatureVisibility[this._hideCompass?"Hidden":"Adaptive"],colorScheme:c.settings.isDarkTheme()?w.mapkit.Map.ColorSchemes.Dark:w.mapkit.Map.ColorSchemes.Light};if(this._markers.length>1){var h=c.geo.boundingBox(this._markers);var f=c.userLocator.hasLocation()&&c.userLocator.userLocation;if(f){h=c.geo.boundingBox(this._getMarkersWithUserLoc(f,h))}g.region=this.mapkit.regionFromBoundingBox(c.geo.enlargeBoundingBox(h,a))}else{if(this._markers.length===1){var e=this._markers[0];if(e.bbox){g.region=this.mapkit.regionFromBoundingBox(e.bbox)}else{g.region=this.mapkit.regionFromLatLon(e.lat,e.lon)}}else{if(this.model.selectedLocation){g.region=this.mapkit.regionFromLatLon(this.model.selectedLocation.lat,this.model.selectedLocation.lon)}else{if(this.userLocation){g.region=this.mapkit.regionFromLatLon(this.userLocation.lat,this.userLocation.lon)}}}}this.views.map=new w.mapkit.Map(this.$el[0],g);this.views.map._impl._allowWheelToZoom=true;this.views.map.distances=w.mapkit.Map.Distances[c.geo.getUOM()==="metric"?"Metric":"Imperial"];this._updateMapType();if(this._isFrozen){setTimeout(function(){this.$el&&this.$el.addClass("mapkit-static--show-legal")}.bind(this),1000)}if(c.settings.isDefault("kay")&&(this.answer&&this.answer.isMapExpanded)){c.settings.set("kay","b",{saveToCloud:true})}else{if(c.settings.get("kay")==="i"){this.views.map.addTileOverlay(new w.mapkit.TileOverlay(function(){}))}}this._originalMapRect=this.views.map.visibleMapRect;this.views.map.addEventListener("complete",function(i){this._onMapComplete()}.bind(this));this.views.map.addEventListener("scroll-start",function(i){this.emit("dragstart")}.bind(this));this.views.map.addEventListener("select",function(i){this.emit("select")}.bind(this));this.views.map.addEventListener("zoom-start",function(i){this._onZoomStart()}.bind(this));this.views.map.addEventListener("region-change-end",function(i){this._onMapMove()}.bind(this));this.views.map.addEventListener("scroll-end",function(i){this._onMapScrollZoom()}.bind(this));this.views.map.addEventListener("zoom-end",function(i){this._onMapScrollZoom()}.bind(this));this.views.map.addEventListener("single-tap",function(i){this._onSingleTap()}.bind(this))},_renderMarkers:function(){if(!this.views.map||!this._markers||this._markers.length===0){return}this.views.markers=this._markers.map(function(e){var f=new c.Views.Mapkit.Marker({model:e,answer:this.answer,isFrozen:this._isFrozen});this.views.map.addAnnotation(f.annotation);e.annotation=f.annotation;return f}.bind(this));this.updateMap()},_createMap:function(){this._renderMap();var f=c.geo.boundingBox(this._markers);var e=c.userLocator.hasLocation()&&c.userLocator.userLocation;if(!this._hideLoc&&c.mapkit.isUserLocNearMarkers(e,f,this._markers)){this._renderUserLocation()}if(!this.isDirections){this._renderMarkers()}},_render:function(e){b.prototype._render.call(this,e);this.$clickOverlay=this.$(".js-mapkit-map-click-overlay");if(this.mapkit.isInitialized){this._postInit()}else{this.mapkit.init(function(g,f){if(f){this._postInit()}else{}}.bind(this))}this.bindEvents([[this.$clickOverlay,"click",this._onClickOverlayClick]]);if(this._isFrozen){c.pixel.fire("map_si")}},_postInit:function(){this._createMap();if($.isFunction(this._onMapReady)&&!this._onMapReadyDone){this._onMapReady();this._onMapReadyDone=true}},_onIsMapExpandedChange:function(){if(this.answer.isMapExpanded){this.$clickOverlay.addClass("is-hidden")}else{this.$clickOverlay.removeClass("is-hidden")}},_onCanShowMapChange:function(e){this.$el.toggleClass("is-loading",!e)},_onMapComplete:function(){if(!this._isMapLoaded){this.emit("load");this._isMapLoaded=true;if(!(c.history.get("start")||c.history.get("end"))&&this.answer&&this.answer.id!=="directions"){this.model.set("canShowMap",true)}this.$(".mk-map-view").on("click",this._onClick.bind(this))}},_onClickOverlayClick:function(){this.emit("click")},_onZoomStart:function(){c.pixel.fire("map_eze")},_onMapTypeChange:function(){this._updateMapType();c.pixel.fire("map_ete")},_onMapMove:function(){this.emit("dragend")},_onMapScrollZoom:function(){this.emit("scrollzoom")},_onClick:function(){this.emit("click")},_onSingleTap:function(){this.emit("single-tap")},_onThemeChange:function(){if(this._isCurrentThemeDark!==c.settings.isDarkTheme()){this.views.map.colorScheme=c.settings.isDarkTheme()?w.mapkit.Map.ColorSchemes.Dark:w.mapkit.Map.ColorSchemes.Light;this._isCurrentThemeDark=!this._isCurrentThemeDark;this.answer&&this.answer.set("isDarkMap",this._isCurrentThemeDark)}}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Mapkit.StaticMap=function(c){this._ops={};this.answer=c.answer;a.call(this,c);this.bindEvents([[b.settings,"change:"+b.settings.THEME_KEY,this._onThemeChange],[b.duckbar.menu,"item-active",this._onTabChanged]])};b.Views.Mapkit.StaticMap.prototype=$.extend({},a.prototype,{template:"mapkit_static_map",hide:function(){this.$el.hide()},show:function(){this.$el.show()},_render:function(c){this._ops=c||this._ops;this._isCurrentThemeDark=b.settings.isDarkTheme();this._ops.userLoc=this._getUserLocMarkerCoords();this._ops.url=b.mapkit.getStaticImageURL(this._ops);a.prototype._render.call(this,this._ops);b.pixel.fire("map_si");setTimeout(function(){this.$el&&this.$el.addClass("mapkit-static--show-legal")}.bind(this),1000);this.bindEvents([[this.$el,"click",this._onClick]])},_getUserLocMarkerCoords:function(){var f=null;if(this.answer){var c=this.answer.proximity;var e=this.answer.obfusLoc&&this.answer.obfusLoc.lat&&this.answer.obfusLoc.lon?this.answer.obfusLoc:null;var h=b.userLocator.hasLocation()&&b.userLocator.userLocation;if(h&&e){var g=b.geo.boundingBox(this._ops.markers);if(b.mapkit.isUserLocNearMarkers(e,g,this._ops.markers,c)){f=e}}}return f},_onThemeChange:function(){if(this._isCurrentThemeDark!==b.settings.isDarkTheme()){this._isCurrentThemeDark=!this._isCurrentThemeDark;this._rerender()}},_onClick:function(){this.emit("click");b.pixel.fire("map_se")},_onTabChanged:function(){if(this.$el&&!this.$el.is(":visible")){return}var e=this.$el.outerWidth();var c=this.$el.outerHeight();if(this._ops.width!==e||this._ops.height!==c){this._ops.width=e;this._ops.height=c;this._rerender()}}})}(DDG);!function(c){var a=c.Views.Base,b={circle:"circle",number:"numbered",dot:"dot"};c.Views.Mapkit.Marker=function(e){this.mapkit=e.mapkit||c.mapkit;this.answer=e.answer;this.model=e.model;this.markerType=b.circle;if(e.markerType){this.markerType=e.markerType}else{if(this.answer&&this.answer.items.length>1){this.markerType=(e.isFrozen&&this.model.number>3)?b.dot:b.number}}e.markerType=this.markerType;e.number=(this.markerType===b.number)?this.model.number:false;a.call(this,e);this.bindEvents([[this.answer,"change:selectedItem",this._updateSelectedState],[this.model,"change:selected",this._updateSelectedState],[this.model,"change:highlighted",this._onHighlightedChange]]);if(this.answer.selectedItem){this._updateSelectedState()}};c.Views.Mapkit.Marker.prototype=$.extend({},a.prototype,{template:"mapkit_marker",_render:function(e){a.prototype._render.call(this,e);this.annotation=this.mapkit.marker(this.model.lat,this.model.lon,function(){return this.$el[0]}.bind(this));this.$mkEl=this.$el.parent();this.$mkEl.addClass("mapkit-marker");this.bindEvents([[this.$el,"mouseenter",this._onMouseEnter],[this.$el,"mouseleave",this._onMouseLeave],[this.$el,"click",this._onClick]])},_updateSelectedState:function(){this.$el.toggleClass("mgl-marker--selected",!!this.model.selected);this.$mkEl.toggleClass("mapkit-marker--selected",!!this.model.selected);if(!this.answer.selectedItem||this.model.selected){this.$el.removeClass("mgl-marker--disabled");this.$mkEl.removeClass("mapkit-marker--disabled")}else{if(this.answer.selectedItem&&!this.model.selected){this.$el.addClass("mgl-marker--disabled");this.$mkEl.addClass("mapkit-marker--disabled")}}},_onHighlightedChange:function(){this.$el.toggleClass("mgl-marker--highlighted",!!this.model.highlighted);this.$mkEl.toggleClass("mapkit-marker--highlighted",!!this.model.highlighted)},_onMouseEnter:function(){this.model.highlight()},_onMouseLeave:function(){this.model.unhighlight()},_onClick:function(){this.model.select()}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Mapkit.UserLocationControl=function(c){a.call(this,c);this.bindEvents([[this.model,"change:waitingForLocation",this._onWaitingForLocationChange],[this.$el,"click",this._onClick]])};b.Views.Mapkit.UserLocationControl.prototype=$.extend({},a.prototype,{template:"mapkit_user_location_control",hide:function(){this.$el.addClass("is-hidden")},show:function(){this.$el.removeClass("is-hidden")},_onWaitingForLocationChange:function(){this.$el.toggleClass("mapbox-control--waiting",this.model.waitingForLocation)},_onClick:function(c){c.preventDefault();c.stopPropagation();this.model.updateLocation({force:true,updateType:"map"})}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Mapkit.UserLocationMarker=function(c){this.mapkit=c.mapkit||b.mapkit;this.model=c.model;this.coords={lat:this.model.userLocation.lat,lon:this.model.userLocation.lon};c.markerType="loc";a.call(this,c)};b.Views.Mapkit.UserLocationMarker.prototype=$.extend({},a.prototype,{template:"mapkit_marker",_render:function(c){a.prototype._render.call(this,c);this.annotation=this.mapkit.marker(this.coords.lat,this.coords.lon,function(){return this.$el[0]}.bind(this))}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Mapkit.UserLocation=function(c){this.answer=c.answer;this.map=c.map;a.call(this,c);this.bindEvents([[this.model,"change:userLocation",this._onUserLocationChange]])};b.Views.Mapkit.UserLocation.prototype=$.extend({},a.prototype,{template:"mapkit_user_location",_addToDOM:function(){this.views.marker=new b.Views.Mapkit.UserLocationMarker({model:this.model});this.map.addAnnotation(this.views.marker.annotation);this._updateLocation()},_updateLocation:function(){var c=this.model.userLocation.lat;var e=this.model.userLocation.lon;this.views.marker.annotation.coordinate=b.mapkit.coord(c,e)},_onUserLocationChange:function(){if(b.userLocator.hasLocation()){this._updateLocation()}}})}(DDG);!function(c){var b=c.Views.Base,a="mapbox-position-picker__marker--moving";c.Views.Mapkit.PositionPicker=function(e){this.model=e.model;this.model.canShowMap=true;b.call(this,e)};c.Views.Mapkit.PositionPicker.prototype=$.extend({},b.prototype,{template:"mapkit_position_picker",show:function(){this.views.map&&this.views.map.show()},hide:function(){this.views.map&&this.views.map.hide()},_getPosition:function(){if(!this.views.map){return null}var e=this.views.map.getCenter();return new c.Models.UserLocation({lat:e.lat,lon:e.lon,type:c.Models.UserLocation.MANUAL_LOCATION})},_render:function(e){b.prototype._render.call(this,e);this._cacheElems(".js-mapkit-position-picker",["map","marker"]);this._createMap()},_createMap:function(){this.views.map=new c.Views.Mapkit.Map({model:this.model,appendTo:this.$map,hideLoc:true,hideMapTypeControl:true,hideScale:true,hideCompass:true});this.bindEvents([[this.views.map,"load",this._onMapLoaded],[this.views.map,"dragstart",this._onMapMoveStart],[this.views.map,"dragend",this._onMapMoveEnd]])},_onMapLoaded:function(){this.$map.removeClass("is-loading")},_onMapMoveStart:function(){this.$marker.addClass(a)},_onMapMoveEnd:function(){this.$marker.removeClass(a);this.model.set("selectedLocation",this._getPosition())}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Attribution=function(c){this.answer=c.answer;this.direction=c.direction;a.call(this,c);this.$(".js-attribution-link").click(this._onLinkClick.bind(this))};b.Views.Attribution.prototype=$.extend({},a.prototype,{template:"attribution",_onLinkClick:function(f){f.preventDefault();f.stopPropagation();if(!this.views.modal){this.views.modal=new b.Views.AttributionModal({answer:this.answer,direction:this.direction,appendTo:this.$el})}var c=this.views.modal;if(c.isShowing){c.hide()}else{b.pixel.fire("iaa",this.answer.pixelId);c.show()}this.answer.engaged()}})}(DDG);!function(b){var a=b.Views.Modal;b.Views.AttributionModal=function(c){a.call(this,c)};b.Views.AttributionModal.prototype=$.extend({},a.prototype,{template:"attribution_modal",_render:function(e){var f=e.answer.meta,g=f.developer,c=false;g.forEach(function(h){if(h&&h.name&&h.name!=="DDG Team"&&h.name!=="DuckDuckGo"&&h.name!=="duckduckgo"){h.show=c=true}});a.prototype._render.call(this,{direction:e.direction,devs:c&&g,meta:f})}})}(DDG);!function(e){var c=e.Views.Feedback,b=e.Views.Base,f="is-hidden",a="feedback-btn--clicked";c.Button=function(g){this.category=g.category;this.clickPixel=g.clickPixel;this.noFaces=g.noFaces||false;this.extraData=g.extraData||{};b.call(this,g)};c.Button.prototype=$.extend({},b.prototype,{template:"feedback_button",_render:function(g){b.prototype._render.call(this,g);this._cacheElems(".js-feedback",["start","love","nolove","icon-wrap"]);this.bindEvents([[this.$start,"click",this._onStartClick],[this.$love,"click",this._onLoveClick],[this.$nolove,"click",this._onNoLoveClick]])},_addModal:function(g){if(!this.views.modal){this.views.modal=new c.Modal({category:this.category,extraInfo:$.param(this.extraData),appendTo:$("body")});this.views.modal.on("hidden",this._hideFaces.bind(this))}this.views.modal.show(g)},_showFaces:function(){this.$iconwrap.removeClass(f);setTimeout(function(){this.$el.addClass(a)}.bind(this),100)},_hideFaces:function(){this.$el.removeClass(a);setTimeout(function(){this.$iconwrap.addClass(f)}.bind(this),200)},_onStartClick:function(g){g.preventDefault();if(this.clickPixel){e.pixel.fire(this.clickPixel)}if(this.noFaces){this._addModal(false)}else{this._showFaces();e.$doc.one("click",this._onDocumentClick.bind(this))}return false},_onDocumentClick:function(g){if(!this.$love.is(g.target)&&!this.$nolove.is(g.target)){this._hideFaces()}},_onLoveClick:function(g){g.preventDefault();this._addModal({isPositive:true})},_onNoLoveClick:function(g){g.preventDefault();this._addModal({isPositive:false})}})}(DDG);!function(c){var b=c.Views.Feedback,a=c.Views.Base,e="is-hidden";b.ReportAdsButton=function(f){this.category=f.category;this.extraData=f.extraData||{};this.whichAd=f.whichAd;a.call(this,f)};b.ReportAdsButton.prototype=$.extend({},a.prototype,{template:"report_ads_button",_render:function(f){a.prototype._render.call(this,f);this._cacheElems(".js-report-ad",["start"]);this.bindEvents([[this.$start,"click",this._onAdReportClick]])},_showModal:function(f){if(!this.views.modal){this.views.modal=new b.Modal({category:"ads",adInfo:JSON.stringify(f),appendTo:$("body")})}this.views.modal.show(false);this.views.modal.on("submitted",this._hideReportAdButton.bind(this))},_hideReportAdButton:function(){this.$start.addClass(e)},_onAdReportClick:function(g){g.preventDefault();var f=this._getAdData();this._showModal(f);f.adt=encodeURIComponent(f.adt);f.adsnippet=encodeURIComponent(f.adsnippet);c.pixel.fire("readsb",f)},_getAdData:function(){var f=c.page.ads.getAds();f=f[this.whichAd];return{whichad:this.whichAd,adrlink:this._getRlink(f.c),adt:c.Utils.Strings.htmlDecode(f.t),adsrc:f.d,adgood:f.relevancy?f.relevancy.is_good_v8:0,adsnippet:c.Utils.Strings.htmlDecode(f.a)}},_getRlink:function(f){return c.Utils.Strings.getUrlParameter(f,"u3")}})}(DDG);!function(j){var g=j.Views.Feedback,b=j.Views.Modal,f="fbc",c=50,n=500,e="other",k="security",a="is-hidden",m="is-invisible",i="is-disabled",h=["ads"];g.Modal=function(o){this.sourceName=o.sourceName||"";this.defaultCategory=o.category||"";this.category=o.category||"";this.categoryValue=o.categoryValue||"";this.issue="";this.extraInfo=o.extraInfo;this.adInfo=o.adInfo;o.model=o.model||new j.Models.Feedback();if(!j.settings.region.isProductAdsMarket()){j.Data.FeedbackIssues.products=[{text:"I don't want results from Amazon",val:"amazon"}]}else{h.push("products")}this.hasIssues=this._checkHasIssues();this.requiresSuggestion=h.indexOf(this.category)!==-1;b.call(this,o);this.bindEvents([[this.model,"change:success",this._onFeedbackSuccess],[this.model,"change:error",this._onFeedbackError]])};g.Modal.prototype=$.extend({},b.prototype,{template:"feedback_modal",show:function(o){o=o||{};if(j.isDev&&typeof o!=="object"){throw new Error("An object must be passed to modal.show")}this.$suggestionlabel.html(o.isPositive?lp("feedback form","What did you like?"):lp("feedback form","What could be better?"));this._isPositive=o.isPositive;this._isGeneric=o.isGeneric;this.$form.removeClass(a);this.$success.addClass(a);this._showHideSuggestions();this._toggleSubmitButton();if(!this._isPositive&&this.category&&this.hasIssues){this.$issues.removeClass(m);this.$dropdown.val(this.category);this._setCategoryIssues(this.categoryValue)}b.prototype.show.call(this)},_render:function(r){var p=[{text:lp("feedback form","Pick a category"),val:""}];var o=[{text:l("Results"),val:"organics"},{text:lp("feedback form","Wikipedia info"),val:"wikipedia"},{text:lp("feedback form","Advertisements"),val:"ads"},{text:l("Images"),val:"images"},{text:l("Videos"),val:"videos"},{text:l("News"),val:"news"},{text:lp("feedback form","Maps / location info"),val:"maps"},{text:l("Products"),val:"products"},{text:lp("feedback form","Search box"),val:"search box"},{text:lp("feedback form","Security issue (opens in new tab)"),val:"security"},{text:lp("feedback form","Settings"),val:"settings"},{text:lp("feedback form","Date filters"),val:"filters"},{text:lp("feedback form","Other"),val:e}];if(r.categoryName){this.categoryName=r.categoryName;for(var q=0;q<o.length;q++){if(o[q].val===r.category){o[q].text=this.categoryName;break}}}b.prototype._render.call(this,$.extend({},r,{defaultCategory:this.categoryName||this.defaultCategory,options:p.concat(o),query:j.get_query(),inputMax:c,textareaMax:n,subtitleText:r.subtitleText||lp("feedback form","What do you think of the information shown?")}));this._cacheElems(".js-feedback",["form","success","dropdown","issues","suggestion","suggestion-label","submit"]);if(this.category){this.$dropdown.val(this.category)}this.bindEvents([[this.$dropdown,"change",this._onCategoryChange],[this.model,"issue-selected",this._onIssueChange],[this.$submit,"click",this._onSubmitClick],[this.$suggestion,"input",this._toggleSubmitButton]])},hide:function(){this._reset();b.prototype.hide.call(this)},_showSuccessMessage:function(){this.$success.removeClass(a);this.$form.addClass(a)},_onSubmitClick:function(y){y.preventDefault();if(this.$submit.hasClass(i)){return}this.$submit.addClass(i);var o=j.duckbar.getActiveTab(),p=o?o.pixelId:"",s=j.duckbar.sideModules||{};var A=Object.keys(s).map(function(B){return B.toLowerCase()+"_module"}).concat([p]).join(", ");var x=this.$suggestion.val();if(this.extraInfo){x+=" | "+this.extraInfo}var u={ia:A,comment:x,rating:this._isPositive?1:-1,looking_for:this.categoryValue||this.category,category_issue:this.issue,search_exp:j.searchExperiments.getPixelParameters()};if(u.looking_for==="ads"){u.ads_issue=u.category_issue;delete u.category_issue;delete u.ad_issue}if(u.category_issue==="great"){u.rating=1}var r=j.page.ads.getAds();var q=(u.rating===-1&&u.looking_for==="ads"&&r);if(this.adInfo&&u.looking_for==="ads"){u=$.extend(u,JSON.parse(this.adInfo))}else{if(!this.adInfo&&q){u.whichad="all";u.adt="";u.adsrc="";u.adsnippet="";u.adgood="";for(var t=0;t<r.length;t++){var z=r[t],v;v=(t<r.length-1)?v=", ":v="";u.adt+=j.Utils.Strings.htmlDecode(z.t)+v;u.adsrc+=z.d+v;u.adsnippet+=j.Utils.Strings.htmlDecode(z.a)+v}}}this.model.send(u)},_reset:function(){this.$submit.addClass(i);this.category=this.defaultCategory;this.hasIssues=this._checkHasIssues();this.issue="";this.$dropdown.val(this.defaultCategory);this.$issues.addClass(m);this.isOtherCategory=false;this.isOtherIssue=false;this.$suggestion.val("");this.requiresSuggestion=h.indexOf(this.category)!==-1},_toggleSubmitButton:function(){var o=this._shouldEnableSubmit();this.$submit.toggleClass(i,!o)},_setCategoryIssues:function(p){var o=this._getIssues(p);this.$issues.empty();if(this.defaultCategory&&this.category===this.defaultCategory&&this.sourceName){o.push({text:"I don't trust results from "+this.sourceName,val:"untrusted"})}if(this._isGeneric&&this.category!=="ads"){o.unshift({text:this.category==="map_no_results"?"This is what I expected":"These results are helpful",val:"great"})}o.push({text:lp("feedback form","Other"),val:e});this.views.issues=new g.IssueList({model:this.model,appendTo:this.$issues,issues:o})},_onCategoryChange:function(r){if(this.defaultCategory){j.pixel.fire(f)}var q=$(r.target),p=q.val(),o=j.duckbar.getActiveTab();if(p===k){return nug(DDG.get_http_redirect({href:"https://hackerone.com/duckduckgo"}))}if(j.device.isMobileDevice&&j.getProperty(o,"model.hasFeedbackButton")&&j.Data.FeedbackIssues[p+"vertical"]){p+="vertical"}this.$suggestion.val("");this.issue="";this.isOtherIssue=false;this.category=p;this.isOtherCategory=p===e;this.hasIssues=this._checkHasIssues();this.requiresSuggestion=h.indexOf(this.category)!==-1;this.$issues.toggleClass(m,!this.hasIssues||this._isPositive);if(this.hasIssues){this._setCategoryIssues(this.category)}this._showHideSuggestions();this._toggleSubmitButton()},_onIssueChange:function(){var o=this.$issues.find(".js-feedback-radio:checked").val();this.issue=o;this.isOtherIssue=o===e;this.$suggestion.val("");this._showHideSuggestions();this._toggleSubmitButton()},_showHideSuggestions:function(){var o=true;if((this._isPositive&&this.category)||this.requiresSuggestion||(this.category&&!this.hasIssues)||(this.category&&this.hasIssues&&this.isOtherIssue)){o=false}this.$suggestion.attr("placeholder",lp("feedback form","Please provide feedback"));this.$suggestion.toggleClass(a,o)},_shouldEnableSubmit:function(){var p=this.$suggestion.val().trim().length>0,o=this.category.length,r=o&&this.category==="ads",q=this.issue.length;if(!o){return false}if(this._isPositive&&!this.isOtherCategory){return true}if(r){if(!p){return false}if(q||this._isPositive){return true}}else{if(this.requiresSuggestion&&!p){return false}else{if(this.isOtherCategory&&p){return true}else{if(!this.hasIssues){return true}else{if(this.hasIssues&&q){return true}}}}}return false},_checkHasIssues:function(){if(this.category==="ads"){return true}if(!j.device.isEnglish){return false}return DDG.Data.FeedbackIssues.hasOwnProperty(this.category)},_getIssues:function(o){o=o||this.category;return DDG.Data.FeedbackIssues[o].slice()},_getLookingFor:function(){if((this.category===this.defaultCategory)&&this.categoryValue){return this.categoryValue}return this.category},_onFeedbackSuccess:function(){if(this.model.success){this._reset();this._showSuccessMessage()}},_onFeedbackError:function(){if(this.model.error){this.hide();this._reset()}}})}(DDG);!function(c){var b=c.Views.Feedback,a=c.Views.Base;b.FeedbackPrompt=function(e){if(c.device.isMobile&&!e.showOnMobile){return}this.category=e.category;this.extraData=e.extraData||{};e.showYesNo=e.showYesNo!==false;this.categoryName=e.categoryName;this.categoryValue=e.categoryValue;this.sourceName=e.sourceName;this.asButton=e.asButton;this.hasNoResults=e.hasNoResults;this.promptText=e.promptText;this.subtitleText=e.subtitleText;a.call(this,e);this.bindEvents([[".js-feedback-prompt-yes","click",this._onYesClicked],[".js-feedback-prompt-no","click",this._onNoClicked],[".js-feedback-prompt-generic","click",this._onGenericClicked]])};b.FeedbackPrompt.prototype=$.extend({},a.prototype,{template:"feedback_prompt",_showModal:function(e){if(!this.views.modal){this.views.modal=new b.Modal({subtitleText:this.subtitleText,sourceName:this.sourceName,category:this.category,categoryName:this.categoryName,categoryValue:this.categoryValue,extraInfo:$.param(this.extraData),appendTo:$("body")})}this.views.modal.show(e)},_onYesClicked:function(f){f.preventDefault();c.pixel.fire("fbp",this.category,"yes",this.extraData);this._showModal({isPositive:true})},_onNoClicked:function(f){f.preventDefault();c.pixel.fire("fbp",this.category,"no",this.extraData);this._showModal({isPositive:false})},_onGenericClicked:function(f){f.preventDefault();this._showModal({isPositive:false,isGeneric:true})}})}(DDG);!function(c){var b=c.Views.Modal,e="is-hidden",a="is-disabled",f="other";c.Views.ReportImageModal=function(g){g.appendTo=g.appendTo||".js-site-wrapper";g.model=g.model||new c.Models.Feedback();b.call(this,g);this.model.thumbnail=g.thumbnail;this.model.image=g.image;this.bindEvents([[this.model,"change:success",this._onFeedbackSuccess],[this.model,"change:error",this._onFeedbackError]])};c.Views.ReportImageModal.prototype=$.extend({},b.prototype,{template:"report_image_modal",hide:function(){this._reset();b.prototype.hide.call(this)},show:function(){this.$form.removeClass(e);this.$success.addClass(e);b.prototype.show.call(this)},_onDropdownChange:function(g){var h=this.$dropdown.val();if(h===f){this.$comment.focus()}this._toggleSubmitButton()},_onFeedbackError:function(){if(this.model.error){this.hide()}},_onFeedbackSuccess:function(){if(this.model.success){this._reset();this._showSuccessMessage()}},_onSubmitClick:function(i){i.preventDefault();if(this.$submit.hasClass(a)){return}this.$submit.addClass(a);var j=c.duckbar.getActiveTab(),g=j?j.pixelId:"";var h={comment:this.$comment.val(),reason:this.$dropdown.val(),tab:g,type:"images"};this.model.send(h)},_render:function(h){var g=[{text:lp("feedback form","Pick a specific problem"),val:""},{text:lp("Report image modal","Not relevant"),val:"not_relevant"},{text:lp("Report image modal","Copyright violation"),val:"copyright_violation"},{text:lp("Report image modal","Explicit content"),val:"explicit"},{text:lp("Report image modal","Child sexual abuse"),val:"child_abuse"},{text:lp("feedback form","Other"),val:f}];b.prototype._render.call(this,$.extend({},h,{thumbnail:this.model.thumbnail,options:g}));this._cacheElems(".js-feedback",["comment","dropdown","form","submit","success"]);this.bindEvents([[this.$dropdown,"change",this._onDropdownChange],[this.$submit,"click",this._onSubmitClick],[this.$comment,"input",this._toggleSubmitButton]])},_reset:function(){this.$submit.addClass(a);this.$dropdown.val("");this.$comment.val("")},_showSuccessMessage:function(){this.$success.removeClass(e);this.$form.addClass(e)},_toggleSubmitButton:function(){var i=this.$comment.val().trim(),j=this.$dropdown.val(),h=j===f,g=h?i.length:j.length;this.$submit.toggleClass(a,!g)}})}(DDG);!function(c){var b=c.Views.Feedback,a=c.Views.Base;b.IssueList=function(e){this.issues=e.issues;e.model=e.model;a.call(this,e)};b.IssueList.prototype=$.extend({},a.prototype,{template:"feedback_issue_list",_render:function(e){a.prototype._render.call(this,$.extend({},e));this._cacheElems(".js-feedback",["radio"]);this.bindEvents([[this.$radio,"change",this._onRadioChange]])},_onRadioChange:function(){this.model.emit("issue-selected")}})}(DDG);!function(e){var b=e.Views.Dropdowns.SelectListDropdown,c=e.Views.Dropdowns,a="kam";c.DirectionDropdown=function(f){this.model=f.model=e.directionSource;f.key="directions";f.header=lp("maps_places","Choose service");f.horizontalPos="center";f.verticalPos=f.verticalPos||"bottom";f.showSelected=f.answer.answerType!=="Places"&&f.answer.answerItemModel!=="Place";this._loc=f.loc;this._answer=f.answer;b.call(this,f);this._loadSourceFromSettings()};c.DirectionDropdown.prototype=$.extend({},b.prototype,{changeVerticalPos:function(f){if(this.views.modal){this.views.modal.$el.removeClass("modal--popout--"+this._verticalPos);this.views.modal.$el.addClass("modal--popout--"+f)}this._verticalPos=this.modalOps.position=f;this._repositionModal()},open:function(){b.prototype.open.call(this);this._answer&&this._answer.engaged()},_loadSourceFromSettings:function(){var f=e.settings.get(a);if(f){this.model.select(f)}},_getURL:function(){return this.model.getDirectionsURL(this._loc)},_onItemClick:function(f){b.prototype._onItemClick.call(this,f);e.settings.set(a,f,{saveToCloud:true})}})}(DDG);!function(c){var b=c.Views.Dropdowns,a=c.Views.Base;b.FilterContainer=function(e){this._answer=e.answer;if(this._answer){this._safeSearch=this._answer.safeSearch;this._region=this._answer.region;this._date=this._answer.date}else{this._safeSearch=this._region=this._date=true}a.call(this,e);if(e.allTab&&(c.history.get("iax")||c.history.get("iar"))){c.deep.on("change:finished",this._initFilters.bind(this))}else{this._initFilters()}};b.FilterContainer.prototype=$.extend({},a.prototype,{_initFilters:function(){this.views.filters=[];if(this._region){this.views.filters.push(new b.RegionFilter({appendTo:this.$el}))}if(this._safeSearch&&!c.page.isSafeDDG){this.views.filters.push(new b.SafeSearchFilter({appendTo:this.$el}))}if(this._date){this.views.filters.push(new b.DateFilter({appendTo:this.$el}))}if(this._answer&&this._answer.parameters){this._answer.parameters.forEach(function(g){var f=this._answer.canShowSidebarFilters?"SidebarFilter":"FilterDropdown",e=new c.Views.AnswerBar.Meta[f]({model:g,answer:this._answer,appendTo:this.$el});this.views.filters.push(e)}.bind(this))}}})}(DDG);!function(c){var b=c.Views.Dropdowns,a=b.Base;b.DateFilter=function(e){a.call(this,e);c.search.on("change:dateFilterId",this._rerender.bind(this))};b.DateFilter.prototype=$.extend({},a.prototype,{modalClass:"DateFilterModal",_render:function(e){e=e||{};e.isActive=c.search.dateFilterId;e.key="date";e.buttonContent=c.search.getDateFilterName();a.prototype._render.call(this,e)},open:function(){c.pixel.fire("dfc","f",{iao:c.duckbar.activeTabId!=="web"?1:0});a.prototype.open.call(this)}})}(DDG);!function(c){var b=c.Views.Dropdowns,a=c.Views.Modal;b.DateFilterModal=function(e){a.call(this,e)};b.DateFilterModal.prototype=$.extend({},a.prototype,{template:"dropdown_modal",_render:function(e){a.prototype._render.call(this,{isPopover:e.isPopover,header:e.isPopover&&l("Filter by Date"),footerLink:this._isInExperiment()&&!c.search.isVertical&&{className:"js-custom-date-range",label:l("Custom date range"),selected:c.search.isCustomDateFilter()},values:c.search.getDateFilters(),key:"date"});this.$(".js-dropdown-items").click(this._onFilterClick.bind(this));this.$(".js-custom-date-range").click(this._onCustomDateRangeClick.bind(this))},_onFilterClick:function(i){i.preventDefault();var f=$(i.currentTarget),j=f.attr("data-value"),g=c.search,h=c.Data.HiddenFields.DATE_FILTER;if(j&&j!==""){c.hidden.set(h,j)}else{c.hidden.clear(h)}this._fireClickedPixel(j);g.set("dateFilterId",j);g.requery()},_onCustomDateRangeClick:function(f){this.dateRangeModal=this.dateRangeModal||new c.Views.CustomDateRange({appendTo:$("body"),model:new c.Models.CustomDateRange({})});this.dateRangeModal&&this.dateRangeModal.show();this._fireClickedPixel("c")},_fireClickedPixel:function(f){var e=!c.search.dateFilterId&&f;c.pixel.fire("dfc","ci",{fd:e?1:0})},_isInExperiment:function(){return c.searchExperiments&&c.searchExperiments.getExperimentGroup("cdrexp")==="b"}})}(DDG);!function(c){var b=c.Views.Dropdowns,a=b.Base;b.RegionFilter=function(e){a.call(this,e);var f=c.settings.region;this.bindEvents([[f,"change:id",this._rerender],[f,"change:suggestedRegion",this._rerender]]);if(!f.disabledSuggested()){f.fetchSuggested()}};b.RegionFilter.prototype=$.extend({},a.prototype,{template:"region_filter",modalClass:"RegionFilterModal",_render:function(){var f=c.settings.region,e=f.hasRegion(),g;if(e){g=f.getId()}else{if(f.hasPrevRegion()){g=f.prevId}else{g=f.suggestedRegion}}a.prototype._render.call(this,{hasActiveRegion:e,hasRegion:g,iconURL:g&&f.getSmallIconURL(g),regionName:f.getName(g),isAllRegion:!g||g===f.getDefaultId()});this._cacheElems(".js-region-filter",["switch"]);this.$switch.on("click",this._onSwitchClick.bind(this))},open:function(){c.pixel.fire("rgc","f",{iao:c.duckbar.activeTabId!=="web"?1:0});a.prototype.open.call(this)},_onSwitchClick:function(k){k.preventDefault();k.stopPropagation();var h,g,j=c.settings.region,i=new Date().getTime();if(j.hasRegion()){this.$switch.removeClass("is-on");h=j.getDefaultId();g="off"}else{this.$switch.addClass("is-on");h=j.getPrevId()||j.suggestedRegion;g="on"}var f=!j.getPrevId()&&j.getId()===j.getDefaultId();c.pixel.fire("rgc","s",g,{fr:f?1:0});j.setId(h,{saveToSettings:true,fallbackToURLParam:true},function(){var e=new Date().getTime()-i;setTimeout(function(){c.search.requery()},Math.min(DDG.animation_speed-e,0))})}})}(DDG);!function(e){var c=e.Views.Dropdowns,b=e.Views.Modal,a="is-highlighted",f=300;c.RegionFilterModal=function(g){g.model=e.settings.region;b.call(this,g);this.bindEvents([[e.keyboard,"up.modal",this._onUpArrow],[e.keyboard,"down.modal",this._onDownArrow],[e.keyboard,"enter.modal",this._onEnter]])};c.RegionFilterModal.prototype=$.extend({},b.prototype,{template:"region_filter_modal",cursorIndex:-1,hide:function(){b.prototype.hide.call(this);this._unfocusKeyboard()},show:function(){b.prototype.show.call(this);if(!e.device.isMobileDevice){this.$input.focus()}},pointAt:function(g){b.prototype.pointAt.call(this,g);this._top=parseInt(this.$list.offset().top,10)},_render:function(g){this._allRegions=this.model.getAll();b.prototype._render.call(this,$.extend({hasRegionOrSuggested:this.model.hasRegionOrSuggested()},g));this._cacheElems(".js-region-filter",["list","input","clear"]);this._renderRegions();this.$input.keyup(this._onInputKeyUp.bind(this));this.$input.click(this._onInputClick.bind(this));this.$clear.click(this._onClearClick.bind(this))},_renderRegions:function(){var g=this._filteredRegions||this._allRegions;this._highlightIdx=-1;if(!g||!g.length){this.$list.empty()}else{this.$list.html(e.exec_template("region_filter_modal_items",{regions:g,showListHeader:e.device.isMobile&&this.model.hasRegionOrSuggested()&&!this._filteredRegions}));this.$links=this.$(".js-region-filter-link");this.$list.find(".js-region-filter-clear").on("click",this._onClearClick.bind(this));this.$links.on("mouseenter touchstart",this._onItemMouseEnter.bind(this)).on("mouseleave",this._onItemMouseLeave.bind(this)).click(this._onRegionClick.bind(this))}},_clearFilter:function(){if(this._filteredRegions){delete this._filteredRegions;this._renderRegions()}this.$input.val("")},_updateHighlightedItem:function(){this.$("."+a).removeClass(a);if(this._highlightIdx===-1){this.$input.focus()}else{var j=this.$links[this._highlightIdx];if(j){var i=$(j),g=i.outerHeight(),k=parseInt(i.offset().top,10),h=k+g;i.addClass(a);if(h>=this._top+f){this.$list.scrollTop(this.$list.scrollTop()+g)}else{if(k<this._top){this.$list.scrollTop(this.$list.scrollTop()-g)}}}}},_focusKeyboard:function(){if(!this._keyboardFocus){this._keyboardFocus=true;e.$doc.on("mousemove.region",this._onMouseMove.bind(this))}},_unfocusKeyboard:function(){if(!this._keyboardFocus){return}this._keyboardFocus=false;e.$doc.off("mousemove.region")},_sendRegionSelectedPixel:function(o,k){var j=this.model,i=j.getDefaultId(),n=i===o,m=j.getPrevRegions().indexOf(o)>-1,h=n?"d":m?"p":"n",g;g=!j.getPrevId()&&j.getId()===i;e.pixel.fire("rgc",k,h,{fr:g?1:0})},_onInputKeyUp:function(h){if(e.keyboard.keyCodeIsOneOf(h.keyCode,["up","down","enter","escape"])){return false}var g=this.$input.val().toLowerCase();if(g){this._filteredRegions=this._allRegions.filter(function(i){return i.name.toLowerCase().indexOf(g.toLowerCase())>-1})}else{delete this._filteredRegions}e.pixel.fire("rgc","ku");this._renderRegions()},_onItemMouseEnter:function(i){if(this._keyboardFocus){return}var h=$(i.target),g=parseInt(h.data("index"),10);if($.isNumeric(g)&&this.highlightIdx!==g){this._highlightIdx=g;this._updateHighlightedItem()}},_onItemMouseLeave:function(i){if(this._keyboardFocus){return}var h=$(i.target),g=parseInt(h.data("index"),10);if($.isNumeric(g)&&this.highlightIdx===g){this._highlightIdx=-1;this._updateHighlightedItem()}},_onMouseMove:function(){this._unfocusKeyboard()},_onUpArrow:function(){this._highlightIdx--;this._focusKeyboard();this._highlightIdx=Math.max(this._highlightIdx,-1);this._updateHighlightedItem()},_onDownArrow:function(){this._highlightIdx++;this._focusKeyboard();this._highlightIdx=Math.min(this._highlightIdx,this.$links.length-1);this._updateHighlightedItem()},_onEnter:function(){var i;if(this._highlightIdx>-1){i=this._highlightIdx}else{if(this._filteredRegions&&this._filteredRegions.length===1){i=0}}if($.isNumeric(i)){var g=this.$links[i],h=$(g).data("id");this._sendRegionSelectedPixel(h,"ei");this.model.setId(h,{saveToSettings:true,fallbackToURLParam:true},function(){e.search.requery()})}},_onInputClick:function(g){g.stopPropagation()},_onClearClick:function(g){g.preventDefault();e.pixel.fire("rgc","cl");this.model.reset(function(){this.model.disableSuggested(function(){e.search.requery()})}.bind(this))},_onRegionClick:function(h){var g=$(h.target),i=g.data("id")||g.parent().data("id");this._sendRegionSelectedPixel(i,"ci");this.model.setId(i,{saveToSettings:true,fallbackToURLParam:true},function(){this.hide();e.search.requery()}.bind(this))}})}(DDG);!function(c){var b=c.Views.Dropdowns,a=c.Views.Dropdowns.Base;b.SafeSearchFilter=function(e){e.model=c.settings.safeSearch;a.call(this,e);this.bindEvents([[this.model,"change:id",this._rerender]]);this.modalOps={entryPoint:e.entryPoint||"of"}};b.SafeSearchFilter.prototype=$.extend({},a.prototype,{modalClass:"SafeSearchFilterModal",_render:function(e){e=e||{};e.isActive=this.model.isActive();e.key="safe-search";e.buttonContent=l("Safe search:")+" "+(this.model.getName()||"").toLowerCase();a.prototype._render.call(this,e)}})}(DDG);!function(c){var b=c.Views.Dropdowns,a=c.Views.Modal;b.SafeSearchFilterModal=function(e){this.entryPoint=e.entryPoint;e.model=c.settings.safeSearch;a.call(this,e)};b.SafeSearchFilterModal.prototype=$.extend({},a.prototype,{template:"dropdown_modal",_render:function(e){a.prototype._render.call(this,{isPopover:e.isPopover,header:e.isPopover&&l("Safe Search"),showDescriptions:true,values:this.model.getAll(),key:"safe-search"});this.$(".js-dropdown-items").click(this._onFilterClick.bind(this))},_onFilterClick:function(g){var f=$(g.currentTarget),h=f.attr("data-value");this.model.setId(h,function(){c.search.requery()});c.pixel.fire("sss","f",{v:c.settings.safeSearch.getId(),ep:this.entryPoint})}})}(DDG);!function(c){var b=c.Views.Dropdowns,a=b.Base;b.UserLocationFilter=function(e){e.model=c.userLocator;a.call(this,e);this.bindEvents([[this.model,"change:waitingForLocation",this._onWaitingForLocationChange]])};b.UserLocationFilter.prototype=$.extend({},a.prototype,{template:"user_location_filter_dropdown",modalClass:"UserLocationFilterModal",_render:function(e){e=e||{};e.buttonContent=this.model.userLocation.desc||[this.model.userLocation.lat.toFixed(2),this.model.userLocation.lon.toFixed(2)].join(", ");a.prototype._render.call(this,e)},_repositionModal:function(){if(!this.views.modal){return}var e=this.$button.offset();e.top+=this.$el.outerHeight()+8;this.views.modal.pointAt(e)},_onWaitingForLocationChange:function(){if(this.model.waitingForLocation){this.$spinner=c.$exec_template("spinner",{className:"user-loc-filter__spinner"});this.$el.append(this.$spinner)}else{if(this.$spinner){this.$spinner.remove();delete this.$spinner}}}})}(DDG);!function(c){var b=c.Views.Dropdowns,a=c.Views.Modal;b.UserLocationFilterModal=function(e){a.call(this,e);this.bindEvents([[c.userLocator,"change:userLocation",this._onUserLocationChanged]]);c.pixel.fire("lfmi",c.userLocator.userLocation.type)};b.UserLocationFilterModal.prototype=$.extend({},a.prototype,{template:"user_location_filter_modal",_render:function(f){a.prototype._render.call(this,f);var e=this.$(".js-user-loc-filter-modal-btn");this.views.button=new c.Views.UserLocationButtonCurrent({updateButton:true,clickPixel:"lfmc",updateType:"modal",appendTo:e});this.views.error=new c.Views.UserLocationError({updateType:"modal",showInstructions:false,small:true,appendTo:e})},_onUserLocationChanged:function(){this.hide()}})}(DDG);!function(c){var b=c.Views.Base,a=500;c.Views.UserLocationTile=function(e){e.model=c.userLocator;this.position=e.position;this.answer=e.answer;this._constrainChildren=e.constrainChildren;this.$tooltipAppendEl=e.$originEl;this.locationDesc=e.model.hasLocation()?e.model.userLocation.desc:"";b.call(this,e);c.pixel.fire("lti")};c.Views.UserLocationTile.prototype=$.extend({},b.prototype,{template:"user_location_tile",_render:function(){b.prototype._render.call(this,{position:this.position});this._cacheElems(".js-user-loc-tile",["icons","down","marker","button","desc"]);this.views.userLocationTooltip=new c.Views.UserLocationTooltip({appendTo:this.$tooltipAppendEl,position:this.position,$positionAgainst:this.$button,constrain:this._constrainChildren,afterShow:this._afterTooltipShow.bind(this),afterHide:this._afterTooltipHide.bind(this)});if(c.userLocator.hasLocation()){this.$marker.addClass("tx-clr--blue-light");this.$button.attr("data-tooltip-text",lp("precise_user_location","Anonymous location enabled"))}this.bindEvents([[this.$el,"click",this._onTileClick],[this.$button,"mouseenter",this._onMouseEnter],[this.$button,"mouseleave",this._onMouseLeave],[this.model.userLocation,"change:desc",this._onUserLocationDescChange],[this.model,"change:waitingForLocation",this._onWaitingForLocation]]);this.showUserLocationCTA();this._onUserLocationDescChange()},_onTileClick:function(f){f.stopPropagation();c.pixel.fire("ltc");this.$button.removeClass("simple-tooltip");if(this.views.userLocationTooltip.isVisible()){this.views.userLocationTooltip.onDismissClick(f)}else{this.views.userLocationTooltip.showTooltip({source:"userInteraction"})}},_onUserLocationDescChange:function(e){if(c.searchExperiments.getExperimentGroup("pulmobexp")!=="b"){return}if(e){this.locationDesc=e}if(this.locationDesc.length){this.$desc.children().last().text(this.locationDesc);this.$desc.removeClass("is-hidden")}},_onWaitingForLocation:function(e){if(e){this.$spinner=c.$exec_template("spinner");this.$icons.addClass("is-hidden");this.$button.append(this.$spinner)}else{this.$spinner.remove();this.$icons.removeClass("is-hidden");delete this.$spinner}},_afterTooltipShow:function(){if(c.device.isMobile){return}if(this.model.hasLocation()){this.$button.attr("data-tooltip-text",lp("precise_user_location","Anonymous location enabled"))}this.$button.removeClass("simple-tooltip")},_afterTooltipHide:function(){if(c.device.isMobile){return}this.$button.addClass("simple-tooltip")},_triggerImplicitAsk:function(){var e=false;var f=document.querySelector(".js-places-multiple-map");this._mapObserver=new c.Utils.IsIntoViewObserver(f,{threshold:0.8},function(g){if(g){e=true;c.userLocator.updateLocation({force:true,updateType:"implicit"});this._mapObserver.destroy()}}.bind(this));setTimeout(function(){!e&&this.views.userLocationTooltip.showTooltip({delay:a});this._mapObserver&&this._mapObserver.destroy()}.bind(this),1000)},showUserLocationCTA:function(){if(!c.userLocator.canGetLocation()){return}if(c.userLocator.hasLocation()&&this.answer.proximity){c.userLocator.updateLocation({updateType:"bg"})}else{if(this.answer.proximity&&c.settings.isDefault("kat")&&!c.search.isNavigational){if(c.searchExperiments.getExperimentGroup("pulmobexp")==="b"){this._triggerImplicitAsk()}else{this.views.userLocationTooltip.showTooltip({delay:a})}}}}})}(DDG);!function(b){var a=b.Views.Base;b.Views.UserLocationTooltipContent=function(c){c.model=b.userLocator;this.device=c.device||b.device;this.updateType="cta";this.showDesc=c.showDesc;a.call(this,c)};b.Views.UserLocationTooltipContent.prototype=$.extend({},a.prototype,{template:"user_location_tooltip_content",_render:function(){a.prototype._render.call(this,this._getRenderOps());this._cacheElems(".js-user-loc-content",["copy","help","buttons"]);this.views.buttons=new b.Views.UserLocationButton({clickPixel:"lctac",updateType:"cta",updateButton:this.model.hasLocation(),appendTo:this.$buttons});this.bindEvents([[this.model,"change:retryLocation",this._onRetryLocationChange],[this.model,"change:errorGettingLocation",this._onErrorGettingLocationChange],[this.model,"change:problemUpdatingLocation",this._onProblemUpdatingLocation],[this.model.userLocation,"change:desc",this._onUserLocationDescChange],[this.$help,"click",this._onHelpClick]])},_getInstructions:function(){var c=null;if(this.device.isAndroid){if(this.device.isDDGApp&&this.device.isEnglish){c=[lp("precise_user_location","Enable the Location setting on your phone."),lp("precise_user_location","Tap the vertical dots in the DuckDuckGo app."),lp("precise_user_location","Select Settings > Location."),lp("precise_user_location","Enable 'Sites can ask for my location.'"),lp("precise_user_location","Return to duckduckgo.com and allow permission.")]}else{if(this.device.isChrome||this.device.isBrave){c=["Tap the <b>lock icon</b> on the address bar.","Go to 'Site Settings'.","Ensure 'Location' is set to <b>allow</b>.","<b>Reload</b> DuckDuckGo, and try again."]}else{c=["Open the <b>Settings app</b>.","Open 'Location', and ensure location is <b>enabled</b>.","Navigate to Settings > Apps.","Ensure your browser is allowed location access.","<b>Reload</b> DuckDuckGo, and try again."]}}}else{if(this.device.isIDevice){c=["Open the <b>Settings</b> app.","Open 'Privacy', then 'Location Services'.","Ensure 'Location Services' is <b>enabled</b>.","Scroll down and locate <b>your browser</b> in the list.","Ensure your browser is allowed <b>location access</b>.","<b>Reload</b> DuckDuckGo, and try again."]}else{if((this.device.isBrave||this.device.isChrome||this.device.isFirefox)&&(this.device.isWindows||this.device.isOSX)){c=["Click the <b>lock icon</b> on the address bar.","Ensure location access is <b>allowed</b>.","<b>Reload</b> DuckDuckGo, and try again."]}else{if(this.device.isOSX&&this.device.isSafari){c=["Select <b>'Settings for this Website...'</b> from the Safari menu.","Ensure <b>'Allow'</b> is selected for the 'Location' setting.","<b>Reload</b> DuckDuckGo, and try again."]}}}}return c},_getRenderOps:function(){if(this.model.errorGettingLocation){return{locError:true,instructions:this._getInstructions()}}else{if(this.model.problemUpdatingLocation){return{locUpdProblem:true,desc:this.showDesc?this.model.userLocation.desc:""}}else{if(this.model.hasLocation()){return{locSet:true,desc:this.showDesc?this.model.userLocation.desc:""}}else{if(!this.model.hasLocation()){return{locUnset:true}}}}}return{locUnset:true}},_onErrorGettingLocationChange:function(){this._rerender()},_onHelpClick:function(){b.pixel.fire("lhc",this.updateType)},_onRetryLocationChange:function(){if(!this.model.retryLocation){return}b.settings.clear("kat",{saveToCookie:true,saveToCloud:false});if(this.model.retryLocation==="manual"){this.views.buttons.requestManualLocation()}else{if(this.model.retryLocation==="precise"){this.views.buttons.requestPreciseLocation("survey","lctar")}}},_onUserLocationDescChange:function(){this._rerender()},_onProblemUpdatingLocation:function(){this._rerender()},hide:function(){this.$el.addClass("is-hidden")},show:function(){this.$el.removeClass("is-hidden")}})}(DDG);!function(b){var a=b.Views.Base;b.Views.UserLocationTooltip=function(c){c.model=b.userLocator;this.position=c.position;this.$positionAgainst=c.$positionAgainst;this._constrain=c.constrain;this._afterShow=c.afterShow;this._afterHide=c.afterHide;this._hasFired=false;this._showSource=null;a.call(this,c)};b.Views.UserLocationTooltip.prototype=$.extend({},a.prototype,{template:"user_location_tooltip",_render:function(){a.prototype._render.call(this);this._cacheElems(".js-user-loc-tooltip",["triangle-outer","triangle-inner","more","dismiss","inner"]);this.views.content=new b.Views.UserLocationTooltipContent({appendTo:this.$inner,showDesc:this.position!=="below-left"});this._updateArrowStyle();this.bindEvents([[this.$dismiss,"click",this.onDismissClick],[this.model,"change:userLocation",this._onCurrentLocationChange],[this.model,"change:errorGettingLocation",this._onErrorGettingLocationChange],[this.model,"successGettingLocation",this._onSuccessGettingLocation],[b.history,"popstate",this._onStateChange],[b.router,"navigate",this._onStateChange],[b.settings,"change:kae",this._updateArrowStyle]])},onDismissClick:function(f){f.preventDefault();var c=$(f.delegateTarget).closest(".js-user-loc-tile").length?"tile":"tooltipX";if(!this.model.hasLocation()&&b.settings.isDefault("kat")&&this._showSource!=="userInteraction"){b.pixel.fire("lctax");b.settings.set("kat","-1",{saveToCookie:true,saveToCloud:false})}this._hideTooltip(c)},_hideTooltip:function(c){c=c||"other";b.pixel.fire("lctah",c);this.$el.removeClass("user-loc-tooltip--animation");this.$el.fadeOut(200,function(){this._afterHide()}.bind(this));b.$doc.off("click.pul-tooltip")},_updateArrowStyle:function(){var c=this.model.errorGettingLocation;if(c){if(b.settings.isDarkTheme()){this.$triangleinner.css({borderBottomColor:"#171818"})}else{this.$triangleinner.css({borderBottomColor:"#f0f3f5"})}}else{this.$triangleinner.css({borderBottomColor:""})}},_handleDocClick:function(f){var c=$(f.target).closest(this.$el).length===0;if(c){this._hideTooltip("outsideClick")}},_onCurrentLocationChange:function(){if(this.model.hasLocation()){this._hideTooltip("currentLocationChange")}},_onErrorGettingLocationChange:function(c){this._updateArrowStyle();if(this.model.lastUpdateType==="implicit"&&c===1){this._hideTooltip(this.model.lastUpdateType)}},_onSuccessGettingLocation:function(){this._hideTooltip("successGettingLocationChange")},_onStateChange:function(){var c=!this.$parent.is(":visible");c&&this._hideTooltip("stateChange")},isVisible:function(){return this.$el.is(":visible")},showTooltip:function(f){f=$.extend({delay:0,source:"auto"},f);this._showSource=f.source;if(!this.$parent.is(":visible")){return}if(!this._hasFired){b.pixel.fire("lctai");this._hasFired=true}b.$doc.on("click.pul-tooltip",this._handleDocClick.bind(this));this.$el.addClass("user-loc-tooltip--"+this.position);var c=this.$positionAgainst.parent().parent().position().top,e=this.$positionAgainst.outerHeight()+c,g=(this.$positionAgainst.outerWidth()/2)+c;if(this.position==="below"){g-=g*2}else{if(this.position==="below-left"){g+=(c*2)}}if(this._constrain){this.$el.addClass("tooltip-constrained")}this.$el.css({top:e,right:g});if(f.delay){setTimeout(function(){this.$el.fadeIn(400,function(){this._afterShow()}.bind(this));this.$el.addClass("user-loc-tooltip--animation")}.bind(this),f.delay)}else{this.$el.fadeIn(200,function(){this._afterShow()}.bind(this))}}})}(DDG);!function(b){var a=b.Views.Base;b.Views.UserLocationCTA=function(c){c.model=b.userLocator;a.call(this,c);b.pixel.fire("lctai")};b.Views.UserLocationCTA.prototype=$.extend({},a.prototype,{template:"user_location_cta",_render:function(){a.prototype._render.call(this);this._cacheElems(".js-user-loc-cta",["show-more","more","dismiss","initial"]);this.views.button=new b.Views.UserLocationButtonCurrent({clickPixel:"lctac",updateType:"cta",before:this.$more});this.views.error=new b.Views.UserLocationError({updateType:"cta",showInstructions:true,appendTo:this.$initial});this.bindEvents([[this.$showmore,"click",this._onShowMoreClick],[this.$dismiss,"click",this._onDismissClick],[this.model,"change:userLocation",this._onCurrentLocationChange]])},_hide:function(){this.$el.addClass("is-hidden")},_showMore:function(){b.pixel.fire("lctan");this._showingMore=true;this.$more.removeClass("is-hidden");this.$showmore.text(lp("expand_text","Show Less"))},_hideMore:function(){this._showingMore=false;this.$more.addClass("is-hidden");this.$showmore.text(lp("expand_text","Show More"))},_onShowMoreClick:function(c){if(this._showingMore){this._hideMore()}else{this._showMore()}},_onDismissClick:function(c){c.preventDefault();if(!this.model.hasLocation()&&b.settings.isDefault("kat")){b.pixel.fire("lctax");b.settings.set("kat","-1",{saveToCookie:true,saveToCloud:false})}this._hide()},_onCurrentLocationChange:function(){if(this.model.hasLocation()){this._hide()}}})}(DDG);!function(b){var a=b.Views.Base;b.Views.UserLocationButton=function(c){c.model=c.model||b.userLocator;this.updateButton=c.updateButton;this.clickPixel=c.clickPixel;this.updateType=c.updateType;a.call(this,c);this.bindEvents([[this.model,"change:waitingForLocation",this._onWaitingForLocationChange],[this.model,"change:errorGettingLocation",this._onErrorGettingLocationChange],[this.model,"change:problemUpdatingLocation",this._onProblemUpdatingLocation]])};b.Views.UserLocationButton.prototype=$.extend({},a.prototype,{template:"user_location_button",requestPreciseLocation:function(c,e){this.model.updateLocation({force:true,updateType:c||this.updateType});b.pixel.fire(e||this.clickPixel)},requestManualLocation:function(){b.pixel.fire("lmm");if(!this.views.modal){this.views.modal=new b.Views.ManualUserLocationModal({model:this.model,appendTo:"body"})}this.views.modal.show()},_render:function(){a.prototype._render.call(this,{waiting:this.model.waitingForLocation,showManualLocationButton:!this.updateButton,highlightManualLocationButton:this.model.errorGettingLocation,update:this.updateButton,problemUpdatingLocation:this.model.problemUpdatingLocation});this._cacheElems(".js-user-loc-btn",["cancel","enable","manual","update","clear"]);this.bindEvents([[this.$cancel,"click",this._onCancelClick],[this.$enable,"click",this._onPreciseLocationClick],[this.$manual,"click",this._onManualLocationClick],[this.$update,"click",this._onUpdateLocationClick],[this.$clear,"click",this._onClearClick]])},_onPreciseLocationClick:function(){if(this.model.waitingForLocation){return}this.requestPreciseLocation()},_onManualLocationClick:function(){if(this.model.waitingForLocation){return}this.requestManualLocation()},_onUpdateLocationClick:function(){if(this.model.waitingForLocation){return}if(this.model.problemUpdatingLocation||this.model.userLocation.type===b.Models.UserLocation.MANUAL_LOCATION){this.requestManualLocation()}else{this.requestPreciseLocation()}},_onCancelClick:function(){this.model.cancelLocation()},_onClearClick:function(){if(b.userLocator.hasLocation()){b.userLocator.clearLocation();b.pixel.fire("lfmx")}b.settings.set("kat","-1",{saveToCookie:true,saveToCloud:false})},_onWaitingForLocationChange:function(){this._rerender()},_onErrorGettingLocationChange:function(){this._rerender()},_onProblemUpdatingLocation:function(){this._rerender()}})}(DDG);!function(b){var a=b.Views.Base;b.Views.UserLocationButtonCurrent=function(c){c.model=c.model||b.userLocator;this.updateButton=c.updateButton;this.clickPixel=c.clickPixel;this.updateType=c.updateType;a.call(this,c);this.bindEvents([[this.model,"change:waitingForLocation",this._onWaitingForLocationChange],[this.model,"change:errorGettingLocation",this._onErrorGettingLocationChange]])};b.Views.UserLocationButtonCurrent.prototype=$.extend({},a.prototype,{template:"user_location_button_current",requestPreciseLocation:function(c,e){this.model.updateLocation({force:true,updateType:c||this.updateType});b.pixel.fire(e||this.clickPixel)},requestManualLocation:function(){b.pixel.fire("lmm");if(!this.views.modal){this.views.modal=new b.Views.ManualUserLocationModal({model:this.model,appendTo:"body"})}this.views.modal.show()},_render:function(){a.prototype._render.call(this,{waiting:this.model.waitingForLocation,showManualLocationButton:!this.updateButton,highlightManualLocationButton:this.model.errorGettingLocation,update:this.updateButton});this._cacheElems(".js-user-loc-btn",["cancel","enable","manual","update","clear"]);this.bindEvents([[this.$cancel,"click",this._onCancelClick],[this.$enable,"click",this._onPreciseLocationClick],[this.$manual,"click",this._onManualLocationClick],[this.$update,"click",this._onUpdateLocationClick],[this.$clear,"click",this._onClearClick]])},_onPreciseLocationClick:function(){if(this.model.waitingForLocation){return}this.requestPreciseLocation()},_onManualLocationClick:function(){if(this.model.waitingForLocation){return}this.requestManualLocation()},_onUpdateLocationClick:function(){if(this.model.waitingForLocation){return}if(this.model.userLocation.type===b.Models.UserLocation.MANUAL_LOCATION){this.requestManualLocation()}else{this.requestPreciseLocation()}},_onCancelClick:function(){this.model.cancelLocation()},_onClearClick:function(){if(b.userLocator.hasLocation()){b.userLocator.clearLocation();b.pixel.fire("lfmx")}b.settings.set("kat","-1",{saveToCookie:true,saveToCloud:false})},_onWaitingForLocationChange:function(){this._rerender()},_onErrorGettingLocationChange:function(){this._rerender()}})}(DDG);!function(b){var a=b.Views.Base;b.Views.UserLocationError=function(c){c.model=c.model||b.userLocator;this.small=Boolean(c.small);this.showInstructions=c.showInstructions;this.device=c.device||b.device;this.updateType=c.updateType;a.call(this,c);this.bindEvents([[this.model,"change:errorGettingLocation",this._onErrorGettingLocationChange]])};b.Views.UserLocationError.prototype=$.extend({},a.prototype,{template:"user_location_error",_render:function(){a.prototype._render.call(this,{error:this.model.errorGettingLocation,small:this.small,instructions:this._getInstructions(),isMobile:this.device.isMobileDevice});this._cacheElems(".js-user-loc-error",["help"]);this.bindEvents([[this.$help,"click",this._onHelpClick]])},_getInstructions:function(){var c=null;if(!this.showInstructions){return c}if(this.device.isAndroid){if(this.device.isDDGApp&&this.device.isEnglish){c=[lp("precise_user_location","Enable the Location setting on your phone."),lp("precise_user_location","Tap the vertical dots in the DuckDuckGo app."),lp("precise_user_location","Select Settings > Location."),lp("precise_user_location","Enable 'Sites can ask for my location.'"),lp("precise_user_location","Return to duckduckgo.com and allow permission.")]}else{if(this.device.isChrome||this.device.isBrave){c=["Tap the lock icon on the address bar.","Go to 'Site Settings'.","Ensure 'Location' is set to allow.","Reload DuckDuckGo, and try again."]}else{c=["Open the Settings app.","Open 'Location', and ensure location is enabled.","Navigate to Settings > Apps.","Ensure your browser is allowed location access.","Reload DuckDuckGo, and try again."]}}}else{if(this.device.isIDevice){c=["Open the Settings app.","Open 'Privacy', then 'Location Services'.","Ensure 'Location Services' is enabled.","Scroll down and locate your browser in the list.","Ensure your browser is allowed location access.","Reload DuckDuckGo, and try again."]}else{if((this.device.isChrome||this.device.isFirefox)&&(this.device.isWindows||this.device.isOSX)){c=["Click the lock icon on the address bar.","Ensure location access is allowed.","Reload DuckDuckGo, and try again."]}else{if(this.device.isOSX&&this.device.isSafari){c=["Open 'System Preferences'.","Open 'Security & Privacy', then 'Privacy'.","Ensure 'Enable Location Services' is enabled.","Ensure 'Safari' is enabled.","Reload DuckDuckGo, and try again."]}}}}return c},_onHelpClick:function(){b.pixel.fire("lhc",this.updateType)},_onErrorGettingLocationChange:function(){this._rerender()}})}(DDG);!function(c){var b=c.Views.Modal,a=14,e=10;c.Views.ManualUserLocationModal=function(g){g.appendTo=g.appendTo||".js-site-wrapper";var f=g.model.userLocation;this._zoomLevel=a;if(!g.model.hasLocation()&&g.model.geoipLocation){f=g.model.geoipLocation;this._zoomLevel=e}this._mapModel=new c.Models.GLMap({selectedLocation:f});this._initialPositionChanged=false;b.call(this,g)};c.Views.ManualUserLocationModal.prototype=$.extend({},b.prototype,{template:"manual_user_location_modal",show:function(){b.prototype.show.call(this);if(!this.views.map){this.views.map=new c.Views.Mapkit.PositionPicker({appendTo:this.$map,model:this._mapModel,zoomLevel:this._zoomLevel})}else{this.views.map.show()}this._toggleScroll();this._updateCloseButtonTheme()},hide:function(f){b.prototype.hide.call(this);if(this.views.map){this.views.map.hide()}if(f!==false){c.pixel.fire("lmmh")}this._toggleScroll()},_render:function(f){b.prototype._render.call(this,f);this._cacheElems(".js-manual-user-location",["map","map-controls","done-btn","close"]);this.bindEvents([[this.$donebtn,"click",this._onPositionPicked],[this._mapModel,"change:selectedLocation",this._onPositionChanged]])},_toggleScroll:function(){c.$html.toggleClass("disable-place-scroll",!!this.isShowing)},_updateCloseButtonTheme:function(){var f="map-control__btn--darkmap";this.isDarkMap=c.settings.isDarkTheme();if(this.isDarkMap){this.$close.addClass(f)}else{this.$close.removeClass(f)}},_onPositionChanged:function(){this._initialPositionChanged=true;this.$donebtn.removeClass("is-disabled")},_onPositionPicked:function(){if(!this._initialPositionChanged){return}if(this._mapModel.selectedLocation){if(this.model.geoipLocation){this._mapModel.selectedLocation.geoipLat=this.model.geoipLocation.lat;this._mapModel.selectedLocation.geoipLon=this.model.geoipLocation.lon}this.model.setLocation(this._mapModel.selectedLocation);c.pixel.fire("lmms")}setTimeout(function(){this.hide(false)}.bind(this),50)}})}(DDG);!function(e){var b=e.Views.Base,c="search--focus",a="search--hover";e.Views.Maps.MapSearchbar=function(f){this._ops=f;this.directionsModel=f.directionsModel||null;this.directionsType=f.directionsType||null;this.initValue=f.initValue;this.model=f.model;this.model.hideSearchButton=!!this.directionsModel;if(this.directionsModel){this.model.searchFormPlaceholder=this.directionsType==="start"?lp("maps_directions","Enter start location"):lp("maps_directions","Enter your destination")}else{this.model.searchFormPlaceholder=""}b.call(this,this._ops);this.bindEvents([[this.model,"change:items",this._onItemsChange],[this.model.meta,"change:requery",this._onQueryChange],[this.model,"change:isMapStartActive",this._onMapStartActiveChange],[this.autocompleteModel,"change:suggestions",this._onAutocompleteSuggestionsChange],[this.directionsModel,"change:"+this.directionsType,this._onDirectionsChange],[this.directionsModel,"change:"+this.directionsType+"Display",this._onDirectionsDisplayChange]])};e.Views.Maps.MapSearchbar.prototype=$.extend({},b.prototype,{template:"map_searchbar",show:function(){this.$el.show()},hide:function(){this.$el.hide()},blur:function(){this.$searchinput&&this.$searchinput.blur()},focus:function(){this.$searchinput&&this.$searchinput.focus()},clearInput:function(){if(this.autocomplete){this.autocomplete.clear();this.autocomplete.hide()}this.$searchinput.val("")&&this.$searchinput.focus();this._updateClearButtonAndSearchbar()},getCurrentValue:function(){return this.$searchinput&&e.strip_all_html(this.$searchinput.val())},set:function(f){if(!f){return}this.$searchinput.val(e.strip_all_html(f));this._updateClearButtonAndSearchbar()},_render:function(){b.prototype._render.call(this,this._ops);this._cacheElems(".js-vertical-map",["search-button","search-clear","search-input","search"]);this.$body=$("body");this.bindEvents([[this.$searchinput,"touchstart click",this._onInputFocus],[this.$searchinput,"focus",this._onInputFocus],[this.$searchinput,"blur",this._onInputBlur],[this.$searchinput,"keyup",this._onInputKeyUp],[this.$search,"submit",this._onSearchSubmit]]);if(Modernizr.touch){this.$searchbutton.on("touchstart",this._onSearchButtonTouch.bind(this));this.$searchclear.on("touchstart click",this._onClearClick.bind(this));this.$search.on("touchstart",this._onInputFocus.bind(this))}else{this.$searchclear.on("click",this._onClearClick.bind(this));this.$search.on("click",this._onInputFocus.bind(this))}e.keyboard.on("escape.searchbar",this._onEscape.bind(this));this._updateSearchButtonOnHover();if(this.directionsModel){this.set(e.Utils.Strings.decodeHex(this.initValue)||"")}else{this.set(e.Utils.Strings.decodeHex(this.model.meta.query||this.model.query))}this._updateClearButtonAndSearchbar();this._initAutocomplete()},_initAutocomplete:function(){if(!this.$searchinput||this.autocomplete){return}this.autocompleteModel=new e.Models.Maps.Autocomplete({answer:this.model});this.autocomplete=new e.Views.AutoComplete({$input:this.$searchinput,$parentForm:this.$search,model:this.autocompleteModel,isTwoRowsText:true});this.$search.append(this.autocomplete.$el)},_updateSearchButtonOnHover:function(){this.$search.hover(function(){$(this).addClass(a)},function(){$(this).removeClass(a)})},_updateSearchButton:function(){if(this.$searchinput.val()){this.$search.addClass(c)}else{this.$search.removeClass(c)}},_updateClearButtonAndSearchbar:function(){if(!this.$searchinput){return}var f=this.$searchinput.val();if(e.device.isMobile){this.$searchclear.val("×")}if(!f||f===""){this.$search.removeClass("has-text");this.$searchclear.addClass("empty")}else{this.$search.addClass("has-text");this.$searchclear.removeClass("empty")}},_resetNamespace:function(){if(e.keyboard.namespace==="searchbar"){e.keyboard.set("namespace")}},_onAutocompleteSuggestionsChange:function(){if(!this.isFocused){this.autocomplete.hide()}},_onClearClick:function(f){f.preventDefault();f.stopPropagation();this.clearInput();if(this.directionsModel){this.directionsModel.set(this.directionsType,null)}},_onEscape:function(f){if(this.autocomplete&&this.autocomplete.isVisible()){this.autocomplete.hide()}this.$searchinput.blur()},_onQueryChange:function(f){if(!f){return}if(this.directionsModel){return}this.set(e.Utils.Strings.decodeHex(f))},_onDirectionsChange:function(f){if(!f){f=""}else{if(typeof f==="object"){f=f.what||f.where||(f.coordinate?lp("directions","Your Location"):"")}}this.set(e.Utils.Strings.decodeHex(f))},_onDirectionsDisplayChange:function(f){this.set(f)},_onMapStartActiveChange:function(){if(this.directionsModel){return}if(this.model.isMapStartActive){this.clearInput()}else{if(this.model.meta.requery||this.model.query){this.set(this.model.meta.requery||this.model.query)}}},_onItemsChange:function(){this._resetNamespace();this.$searchinput.blur();this.$searchbutton.blur();if(this.autocomplete){this.autocomplete.clear();this.autocomplete.hide()}},_setNamespaceSearchbar:function(){var f=e.keyboard.namespace;if(!f||(f!=="autocomplete"&&f!=="searchbar")){e.keyboard.set("namespace","searchbar")}},_onSearchButtonTouch:function(f){f.stopPropagation()},_onInputFocus:function(f){f.stopPropagation();this._updateSearchButton();if(!this.$searchinput.val()&&this.autocomplete){this.autocomplete.hide()}else{this._setNamespaceSearchbar()}if(e.device.isMobileDevice){this.$body.on("touchstart.searchbar",this._onTouchOut.bind(this))}this.emit("searchbar-focused");this.isFocused=true},_onInputBlur:function(f){this.$search.removeClass(c);this._resetNamespace();if(e.device.isMobileDevice){this.$body.off("touchstart.searchbar")}this.isFocused=false},_onInputKeyUp:function(f){this._updateSearchButton();this._updateClearButtonAndSearchbar()},_onTouchOut:function(f){f.stopPropagation();this.$searchinput.blur()},_onSearchSubmit:function(i){i.preventDefault();if(this.autocomplete.model.selectedSuggestion){delete this.autocomplete.model.selectedSuggestion;return}var h=this.$searchinput.val();h=e.strip_all_html(h);this.$searchinput.blur();this.$searchbutton.blur();this._resetNamespace();if(this.autocomplete){this.autocomplete.clear();this.autocomplete.hide()}if(this.directionsModel){if(this.directionsType){var g={};g[this.directionsType]={what:h};this.directionsModel.onDirectionsAction(g)}else{}this.directionsModel.autocompleteLocation({loc:h,type:this.directionsType})}else{this.model.set("shouldMapViewportUpdate",true);this.model.set("isSearchAreaBtnVisible",false);this.emit("requery-submit",{query:h,strict_bbox:"0"});var f=h?{q:h}:{};e.pixel.fire("map_ere");e.pixel.fire("map_er","submit",f)}}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Maps.MapSidebar=function(c){this.directionsModel=c.directionsModel;a.call(this,c);this.bindEvents([[this.model,"change:selectedItem",this._onSelectedItemChanged],[this.model,"change:isMapExpanded",this._onMapExpandedChanged],[this.model,"change:isDirectionsActive",this._onDirectionsActiveChange]])};b.Views.Maps.MapSidebar.prototype=$.extend({},a.prototype,{template:"map_sidebar",show:function(){this.$el.show()},hide:function(){this.$el.hide()},blurSearchInput:function(){if(b.device.isMobileDevice){return}this.views.mapSearchbar&&this.views.mapSearchbar.blur()},_render:function(){a.prototype._render.call(this,this.model);this._cacheElems(".js-vertical-map",["content","results-container","detail","close-map","close-directions","back","back-to-list","back-to-serp","type-container"]);if(this.model.isMapExpanded){this._renderSearchHeader();this.views.mapTypeSelect=new b.Views.Maps.MapTypeSelect({appendTo:this.$typecontainer,model:this.model,small:false});this.bindEvents([[this.$back,"click",this._onBackClick]])}this.bindEvents([[this.$backtolist,"click",this._onBackToListClick],[this.$closemap,"click",this._onCloseMapClick],[this.$closedirections,"click",this._onCloseDirectionsClick]])},_renderSearchHeader:function(){if(!this.views.directionsSearch){this.views.directionsSearch=new b.Views.Maps.DirectionsSearch({model:this.model,directionsModel:this.directionsModel,appendTo:this.$content,showTransportType:true,autoInit:true})}if(!this.views.mapSearchbar){this.views.mapSearchbar=new b.Views.Maps.MapSearchbar({appendTo:this.$content,model:this.model})}this._toggleDirections()},_toggleDirections:function(){if(this.model.isDirectionsActive){this.views.mapSearchbar.hide();this.views.directionsSearch&&this.views.directionsSearch.show();this.$closedirections&&this.$closedirections.show()}else{this.views.directionsSearch&&this.views.directionsSearch.hide();this.views.mapSearchbar.show();this.$closedirections&&this.$closedirections.hide()}},_onSelectedItemChanged:function(c){if((this.model.answerItemModel!=="Place"&&this.model.answerType!=="Places")||this.model.isSingle){return}if(c){this.$backtoserp.hide();this.$backtolist.removeClass("is-hidden")}else{this.$backtoserp.show();this.$backtolist.addClass("is-hidden")}},_onMapExpandedChanged:function(c){if(this.model.selectedItem){this.model.selectedItem.unselect();b.history.clear("iai")}if(!this.views.mapSearchbar){return}if(c){if(this.model.isDirectionsActive){this.views.directionsSearch&&this.views.directionsSearch.show()}else{this.views.mapSearchbar&&this.views.mapSearchbar.show()}}else{if(!this.model.meta.requery){this.views.mapSearchbar.hide()}}},_onBackClick:function(c){c.preventDefault();c.stopPropagation();b.pixel.fire("map_ebe");w.history.back()},_onBackToListClick:function(c){c.preventDefault();c.stopPropagation();if(this.model.selectedItem){this.model.selectedItem.unselect();b.history.clear("iai")}if(this.views.currentPlaceDetail){this.views.currentPlaceDetail.destroy();delete this.views.currentPlaceDetail}this.$detail.hide();this.$resultscontainer.show();this.$backtolist.addClass("is-hidden")},_onCloseMapClick:function(c){c.preventDefault();c.stopPropagation();this.model.set("isMapExpanded",false);this.model.engaged();b.pixel.fire("map_ebe")},_onCloseDirectionsClick:function(){this.model.onMapStartAction()},_onDirectionsActiveChange:function(c){this._toggleDirections()}})}(DDG);!function(e){var c=e.Views.Base,a="normal",b={min:"normal",normal:"min",max:"normal",initial:"min"};e.Views.Maps.MapSidebarMobile=function(f){this.directionsModel=f.directionsModel;this.views={};c.call(this,f);this.bindEvents([[this.model,"change:sidebarPosition",this._onSidebarPositionChanged],[this.model,"requery-complete",this._onRequeryComplete],[this.model,"change:isMapExpanded",this._onMapExpandedChanged],[this.model,"change:isDirectionsActive",this._onDirectionsActiveChange]]);this.searchHeaderOffset=Math.ceil(e.device.height-this.model.sidebarTranslateY);this.model.set("sidebarPosition",this.model.sidebarPosition||a)};e.Views.Maps.MapSidebarMobile.prototype=$.extend({},c.prototype,{template:"map_sidebar_mobile",show:function(){this.$el.show()},hide:function(){this.$el.hide()},_render:function(){c.prototype._render.call(this,this.model);this._cacheElems(".js-vertical-map-sidebar-mobile",["header","header-content","back","close-directions","toggle","toggle-icon","toggle-text"]);this._renderSearchHeader();this.views.mapTypeSelect=new e.Views.Maps.MapTypeSelect({appendTo:$(".js-vertical-map"),model:this.model,showLabel:false,small:true});this.bindEvents([[this.$back,"click",this._onBackClick],[this.$toggle,"click",this._onToggleClick],[this.$closedirections,"click",this._onCloseDirectionsClick]])},_renderSearchHeader:function(){if(!this.views.directionsSearch){this.views.directionsSearch=new e.Views.Maps.DirectionsSearch({model:this.model,directionsModel:this.directionsModel,appendTo:this.$headercontent,showTransportType:true,autoInit:true})}if(!this.views.mapSearchbar){this.views.mapSearchbar=new e.Views.Maps.MapSearchbar({appendTo:this.$headercontent,isMobile:true,isIPhone:e.device.isIPhone,model:this.model});this.bindEvents([[this.views.mapSearchbar,"searchbar-focused",this._onSearchbarFocused]])}if(this.model.isDirectionsActive){this.views.mapSearchbar.hide();this.views.directionsSearch.show();this.$closedirections.show()}else{this.views.directionsSearch.hide();this.$closedirections.hide();this.views.mapSearchbar.show()}},_onSearchbarFocused:function(){var f=b.initial;if(this.model.sidebarPosition!==f){this.model.set("sidebarPosition",f)}},_onRequeryComplete:function(){var f=b.max;if(this.model.sidebarPosition!==f){this.model.set("sidebarPosition",f)}},_onSidebarPositionChanged:function(){var h,f=(this.model.answerItemModel!=="Place"||this.model.items.length===1||this.model.selectedItem),g=this.model.sidebarPosition==="normal";if(g){h=lp("mobile expanded map","Expand Map")}else{h=f?lp("mobile expanded map","Show Detail"):lp("mobile expanded map","Show List")}this.$toggletext.text(h);this.$toggleicon.toggleClass("vertical--map__mobile-toggle-icon--map",g);this.$toggleicon.toggleClass("vertical--map__mobile-toggle-icon--list",!g)},_onBackClick:function(f){f.preventDefault();f.stopPropagation();e.pixel.fire("map_ebe");w.history.back()},_onMapExpandedChanged:function(f){if(this.model.selectedItem){this.model.selectedItem.unselect();e.history.clear("iai")}if(!this.views.mapSearchbar){return}if(f){if(this.model.isDirectionsActive){this.views.directionsSearch&&this.views.directionsSearch.show()}else{this.views.mapSearchbar&&this.views.mapSearchbar.show()}}else{if(!this.model.meta.requery){this.views.mapSearchbar.hide()}}},_onToggleClick:function(g){var f=this.model.sidebarPosition==="min"?"normal":"min";this.model.set("sidebarPosition",f);e.pixel.fire("map_est")},_onCloseDirectionsClick:function(){this.model.set("isDirectionsActive",false)},_onDirectionsActiveChange:function(){this._renderSearchHeader()}})}(DDG);!function(e){var c=e.Views.Base;var a="map-sidebar-footer";e.Views.Maps.MapSidebarFooter=function(f){this._ops=f;c.call(this,this._ops);this.footerModel=new e.Models.Footer();this.bindEvents([[this.model,"change:sidebarLayout",this._onSidebarLayoutChanged],[this.model,"change:selectedItem",this._onSelectedItemChanged],[this.model,"change:items",this._onItemsChanged],[this.model,"change:hasExampleSearches",this._onHasExampleSearchesChange],[this.model,"change:hasNoResults",this._onHasNoResultsChange],[this.model,"change:isMoreAtVisible",this._onIsMoreAtVisibleChange],[this.model,"change:hasExternalDirectionsProvider",this._onHasExternalDirectionsProviderChange]])};e.Views.Maps.MapSidebarFooter.prototype=$.extend({},c.prototype,{template:"map_sidebar_footer",_render:function(){this._ops=$.extend({},this._ops,{offsetted:b(this.model)});c.prototype._render.call(this,this._ops);this._createFeedbackPrompt()},_onItemsChanged:function(){this._createFeedbackPrompt()},_onSelectedItemChanged:function(f){this.$el.toggleClass(a+"--offsetted",b(this.model));this._createFeedbackPrompt()},_onSidebarLayoutChanged:function(){this._rerender()},_onHasExampleSearchesChange:function(){this.$el.toggleClass(a+"--offsetted",b(this.model))},_onIsMoreAtVisibleChange:function(){this.$el.toggleClass(a+"--offsetted",b(this.model))},_onHasExternalDirectionsProviderChange:function(){this._rerender()},_onHasNoResultsChange:function(){this.$el.toggleClass(a+"--offsetted",b(this.model));this._createFeedbackPrompt()},_createFeedbackPrompt:function(){if(e.device.isEnglish){var g=this.model.getFeedbackCategory(),h=this.model.getCurrentItemName();var f={category:g,categoryName:h,categoryValue:g,sourceName:this.model.sourceName,promptText:lp("feedback form","Share Feedback"),appendTo:this.$el,showYesNo:false,showOnMap:true,showOnMobile:true,subtitleText:lp("feedback form","Share feedback on your search results."),asButton:false};if(this.views.feedback){this.views.feedback.destroy()}this.views.feedback=new e.Views.Feedback.FeedbackPrompt(f)}}});function b(g){var f=!!(!(g.answerItemModel==="Place"&&g.selectedItem||g.answerItemModel==="Directions"||g.isDirectionsActive)&&(g.hasNoResults||g.hasExampleSearches||g.isMoreAtVisible));if(g.hasExternalDirectionsProvider){f=true}return f}}(DDG);!function(b){var a=b.Views.Base;b.Views.Maps.MapTypeSelect=function(c){this._ops=c||{};a.call(this,this._ops)};b.Views.Maps.MapTypeSelect.prototype=$.extend({},a.prototype,{template:"map_type_select",_render:function(){a.prototype._render.call(this,this._ops);this._cacheElems(".js-map-type-select",["label"]);this.bindEvents([[this.$el,"click",this._onMapTypeClick]])},_onMapTypeClick:function(){var c="map-type-select--satellite";var e="map-type-select--map";if(!this.model.mapType||this.model.mapType===w.mapkit.Map.MapTypes.Standard){this.model.set("mapType",w.mapkit.Map.MapTypes.Hybrid);this.$el.addClass(e);this.$el.removeClass(c);this.$label.html("Map")}else{this.model.set("mapType",w.mapkit.Map.MapTypes.Standard);this.$el.addClass(c);this.$el.removeClass(e);this.$label.html("Satellite")}}})}(DDG);!function(b){var a=b.Views.Base;b.Views.NoMapResults=function(c){this.vertical=c.vertical||"web";this.resultType=c.resultType||l("Results");this.query=c.query||rqd;this.model=c.model;a.call(this,c)};b.Views.NoMapResults.prototype=$.extend({},a.prototype,{template:"no_map_results",destroy:function(){a.prototype.destroy.call(this);this.model.set("hasNoResults",false)},show:function(){this.$el.removeClass("is-hidden");this.model.set("hasNoResults",true)},hide:function(){this.$el.addClass("is-hidden");this.model.set("hasNoResults",false)},updateQuery:function(c){this.query=c;this._rerender()},_render:function(){var e=(!b.deep.bn||b.deep.bn.ivc)?1:0,c="?q="+encodeURIComponent(this.query)+"&ia=web"+(w.kurl?w.kurl:"");a.prototype._render.call(this,{query:b.Utils.Strings.decodeQueryAndStripHTML(this.query),resultType:this.resultType.toLowerCase(),webSearchUrl:c});this._cacheElems(".js-no-map-results",["web-search"]);this._pixelData={r:0,i506:b.deep.is506?1:0,ivc:e,irt:b.history.get("norrc")?1:0,v:this.vertical};b.pixel.fire("nor",this._pixelData);this.bindEvents([[this.$websearch,"click",this._onWebClick]]);this.model.set("hasNoResults",true)},_onWebClick:function(c){b.pixel.fire("norwc",this._pixelData)}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Maps.ExampleSearches=function(c){this.answer=c.answer;a.call(this,c)};b.Views.Maps.ExampleSearches.prototype=$.extend({},a.prototype,{template:"map_example_searches",show:function(){this.$el.show()},hide:function(){this.$el.hide()},destroy:function(){a.prototype.destroy.call(this);this.answer.set("hasExampleSearches",false)},_render:function(){this.categories=[{query:"Restaurants",iconUrl:"restaurants.svg"},{query:"Banks",iconUrl:"banks.svg"},{query:"Hotels",iconUrl:"hotels.svg"},{query:"Parking",iconUrl:"parking.svg"},{query:"Bars",iconUrl:"bars.svg"},{query:"Coffee",iconUrl:"coffee.svg"},{query:"Groceries",iconUrl:"groceries.svg"},{query:"Parks",iconUrl:"parks.svg"}];var c=this.answer.meta.requery?encodeURIComponent(this.answer.meta.requery):this.answer.queryEncoded;this.webSearchUrl="?q="+c+"&ia=web"+(w.kurl?w.kurl:"");a.prototype._render.call(this,$.extend(this.model,{categories:this.categories,webSearchUrl:this.webSearchUrl}));this._cacheElems(".js-example-search",["button"]);this.bindEvents([[this.$button,"click",this._onButtonClick.bind(this)]]);this.answer.set("hasExampleSearches",true)},_onButtonClick:function(f){f.preventDefault();var c=$(f.currentTarget).data("category");b.duckbar.verticalMap.onRequeryAction({query:c,strict_bbox:"1",shouldMapViewportUpdate:false});this.answer.set("isSearchAreaBtnVisible",false)}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Maps.DirectionsButton=function(c){this.answer=c.answer;this.loc=c.loc;this.isAddress=c.isAddress;c.showDirectionsIcon=this.answer.answerItemModel==="Place"||this.answer.answerType==="Places";a.call(this,c);this._updateLinkURL();this.bindEvents([[b.directionSource,"change:selected",this._updateLinkURL]])};b.Views.Maps.DirectionsButton.prototype=$.extend({},a.prototype,{template:"directions_button",changeVerticalPos:function(c){return this.views.directions&&this.views.directions.changeVerticalPos(c)},_render:function(c){a.prototype._render.call(this,c);this._cacheElems(".js-dir-btn",["link","text"]);this.bindEvents([[this.$link,"click",this._onLinkClicked]]);if(!b.device.isAppleDevice){this.views.directions=new b.Views.Dropdowns.DirectionDropdown({appendTo:(this.answer.answerType==="Places"||this.answer.answerItemModel==="Place")?this.$text:this.$el,loc:this.loc,answer:this.answer})}},_updateLinkURL:function(){var c=b.directionSource.getDirectionsURL(this.loc);this.$link.attr("href",c);this.$link.data("wrapped","");this.$link.off("click.wrap");this._wrapLinks()},_onLinkClicked:function(){if(this.answer){b.pixel.fire("iadrc",this.answer.pixelId,b.directionSource.selected.id);this.answer.clickedExternalLink();this.answer.engaged()}}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Maps.DirectionsSearch=function(c){this.directionsModel=c.directionsModel;this.showTransportType=!!c.showTransportType;this.autoInit=!!c.autoInit;a.call(this,c);this.bindEvents([[this.directionsModel,"change:currentTransportType",this._onTransportTypeChange],[this.directionsModel,"change:userLocation",this._onUserLocationChange]])};b.Views.Maps.DirectionsSearch.prototype=$.extend({},a.prototype,{template:"directions_search",show:function(){this.$el.show()},hide:function(){this.$el.hide()},blur:function(){},_render:function(){a.prototype._render.call(this,this.model);this._cacheElems(".js-directions-search",["inputs","drive","walk"]);this.bindEvents([[this.$drive,"click",this._onDriveClick],[this.$walk,"click",this._onWalkClick]]);if(this.model.isMapExpanded){this.bindEvents([[this.$el,"submit",this._onSubmit]])}this.views.mapSearchbarStart=this.views.mapSearchbarStart||new b.Views.Maps.MapSearchbar({appendTo:this.$inputs,model:this.model,directionsModel:this.directionsModel,directionsType:"start",initValue:this.directionsModel.startDisplay?this.directionsModel.startDisplay:""});this.views.mapSearchbarEnd=this.views.mapSearchbarEnd||new b.Views.Maps.MapSearchbar({appendTo:this.$inputs,model:this.model,directionsModel:this.directionsModel,directionsType:"end",initValue:this.directionsModel.endDisplay?this.directionsModel.endDisplay:""});if(!this.directionsModel.start){this.views.mapSearchbarStart.focus()}this.views.mapSearchbarStart.autocomplete.on("requery-submit",function(c){c&&c.event&&c.event.preventDefault();this.directionsModel.addLocation({type:"start",what:c.suggestion.what,where:c.suggestion.where});this.directionsModel.set("startDisplay",c.suggestion.what+" "+c.suggestion.where);if(this.autoInit){this.directionsModel.onDirectionsAction()}b.pixel.fire("dir_chg",b.history.get("iaxm")?"iaxm":"ia")}.bind(this));this.views.mapSearchbarEnd.autocomplete.on("requery-submit",function(c){c&&c.event&&c.event.preventDefault();this.directionsModel.addLocation({type:"end",what:c.suggestion.what,where:c.suggestion.where});this.directionsModel.set("endDisplay",c.suggestion.what+" "+c.suggestion.where);if(this.autoInit){this.directionsModel.onDirectionsAction()}b.pixel.fire("dir_chg",b.history.get("iaxm")?"iaxm":"ia")}.bind(this));if(this.directionsModel.canRoute&&this.model.isMapExpanded){this.directionsModel.onDirectionsAction({noRouting:true})}},_onSubmit:function(f){f.preventDefault();b.pixel.fire("dir_rq");try{var c={};c.start=this.views.mapSearchbarStart.getCurrentValue();c.end=this.views.mapSearchbarEnd.getCurrentValue();this.views.mapSearchbarStart.autocomplete.hide();this.views.mapSearchbarEnd.autocomplete.hide();this.views.mapSearchbarStart.autocomplete.model.clearData();this.views.mapSearchbarEnd.autocomplete.model.clearData();["start","end"].forEach(function(e){if(c[e]!==this.directionsModel[e+"Display"]){this.directionsModel.set(e==="start"?"isStartUpdating":"isEndUpdating",true);this.directionsModel.autocompleteLocation({loc:c[e],type:e,callbackFn:function(){this.set("isStartUpdating",false);this.set(e==="start"?"isStartUpdating":"isEndUpdating",false)}.bind(this.directionsModel)})}}.bind(this))}catch(f){}},_onDriveClick:function(){this.directionsModel.onDirectionsAction({transport:"drive"})},_onWalkClick:function(){this.directionsModel.onDirectionsAction({transport:"walk"})},_onTransportTypeChange:function(c){b.pixel.fire("dir_tpt",c.id);this.$drive.toggleClass("is-selected",c.id==="drive");this.$walk.toggleClass("is-selected",c.id==="walk")},_onUserLocationChange:function(c){if(!this.directionsModel.canRoute&&c.lat&&c.lon){if(this.directionsModel.start&&!this.directionsModel.end){this.directionsModel.addLocation({type:"end",coordinate:{lat:c.lat,lon:c.lon}})}else{if(this.directionsModel.end&&!this.directionsModel.start){this.directionsModel.addLocation({type:"start",coordinate:{lat:c.lat,lon:c.lon}})}}if(this.model.isDirectionsActive&&this.directionsModel.canRoute){this.directionsModel.onDirectionsAction()}}}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Maps.DirectionsResults=function(c){this.answer=c.answer;this.routeViewList=[];this.map=c.map;this.bindEvents([[c.model,"change:routeList",this._onRouteListChange],[c.model,"change:isRouting",this._onIsRoutingChange],[this.answer,"change:hasExternalDirectionsProvider",this._onHasExternalDirectionsProviderChange],[this.answer,"change:isDirectionsActive",this._onIsDirectionsActiveChange]]);a.call(this,c)};b.Views.Maps.DirectionsResults.prototype=$.extend({},a.prototype,{template:"directions_results",show:function(){this.$el.show()},hide:function(){this.$el.hide()},_render:function(){a.prototype._render.call(this,this.model);this._cacheElems(".js-directions-results",["initial-message","external-provider"]);this.bindEvents([[this.$externalprovider,"click",this._onExternalProviderClick]]);this.views.skeletonLoader=this.views.skeletonLoader||new b.Views.Maps.DirectionsSkeletonLoader({model:this.model,prependTo:this.$el});if(this.model.routeList&&this.model.routeList.length>0){this._showRoutes()}else{if(this.model.canRoute){this.model.route()}}},_updateAnnotations:function(){if(this.map){this.map.clearMap();if(this.model.coordStart){this.startAnnotation=this.map.addImageAnnotation(this.model.coordStart.latitude,this.model.coordStart.longitude,"/assets/maps/directions-start.svg")}if(this.model.coordEnd){this.map.addImageAnnotation(this.model.coordEnd.latitude,this.model.coordEnd.longitude,"/assets/maps/directions-end.svg");this.map.addImageAnnotation(this.model.coordEnd.latitude,this.model.coordEnd.longitude,"/assets/maps/marker-light-default-active.svg")}}},_showRoutes:function(){this._updateAnnotations();if(this.model.routeList.length>0){if(this.views.noResults){this.views.noResults.hide()}this.$initialmessage.hide();this.model.routeList[0].isSelected=true;this.model.routeList.reverse();this.routeViewList=this.model.routeList.map(function(c,e){return new b.Views.Maps.DirectionsRoute({model:c,directionsModel:this.model,answer:this.answer,map:this.map.views.map,prependTo:this.$el})}.bind(this));this._updateExternalMapProvider()}else{if(!this.model.canRoute){this.$initialmessage.show()}else{this.$initialmessage.hide();this.views.noResults=this.views.noResults||new b.Views.Maps.NoDirectionsResults({prependTo:this.$el});this.views.noResults.show()}}},_updateExternalMapProvider:function(){if(!this.model.externalMapProvider){return}this.$externalprovider.removeClass("is-hidden");var e,c=this.model.end.where||this.model.endDisplay||this.model.end.what;if(this.model.startDisplay===lp("directions","Your Location")){e=b.getProperty(this.model,"start.coordinate.lat")+","+b.getProperty(this.model,"start.coordinate.lon")}else{e=this.model.start.where||this.model.startDisplay||this.model.start.what}if(this.model.externalMapProvider==="apple"){this.$externalprovider.find("a").attr("href","https://maps.apple.com/?saddr="+e+"&daddr="+c)}else{if(this.model.externalMapProvider==="google"){this.$externalprovider.find("a").attr("href","geo:?q="+c)}}},_onRouteListChange:function(c){this._showRoutes();if(c&&c.length>0){this._updateExternalMapProvider()}this.answer.set("hasExternalDirectionsProvider",c&&c.length>0&&!!b.device.isMobileDevice)},_onIsRoutingChange:function(c){if(c){this.routeViewList&&this.routeViewList.forEach(function(e){e.destroy()});this.$initialmessage.hide();this.views.skeletonLoader.show();this.views.noResults&&this.views.noResults.hide();this.answer.set("hasExternalDirectionsProvider",false)}else{this.views.skeletonLoader.hide();this.answer.set("hasExternalDirectionsProvider",!!b.device.isMobileDevice)}},_onHasExternalDirectionsProviderChange:function(){this.$externalprovider.toggle(this.hasExternalDirectionsProvider)},_onIsDirectionsActiveChange:function(c){if(this.startAnnotation){this.startAnnotation.visible=!!c}},_onExternalProviderClick:function(){b.pixel.fire("dir_ext",this.model.externalMapProvider)}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Maps.DirectionsRoute=function(c){this.directionsModel=c.directionsModel;this.answer=c.answer;this.map=c.map;a.call(this,c);this.bindEvents([[this.directionsModel,"change:isMapLoaded",this._onIsMapLoadedChange]])};b.Views.Maps.DirectionsRoute.prototype=$.extend({},a.prototype,{template:"directions_route",_render:function(){a.prototype._render.call(this,this.model);this.bindEvents([[".js-directions-route","click",this._onClick]]);this.views.directionsRouteOverview=new b.Views.Maps.DirectionsRouteOverview({model:this.model,directionsModel:this.directionsModel,appendTo:this.$el});this.views.directionsRouteSteps=new b.Views.Maps.DirectionsRouteStepList({model:this.model,directionsModel:this.directionsModel,appendTo:this.$el});if(this.map){this._renderRouteLine()}else{this._isWaitingForMap=true}},_renderRouteLine:function(){this.views.directionsRouteLine=new b.Views.Maps.DirectionsRouteLine({model:this.model,directionsModel:this.directionsModel,answer:this.answer,appendTo:this.$el,map:this.map})},_onIsMapLoadedChange:function(c){if(this._isWaitingForMap){this._renderRouteLine();this._isWaitingForMap=false}},_onClick:function(c){}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Maps.DirectionsRouteInfo=function(c){a.call(this,c);this.bindEvents([[this.model,"change:routeList",this._onRouteListChange],[this.model,"change:isRouting",this._onIsRoutingChange]])};b.Views.Maps.DirectionsRouteInfo.prototype=$.extend({},a.prototype,{template:"directions_route_info",_render:function(){a.prototype._render.call(this,this.model)},_onIsRoutingChange:function(c){this.$el.toggle(!c)},_onRouteListChange:function(){this._rerender()}})}(DDG);!function(e){var c=e.Views.Base,f={selected:"#66abff",nonselected_light:"#ddd",nonselected_dark:"#aaa"},a={selected:8,nonselected:6},b={top:100,right:100,bottom:100,left:100};e.Views.Maps.DirectionsRouteLine=function(g){this.answer=g.answer;this.map=g.map;this.lineThickness=g.lineThickness;this.mapPadding=g.mapPadding;c.call(this,g);this.bindEvents([[this.model,"change:isSelected",this._onSelectedChange],[this.model.directionsModel,"change:isRouting",this._onIsRoutingChange],[this.answer,"change:mapType",this._onMapTypeChange],[this.answer,"change:isDirectionsActive",this._onIsDirectionsActiveChange]])};e.Views.Maps.DirectionsRouteLine.prototype=$.extend({},c.prototype,{template:"directions_route_line",_render:function(){c.prototype._render.call(this,this.model);if(!this.model.polyline){this.model.polyline={};this.model.polyline.points=[];this.model.path.forEach(function(g){g.forEach(function(h){this.model.polyline.points.push(new w.mapkit.Coordinate(h.lat,h.lng))}.bind(this))}.bind(this))}this.polyline=new w.mapkit.PolylineOverlay(this.model.polyline.points);this._style();this.polyline.addEventListener("select",this._onPolylineSelect.bind(this));this.map.addOverlay(this.polyline);this.map.showItems(this.polyline,{padding:new w.mapkit.Padding(this.mapPadding||b)})},destroy:function(){if(DDG.history.get("iaxm")&&this.answer.id==="directions"){return}c.prototype.destroy.call(this);this.map.removeOverlays(this.map.overlays)},_style:function(){this.polyline.selected=!!this.model.isSelected;this.polyline.style.lineWidth=this.lineThickness||(this.model.isSelected?a.selected:a.nonselected);this.polyline.style.strokeColor=this._getColor()},_getColor:function(){if(this.model.isSelected){return f.selected}else{if(this.answer.mapType&&this.answer.mapType==="hybrid"){return f.nonselected_light}}return f.nonselected_dark},_onSelectedChange:function(){this._style()},_onPolylineSelect:function(){this.model.directionsModel.selectRoute(this.model.name)},_onIsRoutingChange:function(){if(DDG.history.get("iaxm")&&this.answer.id==="directions"){return}this.polyline.visible=false},_onMapTypeChange:function(){if(!this.model.isSelected){this.polyline.style.strokeColor=this._getColor()}},_onIsDirectionsActiveChange:function(g){if(this.polyline){this.polyline.visible=!!g}}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Maps.DirectionsRouteOverview=function(c){this.directionsModel=c.directionsModel;a.call(this,c);this.bindEvents([[this.model,"change:isSelected",this._rerender]])};b.Views.Maps.DirectionsRouteOverview.prototype=$.extend({},a.prototype,{template:"directions_route_overview",_render:function(){a.prototype._render.call(this,this.model);this._cacheElems(".js-directions-route-overview",["toggle","toggle-show","toggle-hide"]);this.bindEvents([[this.$el,"click",this._onClick],[this.$toggle,"click",this._onToggle]]);if(this.directionsModel&&this.directionsModel.routeList&&this.directionsModel.routeList.length===1){this._toggleStepsCTA()}},_toggleStepsCTA:function(){this.$toggleshow.toggleClass("is-hidden");this.$togglehide.toggleClass("is-hidden")},_onClick:function(c){this.directionsModel.selectRoute(this.model.name)},_onToggle:function(c){c.stopPropagation();this.directionsModel.toggleRoute(this.model.name);this._toggleStepsCTA();b.pixel.fire("dir_stp")}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Maps.DirectionsRouteStepList=function(c){a.call(this,c);this.bindEvents([[this.model,"change:isExpanded",this._rerender]])};b.Views.Maps.DirectionsRouteStepList.prototype=$.extend({},a.prototype,{template:"directions_route_step_list",_render:function(){a.prototype._render.call(this,this.model);this._cacheElems(".js-directions-route-step-list",["container"]);this.bindEvents([[".js-directions-route-step-list","click",this._onClick]]);this.views.steps=this.model.steps.map(function(c){return new b.Views.Maps.DirectionsRouteStep({model:new b.Models.Maps.DirectionsRouteStep(c),appendTo:this.$container})}.bind(this))},_onClick:function(c){}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Maps.DirectionsRouteStep=function(c){a.call(this,c);this.bindEvents([[this.model,"change:route",this._rerender]])};b.Views.Maps.DirectionsRouteStep.prototype=$.extend({},a.prototype,{template:"directions_route_step",_render:function(){a.prototype._render.call(this,this.model);this.bindEvents([[".js-directions-route-step","click",this._onClick]])},_onClick:function(c){}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Maps.NoDirectionsResults=function(c){a.call(this,c)};b.Views.Maps.NoDirectionsResults.prototype=$.extend({},a.prototype,{template:"no_directions_results",show:function(){this.$el.removeClass("is-hidden")},hide:function(){this.$el.addClass("is-hidden")},_render:function(){var c="?q="+w.rq+"&ia=web"+(w.kurl?w.kurl:"");a.prototype._render.call(this,{webSearchUrl:c})}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Maps.DirectionsSkeletonLoader=function(c){c.model.loadItems=[{},{},{}];a.call(this,c)};b.Views.Maps.DirectionsSkeletonLoader.prototype=$.extend({},a.prototype,{template:"directions_skeleton_loader",show:function(){this.$el.removeClass("is-hidden")},hide:function(){this.$el.addClass("is-hidden")},_render:function(){a.prototype._render.call(this,this.model)}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Places.PlacesSingle=function(c){this.answer=c.model;this.model=this.answer.primaryPlace;a.call(this,{model:this.model,appendTo:c.appendTo});this.bindEvents([[b.settings,"change:kam",this._onDirectionSourceUpdated]])};b.Views.Places.PlacesSingle.prototype=$.extend({},a.prototype,{template:"places_single",_onDirectionSourceUpdated:function(){var c=b.directionSource.getMapURL(this.model);this.model.set("mapURL",c);this.model.set("directionsTitle",this.model.getDirectionsTitle());this._rerender(this.model)},_render:function(){a.prototype._render.call(this,this.model);var c={model:this.model,answer:this.answer,appendTo:this.$el};this.views.header=new b.Views.Places.PlaceHeader(c);this.views.detail=new b.Views.Places.PlaceDetail(c)}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Places.PlacesSingleMap=function(c){this._ops=c||{};this.answer=c.answer;this.model=c.model;if(this.model.sourceId==="applemaps"&&this.model.embedLoading==="START"){this._ops.showPlaceholder=true}a.call(this,this._ops);this.bindEvents([[this.model,"change:embedLoading",this._onEmbedLoadingChange]])};b.Views.Places.PlacesSingleMap.prototype=$.extend({},a.prototype,{template:"places_single_map",show:function(){this.$el.show()},hide:function(){this.$el.hide()},_render:function(){a.prototype._render.call(this,$.extend({},this.model,this._ops));var c={model:this.model,answer:this.answer,appendTo:this.$el};if(this.model.thumbnails||this.model.image){this.views.header=new b.Views.ModuleImageHeader(c)}this.views.detail=new b.Views.Places.PlaceDetail(c)},_onEmbedLoadingChange:function(){if(this.model.embedLoading==="DONE"){this._ops.showPlaceholder=false;this._rerender()}}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Places.PlacesMultiple=function(c){c.isMobile=b.device.isMobile;a.call(this,c)};b.Views.Places.PlacesMultiple.prototype=$.extend({},a.prototype,{template:"places_multiple",_render:function(c){a.prototype._render.call(this,c);this._cacheElems(".js-places-multiple",["map","list","expand","top-right","top-left"]);this.bindEvents([[this.$map,"click",this._onMapClick.bind(this)],[this.$expand,"click",this._onMapClick.bind(this)]]);this.model.glMapModel=new b.Models.GLMap({locations:this.model.items,pixelId:this.model.pixelId});this.views.placeListItems=this.model.topPlaces.map(function(e){return new b.Views.Places.PlaceListItem({appendTo:this.$list,model:e,answer:this.model})}.bind(this));setTimeout(function(){this.views.map=new b.Views.Mapkit.StaticMap({markers:this.model.itemsOnMap,appendTo:this.$map,width:this.$map.outerWidth(),height:this.$map.outerHeight(),showCTA:true,answer:this.model});var e=!!this.$el.closest(".js-results-sidebar").length;var g=b.searchExperiments.getExperimentGroup("pulmobexp")==="b";var f=!g&&b.device.isDesktop;if(g){this.views.locationTile=new b.Views.UserLocationTile({appendTo:this.$topleft,answer:this.model,position:"below-left",constrainChildren:true,$originEl:this.$el})}else{if(f){this.views.locationTile=new b.Views.UserLocationTile({appendTo:this.$topright,answer:this.model,position:e?"below-right":"below",constrainChildren:e,$originEl:this.$el})}}}.bind(this),0)},_onMapClick:function(c){c.preventDefault();b.router.navigate("toggle-map",{model:this.model,isMapExpanded:true});this.model.fire("iacg");b.pixel.fire("map_se")},_onExternalLinkClick:function(c){this.model.engaged()}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Places.PlaceHeader=function(c){this._ops=c||{};this.answer=c.answer;a.call(this,this._ops);this.bindEvents([[this.model,"change:image",this._onImageLoaded]])};b.Views.Places.PlaceHeader.prototype=$.extend({},a.prototype,{template:"place_header",_render:function(){a.prototype._render.call(this,$.extend(this._ops||{},this.model));this._cacheElems(".js-place-header",["map"]);this.bindEvents([[this.$el,"click",this._onClick],[this.$map,"click",this._onMapClick.bind(this)]]);setTimeout(function(){this.views.map=new b.Views.Mapkit.StaticMap({markers:[this.model],width:this.$map.outerWidth(),height:this.$map.outerHeight(),url:this.model.directions,appendTo:this.$map,showCTA:true,answer:this.answer})}.bind(this),0)},_onClick:function(c){c.stopPropagation();this.answer.engaged()},_onMapClick:function(c){c.preventDefault();b.router.navigate("toggle-map",{model:this.answer,directionsModel:this.answer.directionsModel,isMapExpanded:true});this.answer.fire("iacg")},_onExternalLinkClick:function(c){this.answer.engaged();this.answer.clickedExternalLink();a.prototype._onExternalLinkClick.call(this,c)},_onImageLoaded:function(){this._ops.isScrapedImage=true;this._rerender()}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Places.PlaceDetail=function(c){this.answer=c.answer;this._ops=c||{};a.call(this,this._ops);this.bindEvents([[this.model,"change:reviews",this._onReviewsUpdate],[this.model,"change:hoursExpanded",this._onHoursExpandedChange],[this.model,"change:embedLoading",this._onEmbedLoadingChange]])};b.Views.Places.PlaceDetail.prototype=$.extend({},a.prototype,{template:"place_detail",_render:function(){this.model.isMapExpanded=this.answer.isMapExpanded;this._ops.showSubtitlePlaceholder=this.model.embedLoading==="START";a.prototype._render.call(this,$.extend({},this.model,this._ops));this._cacheElems(".js-place-detail",["hours","hours-toggle","hours-toggle-icon","phone","title","review-count","website","directions","map","call","tab-nav","tab-content"]);this.bindEvents([[this.$hourstoggle,"click",this._onHoursToggleClick.bind(this)],[this.$phone,"click",this._onPhoneClick.bind(this)],[this.$map,"click",this._onMapClick.bind(this)],[this.$website,"click",this._onWebsiteClick.bind(this)],[this.$call,"click",this._onCallClick.bind(this)],[this.$tabnav,"click",this._onTabNavClick.bind(this)],[this.model,"change:expanded",this._rerender]]);this.bindEvents([[this.$directions,"click",this._onDirectionsClick]]);this.answer.directionsModel=this.answer.directionsModel||(b.duckbar.verticalMap&&b.duckbar.verticalMap.model&&b.duckbar.verticalMap.model.directionsModel)||new b.Models.Maps.Directions();this.views.placeHours=new b.Views.Places.PlaceHours({model:this.model,appendTo:this.$hours});if(this.answer.isMapExpanded){this.$reviewcount.find("a").attr({target:"_blank",rel:"noopener"})}},_rerender:function(){if(this.views.directions){this.views.directions.destroy();delete this.views.directions}a.prototype._rerender.call(this)},_openDirections:function(){this.answer.directionsModel.addLocation({type:"end",what:this.model.name,where:this.model.address});this.answer.directionsModel.set("endDisplay",this.model.name);if(this.answer.directionsModel.userLocation){this.answer.directionsModel.addLocation({type:"start",coordinate:{lat:this.answer.directionsModel.userLocation.lat,lon:this.answer.directionsModel.userLocation.lon}});this.answer.directionsModel.set("startDisplay","Your Location")}if(this.answer.isMapExpanded){this.answer.set("isDirectionsActive",true);this.answer.directionsModel.onDirectionsAction()}else{b.router.navigate("toggle-map",{model:this.answer,directionsModel:this.answer.directionsModel,isMapExpanded:true,isDirections:true})}},_onMapClick:function(c){c.stopPropagation();b.router.navigate("toggle-map",{model:this.answer,isMapExpanded:true,directionsModel:this.answer.directionsModel});b.pixel.fire("map_cta","btn")},_onDirectionsClick:function(){b.pixel.fire("dir_loc");this._openDirections()},_onWebsiteClick:function(){b.pixel.fire("iawbs")},_onCallClick:function(){b.pixel.fire("iatel","btn")},_onTabNavClick:function(c){c.preventDefault();this.activeTabId=$(c.target).data().tabNav;this.$tabnav.each(function(f,g){var e=$(g).data().tabNav;$(g).toggleClass("is-active",e===this.activeTabId)}.bind(this));this.$tabcontent.each(function(f,g){var e=$(g).data().tabContent;$(g).toggleClass("is-hidden",e!==this.activeTabId)}.bind(this));b.pixel.fire("iatab")},_onHoursToggleClick:function(c){c.preventDefault();this.model.toggleHoursExpand();this.answer.engaged();b.pixel.fire("iahrs")},_onHoursExpandedChange:function(){this.$hourstoggleicon.toggleClass("ddgsi-down",!this.model.hoursExpanded);this.$hourstoggleicon.toggleClass("ddgsi-up",this.model.hoursExpanded)},_onPhoneClick:function(c,f){this.answer.engaged();b.pixel.fire("iatel","link")},_onReviewsUpdate:function(){this.model.reviewsURL=b.localAPI.getPlaceReviewsURL(this.model);this._rerender()},_onExternalLinkClick:function(c){this.answer.clickedExternalLink();this.answer.engaged();a.prototype._onExternalLinkClick.call(this,c)},_onEmbedLoadingChange:function(){this._rerender()}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Places.PlaceListItem=function(c){this._ops=c||{};if(c.model.sourceId==="applemaps"&&c.model.addressLines&&c.model.addressLines.length>1){this._ops.addressLine2=this._ops.model.addressLines[1]}a.call(this,this._ops);this.answer=c.answer;this.bindEvents([[this.model,"change:selected",this._onSelectedChanged],[this.model,"change:image",this._onImageLoaded]])};b.Views.Places.PlaceListItem.prototype=$.extend({},a.prototype,{template:"place_list_item",_render:function(){a.prototype._render.call(this,$.extend({},this._ops,this.model));this._cacheElems(".js-place-list-item",["title"]);this.bindEvents([[this.$el,"click",this._onClick],[this.$el,"mouseenter",this._onMouseEnter],[this.$el,"mouseleave",this._onMouseLeave]])},_onClick:function(c){c.stopPropagation();this.answer.engaged();if(!this.model.selected){this.model.select()}if(this.answer.id==="maps_places"){b.router.navigate("toggle-map",{model:this.answer,isMapExpanded:true})}},_onSelectedChanged:function(){if(this.model.selected){b.history.set({iai:this.answer.getQuerystringItemId(this.model)})}else{b.history.clear("iai")}},_onMouseEnter:function(c){this.model.highlight()},_onMouseLeave:function(c){this.model.unhighlight()},_onImageLoaded:function(){this._rerender()}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Places.PlaceHours=function(c){a.call(this,c);this._cacheElems(".js-place-hours",["close"]);this.bindEvents([[this.$close,"click",this._onCloseClick],[this.model,"change:hoursExpanded",this._toggle]])};b.Views.Places.PlaceHours.prototype=$.extend({},a.prototype,{template:"place_hours",_render:function(){a.prototype._render.call(this,this.model)},_toggle:function(){this.$el.toggleClass("is-hidden")},_onCloseClick:function(){this.model.toggleHoursExpand()}})}(DDG);!function(c){var b=c.Views.Base,a={phone:lp("maps_places","Phone"),hours:lp("maps_places","Regular Hours Today"),streetaddress:lp("maps_places","Address")};c.Views.Places.PlaceSnippet=function(e){this.answer=e.answer;this.item=e.answer.items[0]||{};this.infoSelector=e.answer.infoSelector||"";b.call(this,e)};c.Views.Places.PlaceSnippet.prototype=$.extend({},b.prototype,{template:"place_snippet",_render:function(){var e={title:this._getTitle(),name:this.item.name,infoType:this._getInfoTypeLabel(),url:this._getLinkUrl(),action:this.infoSelector==="streetaddress"};b.prototype._render.call(this,e);this._cacheElems(".js-place-snippet",["subtitle-name","trigger"]);this.bindEvents([[this.$subtitlename,"click",this._onSubtitleNameClicked],[this.$trigger,"click",this._onTriggerClicked]]);c.pixel.fire("sn_l",{infoSelector:this.infoSelector})},_getTitle:function(){return this.item.snippetInfoMap[this.infoSelector]},_getInfoTypeLabel:function(){var e=a[this.infoSelector];if(!e){return""}return", "+e},_getLinkUrl:function(){switch(this.infoSelector){case"phone":return"tel:"+this.item.phone;default:return null}},_openExpandedMap:function(){c.router.navigate("toggle-map",{model:this.answer,isMapExpanded:true});this.answer.engaged({snippet:this.infoSelector})},_onTriggerClicked:function(f){f.preventDefault();this._openExpandedMap()},_onSubtitleNameClicked:function(f){f.preventDefault();this._openExpandedMap()}})}(DDG);!function(c){var b=c.Views.Base,a="open-in-app";c.Views.OpenInApp=function(e){b.call(this,e);this.bindEvents([[c.settings,"change:"+c.settings.THEME_KEY,this._setDeepLink]])};c.Views.OpenInApp.prototype=$.extend({},b.prototype,{template:"open_in_app",_render:function(){$(".js-header-logo").addClass("header__logo-wrap--offset");b.prototype._render.call(this,{});this._cacheElems(".js-"+a,["link"]);this._firePixel("render");this._setDeepLink();this.bindEvents([[this.$link,"click",this._onClick]])},destroy:function(){b.prototype.destroy.call(this)},_setDeepLink:function(){this.$link.attr("href",this.model.createAppQueryUrl({campaign:"oia"}))},_onClick:function(){this._firePixel("click")},_firePixel:function(e){var f;switch(e){case"render":f="oiai";break;case"click":f="oiac";break;default:return}c.pixel.fire(f,{va:c.opensearch.variant,atbva:c.opensearch.atbVariant})}})}(DDG);!function(b){var a=b.Models.Base;b.Models.Maps.Autocomplete=function(c){this.answer=c.answer||{};a.call(this,c)};b.Models.Maps.Autocomplete.prototype=$.extend({},a.prototype,{totalRequested:0,lastReceived:0,suggestions:[],currentQuery:"",clearData:function(){this.suggestions=[];this.currentQuery=""},isBangQuery:function(c){return false},getSuggestion:function(c){if(typeof c==="undefined"){return{}}return this.suggestions&&this.suggestions.length>=c?this.suggestions[c]:{}},getSuggestions:function(f){if(!f){this.set("suggestions",[]);return}this.currentQuery=f;var e=this._getOptions(),c=this.totalRequested++;if(w.mapkit){if(!this.mapkitSearch){this.mapkitSearch=new w.mapkit.Search()}this.mapkitSearch.autocomplete(f,function(g,h){if(!g){this._onSuggestionsReceived(h,c)}}.bind(this),e)}else{e.q=f;e.resultTypeFilter="address,poi";e.mkjsVersion="5.60.0";b.mapkit.autocomplete(e,function(g){this._onSuggestionsReceived(g,c)}.bind(this))}},_getOptions:function(){if(this.answer.id==="directions"){var h=this.answer.data&&this.answer.data[0]&&this.answer.data[0].user_location;if(h&&h.lat&&h.lon){h.lat=parseFloat(h.lat);h.lon=parseFloat(h.lon)}}var i=this.answer.geo_bbox||this.answer.approx_geo_bbox||h,e={language:"en"};if(i){if(w.mapkit){var c=new w.mapkit.Coordinate(i.lat,i.lon),f=new w.mapkit.CoordinateSpan(i.lat_delta,i.lon_delta),g=new w.mapkit.CoordinateRegion(c,f);e.region=g;e.coordinate=c}else{e.searchRegion=i.lat+","+i.lon+","+i.lat+","+i.lon}}return e},_onSuggestionsReceived:function(k,f){if(f<this.lastReceived){return}if((this.answer.id==="directions"||this.answer.isDirectionsActive)&&k.query===lp("directions","Your Location")){return}this.lastReceived=f;if((!k||!k.results)||this.answer.isRequerying||!this.currentQuery){this.set("suggestions",[]);return}var c=k.results,e=[];for(var j=0;j<c.length;j++){var h=c[j];h=this._formatSuggestion(h);if(h.where&&h.where.match(new RegExp(lp("vertical_map","Search Near My Location"),"i"))&&!h.what.match(/location|position/ig)){h.isNearby=true;var g=$.extend(true,{},h);g.where=lp("vertical_map","Search Current Map Area");g.type="area";if(!this.answer.isDirectionsActive&&this.answer.id!=="directions"){e.push(g)}}if(!((this.answer.isDirectionsActive||this.answer.id==="directions")&&h.isNearby)){e.push(h)}}this.set("suggestions",e)},_formatSuggestion:function(c){if(!c){return{}}var e=c.displayLines;c.metadata=this._parseMetadata(c._completionUrl);if(e&&e.length>0){c.what=e[0];c.where=(e.length>1)?e[1]:"";if(c.where.toLowerCase()==="search nearby"){c.where=lp("vertical_map","Search Near My Location");c.type="nearby"}}delete c.displayLines;delete c._completionUrl;return c},_parseMetadata:function(e){if(!e){return}var c=e.match(/\&metadata\=/)?e.replace(/^.*\&metadata\=/,""):"";c=decodeURIComponent(c);return c}})}(DDG);!function(b){var a=b.Models.Base,c={drive:{id:"drive",text:"AUTOMOBILE"},walk:{id:"walk",text:"WALKING"}};b.Models.Maps.Directions=function(e){e=e||{};this.start=e.start||null;this.end=e.end||null;this.userLocation=e.userLocation||null;this.startDisplay=e.startDisplay||null;this.endDisplay=e.endDisplay||null;this.isStartUpdating=false;this.isEndUpdating=false;this.routeList=[];this.canRoute=false;this.isRouting=false;this.hasResults=false;this.isMapLoaded=false;if(e.userLocation&&e.userLocation.lat&&e.userLocation.lon){this.addUserLocation({lat:e.userLocation.lat,lon:e.userLocation.lon})}else{if(!this.userLocation&&b.userLocator&&b.userLocator.userLocation&&b.userLocator.userLocation.lat&&b.userLocator.userLocation.lon){this.addUserLocation({lat:b.userLocator.userLocation.lat,lon:b.userLocator.userLocation.lon})}else{this.fetchUserLocation()}}if(b.device.isMobileDevice){this.externalMapProvider=b.device.isIDevice?"apple":"google";this.externalMapProviderDisplay=this.externalMapProvider==="apple"?"Apple Maps":"Maps App"}this._setCurrentTransportType(e.transportType||"drive");a.call(this,e);this.on("change:start",this._onLocationChange);this.on("change:end",this._onLocationChange);this.on("change:isStartUpdating",this._onLocationUpdatingChange);this.on("change:isEndUpdating",this._onLocationUpdatingChange);b.router.add("directions",this._handleDirections.bind(this))};b.Models.Maps.Directions.prototype=$.extend({},a.prototype,{onDirectionsAction:function(e){if(e&&e.start){this.addLocation({type:"start",what:e.start.what,where:e.start.where,coordinate:e.start.coordinate});if(e.start.display){this.set("startDisplay",e.start.display)}}if(e&&e.end){this.addLocation({type:"end",what:e.end.what,where:e.end.where,coordinate:e.end.coordinate});if(e.end.display){this.set("endDisplay",e.end.display)}}if(e&&e.transport&&(e.transport==="drive"||e.transport==="walk")){this._setCurrentTransportType(e.transport)}if(this.start&&this.end){b.router.navigate("directions",e)}},_handleDirections:function(e){b.history.set("iaxm","directions");b.history.get("bbox")&&b.history.clear("bbox");b.history.get("strict_bbox")&&b.history.clear("strict_bbox");b.history.get("iai")&&b.history.clear("iai");if(e&&e.state&&(e.state.start||e.state.end)){["start","end"].map(function(h){if(e.state[h]){b.history.set(h,e.state[h]);var g=b.history.getComposite(h,"what"),f=b.history.getComposite(h,"where");this.addLocation({type:h,what:g&&decodeURIComponentSafe(g),where:f&&decodeURIComponentSafe(f)})}}.bind(this));if(e.state.transport){b.history.set("transport",e.state.transport);this._setCurrentTransportType(e.state.transport)}}else{if(e&&e.state){b.history.clear("start");b.history.clear("end");b.history.clear("transport");this.set("start",null);this.set("routeList",[])}else{this.start&&this.start.what&&b.history.setComposite("start","what",encodeURIComponent(this.start.what));this.start&&this.start.where&&b.history.setComposite("start","where",encodeURIComponent(this.start.where));this.end&&this.end.what&&b.history.setComposite("end","what",encodeURIComponent(this.end.what));this.end&&this.end.where&&b.history.setComposite("end","where",encodeURIComponent(this.end.where));b.history.set("transport",this.currentTransportType.id)}}if((this.start||this.end)&&!(e&&e.noRouting)){this.route()}},addLocation:function(e){var g={};if(e.what){g.what=e.what}if(e.where){g.where=e.where}if(e.coordinate){g.coordinate=e.coordinate}if(g.what||g.where||g.coordinate){var f=new b.Models.Maps.Location(g);this.set(e.type==="start"?"start":"end",f)}},addUserLocation:function(e){if(!e.lat||!e.lon){return}this.set("userLocation",{lat:parseFloat(e.lat),lon:parseFloat(e.lon)})},route:function(e,f){this.directions=this.directions||(w.mapkit&&new w.mapkit.Directions());if(!f&&!this.directions){return}if(e){this._setCurrentTransportType(e)}if(!this.canRoute){return}if(!f&&this.requestID){this.directions.cancel(this.requestID)}this.set("isRouting",true);if(f){var g={wps:'[{"q":"'+this.start.get()+'"},{"q":"'+this.end.get()+'"}]',transport:this.currentTransportType.text,n:"3",lang:"en",mkjsVersion:"5.60.0"};b.mapkit.directions(g,function(h){this._onRouteCompleted(null,h,true)}.bind(this))}else{this.requestID=this.directions.route({origin:this.start.get(),destination:this.end.get(),transportType:this.currentTransportType.text,requestsAlternateRoutes:true},this._onRouteCompleted.bind(this))}},tryToRoute:function(){if(b.mapkit.isInitialized&&this.canRoute){this.onDirectionsAction()}},selectRoute:function(e,f){if(!e){return}if(this.routeList.length===1){return}if(!f){this.collapseAllRoutes()}this.routeList.forEach(function(g){g.set("isSelected",g.name===e)})},toggleRoute:function(e){if(!e){return}this.selectRoute(e,true);this.routeList.forEach(function(f){if(f.name===e){f.set("isExpanded",!f.isExpanded)}else{f.set("isExpanded",false)}})},collapseAllRoutes:function(){this.routeList.forEach(function(e){e.set("isExpanded",false)})},autocompleteLocation:function(g,f){if(!g.loc||!g.type){return}if(!f&&!this.mapkitSearch){this.mapkitSearch=new w.mapkit.Search()}var e={includeAddresses:true,includePointsOfInterest:true,includeQueries:false};if(this.userLocation){if(f){e.coordinate=this.userLocation.lat+","+this.userLocation.lon}else{e.coordinate=new w.mapkit.Coordinate(this.userLocation.lat,this.userLocation.lon)}}if(f){var h={q:g.loc,resultTypeFilter:"address,poi"};b.mapkit.autocomplete(h,function(i){this._processAutocompleteResults(i,g)}.bind(this))}else{this.mapkitSearch.autocomplete(g.loc,function(i,j){if(!i){this._processAutocompleteResults(j,g)}}.bind(this),e)}},_processAutocompleteResults:function(j,g){var f=null;try{var i,h;if(j.results.length===0){i=j.query;f=i;this.addLocation({type:g.type,what:i})}else{i=j.results[0].displayLines[0];h=j.results[0].displayLines[1];this.addLocation({type:g.type,what:i,where:h});f=i+(h?" "+h:"")}this.set(g.type+"Display",f)}catch(k){}if(g.callbackFn&&$.isFunction(g.callbackFn)){g.callbackFn(f)}},fetchUserLocation:function(e){if(this.userLocation&&$.isFunction(e)){e(this.userLocation)}else{$.ajax({url:"https://duckduckgo.com/local.js?q=tmp",dataType:"jsonp",success:function(f){if(f&&f.geoip_lat&&f.geoip_lon){this.addUserLocation({lat:f.geoip_lat,lon:f.geoip_lon});$.isFunction(e)&&e({lat:f.geoip_lat,lon:f.geoip_lon})}$.isFunction(e)&&e()}.bind(this),error:function(){$.isFunction(e)&&e()}})}},_setStartEndCoords:function(h,e){if(e){var g=h.origin&&h.origin.center,j=h.destination&&h.destination.center;if(!g||!j){return}this.set("coordStart",{latitude:g.lat,longitude:g.lng});this.set("coordEnd",{latitude:j.lat,longitude:j.lng})}else{if(h.routes&&h.routes.length>0){var i=h.routes[0].steps[1],f=h.routes[0].steps[h.routes[0].steps.length-2];if(!i||!f){return}this.set("coordStart",i.path[0]);this.set("coordEnd",f.path[f.path.length-1])}else{this.set("coordStart",null);this.set("coordEnd",null)}}},_setCurrentTransportType:function(e){if(!e||!(e in c)){return}this.set("currentTransportType",c[e])},_canRoute:function(){return this.start&&(typeof this.start==="object")&&this.end&&(typeof this.end==="object")&&!this.isStartUpdating&&!this.isEndUpdating},_onRouteCompleted:function(g,j,i){this.set("isRouting",false);this._setStartEndCoords(j,i);if(!j||!j.routes||j.routes.length===0){this.set("hasResults",false);this.set("routeList",[]);return}this.hasResults=true;this.numberOfRoutes=j.routes.length;this.routeList=[];var e=0,f;var h=j.routes.map(function(m,n){if(i){m.steps=[];m.path=[];m.stepIndexes.forEach(function(o){m.steps.push(j.steps[o]);m.path.push(j.stepPaths[o])})}m.index=n;var k=new b.Models.Maps.DirectionsRoute({route:m,directionsModel:this});if(f>m.expectedTravelTime){e=n;f=m.expectedTravelTime}if(this.numberOfRoutes===1){k.set("isExpanded",true)}return k}.bind(this));h[e].set("isFastestRoute",true);this.set("fastestRoute",h[e]);this.fastestRoute.set("isSelected",true);this.set("routeList",h)},_onLocationChange:function(){this.set("canRoute",this._canRoute())},_onLocationUpdatingChange:function(){this.set("canRoute",this._canRoute());this.tryToRoute()}})}(DDG);!function(b){var a=b.Models.Base;b.Models.Maps.DirectionsRoute=function(f){this.directionsModel=f.directionsModel;if(!f.route){return}f.route.steps=this._processSteps(f.route.steps);var e=f.route.expectedTravelTime||f.route.durationSeconds||0,c=f.route.distance||f.route.distanceMeters||0;a.call(this,{index:f.route.index,name:f.route.name,expectedTravelTime:e,expectedTravelTimeFormatted:this._convertMinutes(e),distance:c,distanceFormatted:b.geo.formatDistance(c,b.geo.getRoadDistanceUOM()),steps:f.route.steps,path:f.route.path,polyline:f.route.polyline})};b.Models.Maps.DirectionsRoute.prototype=$.extend({},a.prototype,{_convertMinutes:function(g){var f=Math.floor(g/60);var c=Math.floor(f/60);var e=f%60;return c+" h "+e+" min"},_processSteps:function(f){var i=[],h=b.geo.getRoadDistanceUOM();i=f.map(function(k){var m=k._imageUrl||(k.maneuver&&k.maneuver.arrowUrl);if(!k._imageUrl){m="//cdn2.apple-mapkit.com"+m}if(m){k.imageUrl=m.replace("{{scale}}","1");k.imageUrl=k.imageUrl.replace(/\{\{.*\}\}/,"");if(b.settings.isDarkTheme()){k.imageUrl=k.imageUrl.replace("arrowFill=000000","arrowFill=cccccc")}}if(k.distance){k.stepHeader=b.geo.formatDistance(k.distance,h)}return k});var j=this.directionsModel.start,e=this.directionsModel.end;var g={stepHeader:j.what||this.directionsModel.startDisplay||j.where,instructions:(j.what&&j.where)?j.where:null,imageUrl:"/assets/maps/directions-marker-black.svg"};var c={stepHeader:e.what||this.directionsModel.endDisplay||e.where,instructions:(e.what&&e.where)?e.where:null,imageUrl:"/assets/maps/directions-marker-red.svg"};i.shift();i.unshift(g);i.push(c);return i}})}(DDG);!function(b){var a=b.Models.Base;b.Models.Maps.DirectionsRouteStep=function(c){a.call(this,c)};b.Models.Maps.DirectionsRouteStep.prototype=$.extend({},a.prototype,{})}(DDG);!function(b){var a=b.Models.Base;b.Models.Maps.Location=function(c){this.what=c.what||null;this.where=c.where||null;this.coordinate=c.coordinate||null;this._setMapkitCoordinate();a.call(this,c)};b.Models.Maps.Location.prototype=$.extend({},a.prototype,{get:function(){if(this.what||this.where){return this.getAsText()}else{if(this.mkCoordinate){return this.mkCoordinate}else{if(this.coordinate){this._setMapkitCoordinate();return this.mkCoordinate||(this.coordinate.lat+","+this.coordinate.lon)}}}},getAsText:function(){var c="";if(this.what){c+=this.what}if(this.where){c=this.what?c+" "+this.where:c+this.where}if(!this.what&&!this.where){c="Your Location"}return c},_setMapkitCoordinate:function(){if(w.mapkit&&this.coordinate&&this.coordinate.lat&&this.coordinate.lon){this.mkCoordinate=new w.mapkit.Coordinate(parseFloat(this.coordinate.lat),parseFloat(this.coordinate.lon))}}})}(DDG);!function(b){var a=b.Models.Base,c={wiki_maps_trigger:[{addTo:"maps"}],imdb_id:[{dataTypeOverride:"imdb_title_id",matching:/^tt/,addTo:"profiles"},{dataTypeOverride:"imdb_name_id",matching:/^nm/,addTo:"profiles"}],rotten_tomatoes:[{matching:/^(tv|m)/,addTo:"profiles"}],twitter_profile:[{addTo:"profiles"}],instagram_profile:[{addTo:"profiles"}],youtube_channel:[{addTo:"profiles"}],facebook_profile:[{addTo:"profiles"}],spotify_artist_id:[{addTo:"profiles"}],soundcloud_id:[{addTo:"profiles"}]};b.Models.Modules.AboutInfoBox=function(e){this._defaultVisibleRows=e.minimizeHeight?0:3;this.maps=[];this.profiles=[];a.call(this,this.transform(e))};b.Models.Modules.AboutInfoBox.prototype=$.extend({},a.prototype,{toggleExpand:function(){if(this.canExpand()){for(var e=0;e<this.items.length;e++){this.items[e].visible=!this.expanded?true:e<this._defaultVisibleRows}this.set("expanded",!this.expanded)}},canExpand:function(){return this.items.length>this._defaultVisibleRows},transform:function(g){var e;if(g.Infobox){e=g.Infobox.content;e.forEach(function(j){if(!j||!j.value){return}var h=c[j.data_type];if(!h){return}h.forEach(function(i){if(!i.matching||j.value.match(i.matching)){if(i.dataTypeOverride){j.data_type=i.dataTypeOverride}this[i.addTo].push(j)}}.bind(this))}.bind(this));e=e.filter(function(h){if(h&&h.value&&h.data_type){var j=typeof h.value;if((j==="string"&&h.value.charAt(0)==="[")||h.label==="Website"){return false}if(["string","object"].indexOf(j)!==-1&&["string","template"].indexOf(h.data_type)!==-1){return true}}return false})}if(e){g.hasItems=true;for(var f=0;f<e.length&&(f<this._defaultVisibleRows);f++){e[f].visible=true}g.items=e}return g}})}(DDG);!function(b){var a=b.Models.Base;b.Models.Modules.AboutHeader=function(c){if(c.location){this.mapLocation=new b.Models.AnswerItems.MapLocation(c.location)}a.call(this,c);this.staticMapTitle=lp("maps_places","Open Expanded Map");this.loadMap()};b.Models.Modules.AboutHeader.prototype=$.extend({},a.prototype,{loadMap:function(){if(!this.mapURL){return}this.mapURL=this.mapURL.replace("&cb=ddg_spice_maps_maps","");$.ajax({url:this.mapURL,dataType:"json",success:this._onMapLoaded.bind(this),error:this._onMapError.bind(this)})},_onMapLoaded:function(c){this.mapResponse=DDG.localAPI.getMapsResponse(c);if(this.mapResponse.results&&this.mapResponse.results.length){var e=new b.Models.AnswerItems.MapLocation(this.mapResponse.results[0]);this.set("mapLocation",e)}else{this.set("mapFailed",true)}},_onMapError:function(){this.set("mapFailed",true)}})}(DDG);!function(e){var c=e.Models.Base,b="/assets/icons/thirdparty/{{icon}}.svg",a=["film","television"],f={official_site:{url:"{{val}}",icon:"website",name:"Website",sort:1},wikipedia:{url:"{{val}}",icon:"wikipedia",name:"Wikipedia",sort:2},twitter_profile:{url:"https://twitter.com/{{val}}",icon:"twitter",name:"Twitter",sort:3},instagram_profile:{url:"https://instagram.com/{{val}}",icon:"instagram",name:"Instagram",sort:4},facebook_profile:{url:"https://facebook.com/{{val}}",icon:"facebook",name:"Facebook",sort:5},spotify_artist_id:{url:"https://open.spotify.com/artist/{{val}}",icon:"spotify",name:"Spotify",sort:6},imdb_title_id:{url:"https://www.imdb.com/title/{{val}}",icon:"imdb",name:"IMDb",sort:7},imdb_name_id:{url:"https://www.imdb.com/name/{{val}}",icon:"imdb",name:"IMDb",sort:8},rotten_tomatoes:{url:"https://rottentomatoes.com/{{val}}",icon:"rt",name:"Rotten Tomatoes",sort:9},youtube_channel:{url:"https://youtube.com/channel/{{val}}",icon:"youtube",name:"YouTube",sort:10},soundcloud_id:{url:"https://soundcloud.com/{{val}}",icon:"soundcloud",name:"SoundCloud",sort:11},itunes:{url:"{{val}}",icon:"apple",name:"iTunes",sort:12},amazon:{url:"{{val}}",icon:"amazon",name:"Amazon",sort:13}};e.Models.Modules.AboutProfiles=function(g){c.call(this,g);this.links=this._createLinks(this.data);if(this._isStreamable()){this._tryAddingITunes();this._tryAddingAmazon()}};e.Models.Modules.AboutProfiles.prototype=$.extend({},c.prototype,{_createLinks:function(h){if(!h||!h.length){return}var g=h.map(this._createLinkFromInfoboxData.bind(this));g=g.sort(function(j,i){return j.sort>i.sort?1:-1});return g},_createLinkFromInfoboxData:function(g){return this._createLink(g.data_type,g.value)},_createLink:function(g,k){var i=f[g],h=i.url.replace("{{val}}",k),j=b.replace("{{icon}}",i.icon);return{url:h,name:i.name,icon:i.icon,iconURL:j,sort:i.sort}},_addLink:function(g,h){this.links.push(this._createLink(g,h));this._emitChange("links",this.links)},_isStreamable:function(){if(a.indexOf(this.entity)>-1){return true}},_tryAddingITunes:function(){$.ajax({url:"/iit/"+encodeURIComponent(this.title),dataType:"json",success:function(g){if(!g||!g.results||!g.results.length||!g.results[0].trackViewUrl){return}this._addLink("itunes",g.results[0].trackViewUrl)}.bind(this)})},_tryAddingAmazon:function(){$.ajax({url:"/m.js?q="+encodeURIComponent(this.title)+"&c=v&o=json&l="+e.settings.get("kl")+"&country="+window.ct,dataType:"json",success:function(g){if(!g||!g.results||!g.results.length){return}this._addLink("amazon",g.results[0].url)}.bind(this)})}})}(DDG);!function(b){var a=b.Models.Answer;b.Models.Answers.Covid19=function(c){c.country=window.ct;c.locale=window.locale;c.region=window.kl;a.call(this,c);this.countries=[];this._setCopy(c)};b.Models.Answers.Covid19.prototype=$.extend({},a.prototype,{getPixelData:function(){return{l:this.locale}},getCasesData:function(){var e=new Date(),c=e.getDate()+"-"+e.getMonth()+"-"+e.getHours();$.getJSON("/covid_data/countries.json?"+c,function(j){try{var f=j.Countries,m,g=0;for(var h=0;h<f.length;h++){m=f[h];if(m[0]==="World"){g=new Number(m[1])}if(this.countryName===m[0]){this.local=this._formatNumber(m[1])}this.countries.push({location:m[0],isCountryMatch:this.countryName===m[0],cases:this._formatNumber(m[1]),deaths:this._formatNumber(m[2]),recovered:this._formatNumber(m[3])})}this.updated=b.Utils.ParseDate.getFormattedDate(j.Updated,window.locale);if(g>0){this.world=g;this.set("loaded",true)}}catch(k){b.pixel.fire("jse","covid19",{e:k})}}.bind(this))},_formatNumber:function(e){var c=parseInt(e,10);if(window.isNaN(c)){return"-"}return c.toLocaleString()},_setCopy:function(e){var i,h,f,c=[],g;if(e.region&&e.region!=="wt-wt"){f=e.region.split("-");i=f[0];h=f[1];if(i==="uk"){i="gb"}if(i==="in"&&e.locale==="hi_IN"){h="hi"}}else{if(e.locale){f=window.locale.split("_");i=f[1].toLowerCase();h=f[0]}}this.confirmed="Confirmed Cases";this.worldLabel="World";this.mapLinkText="Worldwide Coverage Map";this.moreStatsText=(h==="en")?"More statistics":lp("additional","More");this.tab1="Summary";this.tab2="Tips";this.tab3="Symptoms";this.tab4="Statistics";if(h==="fr"){this.title="Maladie à coronavirus (COVID-19)";this.subtitle="Obtenez les dernières informations officielles :";this.confirmed="Nombre de cas confirmés (selon l'OMS)";this.worldLabel="Monde";this.mapLinkText="Carte de la situation mondiale (OMS)";this.tab1="Aperçu";this.tab2="Recommandations";this.tab3="Symptômes";this.tab4="Statistiques";if(i==="fr"){c.push({linkUrl:"https://www.gouvernement.fr/info-coronavirus",linkText:"Gouvernement français",icon:"www.gouvernement.fr.ico"});g=c[0].linkUrl;this.flagIcon="fr";this.countryName="France";this.displayCountryName="France"}else{if(i==="ca"){c.push({linkUrl:"https://www.canada.ca/fr/sante-publique/services/maladies/2019-nouveau-coronavirus.html",linkText:"Gouvernement du Canada",icon:"www.canada.ca.ico"});g=c[0].linkUrl;this.flagIcon="ca";this.countryName="Canada";this.displayCountryName="Canada"}else{if(i==="be"){c.push({linkUrl:"https://www.info-coronavirus.be/fr",linkText:"SPF Santé Publique",icon:"www.info-coronavirus.be.ico"});g=c[0].linkUrl;this.flagIcon="be";this.countryName="Belgium";this.displayCountryName="Belgique"}else{if(i==="ch"){c.push({linkUrl:"https://www.bag.admin.ch/bag/fr/home/krankheiten/ausbrueche-epidemien-pandemien/aktuelle-ausbrueche-epidemien/novel-cov.html",linkText:"Office fédéral de la santé publique OFSP",icon:"www.bag.admin.ch.ico"});g=c[0].linkUrl;this.flagIcon="ch";this.countryName="Switzerland";this.displayCountryName="Suisse"}}}}c.push({linkUrl:"https://www.who.int/fr/emergencies/diseases/novel-coronavirus-2019",linkText:"OMS",icon:"www.who.int.ico"});this.tips={heading:"Recommandations de l'Organisation mondiale de la Santé :",items:["Lavez-vous fréquemment les mains.","Évitez de vous toucher le visage.","Éternuez et toussez dans un mouchoir ou le pli de votre coude.","Évitez les foules et les contacts proches.","Restez chez vous si vous pensez être malade.","Si vous avez de la fièvre, de la toux ou des difficultés à respirer, suivez les recommandations de votre "+this._getLocalAuthorityLink("autorité de santé publique",g)+"."]};this.symptoms={heading:"Info santé COVID-19 :",items:["Symptômes: fièvre, toux, difficultés à respirer.","Complications: pneumonie, syndrome de détresse respiratoire aiguë (SDRA), insuffisance rénale.","Facteurs de risques: âge, existence de pathologies sous-jacentes (p.ex. maladies cardiovasculaires, diabète, maladies pulmonaires, etc.)."]}}else{if(h==="it"){this.title="Coronavirus (COVID-19)";this.subtitle="Ricevi le ultime informazioni ufficiali:";this.confirmed="Casi confermati (fonte: OMS)";this.worldLabel="Tutto il mondo";this.mapLinkText="Mappa Diffusione Globale (OMS)";this.tab1="Riepilogo";this.tab2="Consigli";this.tab3="Sintomi";this.tab4="Statistica";if(i==="it"){this.flagIcon="it";this.countryName="Italy";this.displayCountryName="Italia";c.push({linkUrl:"http://www.salute.gov.it/nuovocoronavirus",linkText:"Ministero della Salute",icon:"www.salute.gov.it.ico"})}else{if(i==="ch"){this.flagIcon="ch";this.countryName="Switzerland";this.displayCountryName="Svizzera";c.push({linkUrl:"https://www.bag.admin.ch/bag/it/home/krankheiten/ausbrueche-epidemien-pandemien/aktuelle-ausbrueche-epidemien/novel-cov.html",linkText:"Ufficio federale della sanità pubblica UFSP",icon:"www.bag.admin.ch.ico"})}}c.push({linkUrl:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019",linkText:"Organizzazione mondiale della sanità",icon:"www.who.int.ico"});this.tips={heading:"I consigli dell'Organizzazione Mondiale della Sanità:",items:["Lava spesso le mani.","Evita di toccarti la faccia.","Starnutisci e tossici in un fazzoletto o all'interno del gomito.","Evita luoghi affollati e contatti ravvicinati.","Se sospetti di essere malato, resta a casa.","Se hai febbre, tosse o difficoltà respiratorie, segui le indicazioni delle "+this._getLocalAuthorityLink("autorità sanitarie",c[0].linkUrl)+"."]};this.symptoms={heading:"COVID-19 informazioni sanitarie:",items:["Sintomi: febbre, tosse, difficoltà respiratorie.","Complicazioni: polmonite, sindrome da distress respiratorio (ARDS), insufficienza renale.","Fattori di Rischio: età, gravi patologie pregresse (ad esempio, cardiopatia, diabete, malattie polmonari, ecc.)."]}}else{if(h==="es"){this.title="Coronavirus (COVID-19)";this.subtitle="Obtenga la última información oficial:";this.confirmed="Casos confirmados (fuente OMS)";this.worldLabel="Mundo";this.mapLinkText="Mapa de incidencia mundial (OMS)";this.tab1="Resumen";this.tab2="Consejos";this.tab3="Síntomas";this.tab4="Estadísticas";if(i==="es"){c.push({linkUrl:"https://www.mscbs.gob.es/profesionales/saludPublica/ccayes/alertasActual/nCov-China/home.htm",linkText:"Gobierno de españa",icon:"www.mscbs.gob.es.ico"},{linkUrl:"http://www.euro.who.int/en/home",linkText:"World Health Organization",icon:"www.who.int.ico"});g=c[0].linkUrl;this.flagIcon="es";this.countryName="Spain";this.displayCountryName="España"}else{if(i==="us"){this.flagIcon="us";this.countryName="United States";this.displayCountryName="Estados Unidos";c.push({linkUrl:"https://www.cdc.gov/coronavirus/2019-ncov",linkText:(b.device.isMobile)?"CDC (Centers for Disease Control...)":"CDC (Centers for Disease Control and Prevention)",icon:"www.cdc.gov.ico"},{linkUrl:"https://www.who.int/es/emergencies/diseases/novel-coronavirus-2019",linkText:"Organización Mundial de la Salud",icon:"www.who.int.ico"});g=c[0].linkUrl}else{if(i==="ar"){this.flagIcon="ar";this.countryName="Argentina";this.displayCountryName="Argentina";c.push({linkUrl:"https://www.argentina.gob.ar/salud/coronavirus-COVID-19",linkText:"Ministerio de Salud",icon:""});g=c[0].linkUrl}else{if(i==="cl"){this.flagIcon="cl";this.countryName="Chile";this.displayCountryName="Chile";c.push({linkUrl:"https://www.minsal.cl/nuevo-coronavirus-2019-ncov/",linkText:"Ministerio de Salud",icon:"www.minsal.cl.ico"});g=c[0].linkUrl}else{if(i==="co"){this.flagIcon="co";this.countryName="Colombia";this.displayCountryName="Colombia";c.push({linkUrl:"https://twitter.com/minsaludcol",linkText:"Minsalud",icon:"www.minsalud.gov.co.ico"});g=c[0].linkUrl}else{if(i==="mx"){this.flagIcon="mx";this.countryName="Mexico";this.displayCountryName="México";c.push({linkUrl:"https://coronavirus.gob.mx/",linkText:"Gobierno de México",icon:"coronavirus.gob.mx.ico"});g=c[0].linkUrl}else{if(i==="pe"){this.flagIcon="pe";this.countryName="Peru";this.displayCountryName="Perú";c.push({linkUrl:"https://www.gob.pe/coronavirus",linkText:"Gobierno del Perú",icon:"www.gob.pe.ico"});g=c[0].linkUrl}}}}}}}if(c.length<2){c.push({linkUrl:"https://www.who.int/es/emergencies/diseases/novel-coronavirus-2019",linkText:"Organización Mundial de la Salud",icon:"www.who.int.ico"})}this.tips={heading:"Consejos de la Organización Mundial de la Salud:",items:["Lávese las manos frecuentemente.","Evite tocarse la cara.","Estornude y tosa en un pañuelo de papel o la cara interna del codo.","Evite aglomeraciones de gente y procure mantener la distancia.","Permanezca en su domicilio si se siente enfermo.","Si tiene fiebre, tos o dificultad para respirar, siga los consejos de "+this._getLocalAuthorityLink("las autoridades sanitarias",g)+"."]};this.symptoms={heading:"COVID-19 información sanitaria:",items:["Síntomas: fiebre, tos, falta de aliento.","Complicaciones: neumonía, Síndrome de disnea aguda (SDRA), fallo renal.","Factores de riesgo: edad, problemas de salud serios (p.e. enfermedades cardiacas, diabetes, enfermendades de pulmón, etc)."]}}else{if(h==="de"){this.title="Coronavirus (COVID-19)";this.subtitle="Die neuesten offiziellen Informationen:";this.confirmed="Bestätigte Fälle (laut WHO)";this.worldLabel="Welt";this.mapLinkText="Karte der Infektionszahlen weltweit (WHO)";this.tab1="Zusammenfassung";this.tab2="Tipps";this.tab3="Symptome";this.tab4="Statistiken";if(i==="de"){c.push({linkUrl:"https://www.bundesgesundheitsministerium.de/coronavirus.html",linkText:"Bundesministerium für Gesundheit",icon:"www.bundesgesundheitsministerium.de.ico"},{linkUrl:"https://www.infektionsschutz.de/coronavirus-sars-cov-2.html",linkText:"Schutz vor Infektionskrankheiten",icon:"www.infektionsschutz.de.ico"});this.flagIcon="de";this.countryName="Germany";this.displayCountryName="Deutschland"}else{if(i==="at"){c.push({linkUrl:"https://www.sozialministerium.at/Informationen-zum-Coronavirus/Neuartiges-Coronavirus-(2019-nCov).html",linkText:"BMSGPK",icon:"www.sozialministerium.at.ico"});this.flagIcon="at";this.countryName="Austria";this.displayCountryName="Österreich"}else{if(i==="ch"){c.push({linkUrl:"https://www.bag.admin.ch/bag/de/home/krankheiten/ausbrueche-epidemien-pandemien/aktuelle-ausbrueche-epidemien/novel-cov.html",linkText:"Bundesamt für Gesundheit BAG",icon:"www.bag.admin.ch.ico"});this.flagIcon="ch";this.countryName="Switzerland";this.displayCountryName="Schweiz"}}}if(c.length<2){c.push({linkUrl:"http://www.euro.who.int/de/health-topics/health-emergencies/coronavirus-covid-19",linkText:"WHO",icon:"www.who.int.ico"})}this.tips={heading:"Hinweise der Weltgesundheitsorganisation",items:["Waschen Sie sich oft die Hände.","Vermeiden Sie es, Ihr Gesicht zu berühren.","Niesen und husten Sie in ein Taschentuch oder Ihren Ellbogen.","Vermeiden Sie Menschenansammlungen und das Stehen in unmittelbarer Nähe zu Anderen.","Bleiben Sie zuhause wenn Sie meinen krank zu sein.","Wenn Sie unter Fieber leiden, oder unter einem Husten, oder Schwierigkeiten haben mit dem Atmen, richten Sie sich nach dem Rat des "+this._getLocalAuthorityLink("Bundesministeriums für Gesundheit",c[0].linkUrl)+"."]};this.symptoms={heading:"COVID-19 Gesundheitsinformationen",items:["Symptome: Fieber, Husten, Kurzatmigkeit.","Komplikationen: Lungenentzündung, akutes Lungenversagen, Nierenversagen.","Risikofaktoren: Alter, schwerwiegende Vorerkrankungen wie Herzerkrankungen, Diabetes, Lungenerkrankungen usw."]}}else{if(h==="nl"&&(i==="be"||i==="nl")){this.title="Coronavirus Ziekte (COVID-19)";this.subtitle="Verkrijg de laatste officiële informatie:";this.confirmed="Bevestigde gevallen (door WHO)";this.worldLabel="Wereld";this.mapLinkText="Wereldwijde dekkingskaart (WHO)";this.tab1="Overzicht";this.tab2="Tips";this.tab3="Symptomen";this.tab4="Statistieken";if(i==="nl"){this.flagIcon="nl";this.countryName="Netherlands";this.displayCountryName="Nederland";c.push({linkUrl:"https://www.rijksoverheid.nl/onderwerpen/coronavirus-covid-19",linkText:"Rijksoverheid",icon:"www.rijksoverheid.nl.ico"})}else{this.flagIcon="be";this.countryName="Belgium";this.displayCountryName="België";c.push({linkUrl:"https://www.info-coronavirus.be/nl",linkText:"FOD Volksgezondheid",icon:"www.info-coronavirus.be.ico"})}c.push({linkUrl:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019",linkText:"World Health Organization",icon:"www.who.int.ico"});this.tips={heading:"Tips van de Wereldgezondheidsorganisatie (WHO):",items:["Was je handen regelmatig.","Vermijd aanraken van je gezicht.","Hoest en nies in een tissue of je elleboog.","Vermijd groepen en houd voldoende afstand tot anderen.","Blijf thuis als je verkoudheidsklachten krijgt.","Volg bij koorts, hoesten, of kortademigheid het advies van "+this._getLocalAuthorityLink("de overheid",c[0].linkUrl)+"."]};this.symptoms={heading:"COVID-19 gezondheidsinformatie:",items:["Symptomen: koorts, hoesten, kortademigheid.","Complicaties: longontsteking, acute respiratory distress syndrome (ARDS), nierfalen.","Risicofactoren: leeftijd, ernstige onderliggende medische aandoeningen (bijv. hartziekte, diabetes, longziekte, enz.)."]}}else{if(h==="bg"){this.title="Коронавирус (COVID-19)";this.subtitle="Вижте най-новата официална информация:";this.flagIcon="bg";this.countryName="Bulgaria";this.displayCountryName="България";this.confirmed="Потвърдени случаи (според СЗО)";this.worldLabel="Свят";this.mapLinkText="Карта на световните случаи (СЗО)";this.tab1="Обобщение";this.tab2="Съвети";this.tab3="Симптоми";c.push({linkUrl:"https://www.mh.government.bg/bg/ ",linkText:"Министерство на здравеопазването",icon:"www.mh.government.bg.ico"},{linkUrl:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019",linkText:"Световна здравна организация",icon:"www.who.int.ico"});this.tips={heading:"Съвети от Световната здравна организация:",items:["Мийте често ръцете си.","Избягвайте да пипате лицето си.","Кихайте и кашляйте в носна кърпичка или в сгъвката на лакътя си.","Избягвайте струпвания на хора.","Стойте вкъщи, ако смятате, че сте болни.","Ако имате треска, кашлица, или затруднено дишане, следвайте упътванията на "+this._getLocalAuthorityLink("Министерството на здравеопазването",c[0].linkUrl)+"."]};this.symptoms={heading:"Здравна информация за COVID-19:",items:["Симптоми: треска, кашлица, затруднено дишане","Усложнения: пневмония, остър респираторен дистрес синдром (ARDS), бъбречна недостатъчност","Рискови фактори: възраст, предхождащи заболявания (напр. сърдечно-съдови заболявания, диабет, белодробни заболявания и т.н.)"]}}else{if(h==="hi"){this.title="कोरोना वायरस (कोविद -19)";this.subtitle="नवीनतम आधिकारिक जानकारी प्राप्त करें:";this.flagIcon="in";this.countryName="India";this.displayCountryName="भारत";this.confirmed="पुष्ट हो चुके मामले (सौजन्य: विश्व स्वास्थ्य संगठन )";this.worldLabel="विश्व";this.mapLinkText="विश्वव्यापी प्रभावित क्षेत्र  (विश्व स्वास्थ्य संगठन)";this.tab1="सारांश";this.tab2="सुझाव";this.tab3="लक्षण";c.push({linkUrl:"https://www.mohfw.gov.in",linkText:"स्वास्थ्य एवं परिवार कल्याण मन्त्रालय, भारत सरकार",icon:"www.mohfw.gov.in.ico"},{linkUrl:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019",linkText:"विश्व स्वास्थ्य संगठन",icon:"www.who.int.ico"});this.tips={heading:"विश्व स्वास्थ्य संगठन से सुझाव:",items:["समय-समय पर अपने हाथों को धोते रहें.","अपने चेहरे पर हाथ लगाने से बचें.","खांसते समय अथवा कफ आने की स्थिति में टिश्यू पेपर अथवा अपनी कोहनी का उपयोग करें.","भीड़भाड़ अथवा दूसरे लोगों के पास खड़े होने से बचें.","यदि आपको लगे कि आप बीमार हो सकते हैं तो घर पर ही रहें.","यदि आपको बुखार, कफ अथवा सांस लेने की शिकायत हो तो "+this._getLocalAuthorityLink("सरकार के स्वास्थ्य प्राधिकारी",c[0].linkUrl)+" की सलाह लें."]};this.symptoms={heading:"कोविद - 19 स्वास्थ्य जानकारी ",items:["लक्षण: बुखार, खांसी, सांस लेने में तकलीफ़","जटिलताएं: निमोनिया, गहन श्वसन संकट सिंड्रोम (ARDS), गुर्दा ख़राब होना।","जोखिम कारक : आयु, स्वास्थ की गंभीर अंतर्निहित परिस्थितियां (उदाहरण : हृदय रोग, मधुमेह, फेफड़े की बीमारी, आदि)।"]}}else{if(h==="ru"){this.title="Коронавирусная инфекция (COVID-19)";this.subtitle="Последняя официальная информация:";this.flagIcon="ru";this.countryName="Russia";this.displayCountryName="Российская Федерация";this.confirmed="Подтвержденные случаи (ВОЗ)";this.worldLabel="Мир";this.mapLinkText="Карта распространения по миру (ВОЗ)";this.tab1="Краткий обзор";this.tab2="Рекомендации";this.tab3="Симптомы";c.push({linkUrl:"https://www.rosminzdrav.ru/ministry/covid19",linkText:"Rosminzdrav.ru",icon:"www.rosminzdrav.ru.ico"},{linkUrl:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019",linkText:"World Health Organization",icon:"www.who.int.ico"});this.tips={heading:"Рекомендации Всемирной организации здравоохранения:",items:["Чаще мойте руки.","Прикасайтесь к лицу и глазам только недавно вымытыми руками.","При кашле и чихании используйте одноразовую салфетку или свой локоть.","Избегайте мест массового скопления людей.","При появлении признаков болезни оставайтесь дома.","В случае лихорадки, кашля или затрудненного дыхания следуйте рекомендациям "+this._getLocalAuthorityLink("министерства здравоохранения вашей страны",c[0].linkUrl)+"."]};this.symptoms={heading:"Информация о COVID-19:",items:["Симптомы: лихорадка, кашель, затрудненное дыхание.","Осложнения: пневмония, острый респираторный дистресс-синдром (ОРДС), почечная недостаточность.","Факторы риска: возраст, серьезные хронические заболевания (болезни сердца, диабет, заболевания легких, и т.д.)."]}}else{if(h==="pl"){this.title="Koronawirus (COVID-19)";this.subtitle="Najnowsze oficjalne wiadomości:";this.flagIcon="pl";this.countryName="Poland";this.displayCountryName="Polska";this.confirmed="Potwierdzone przypadki (za WHO)";this.worldLabel="Świat";this.mapLinkText="Mapa zarażeń na świecie (WHO)";this.tab1="W skrócie";this.tab2="Wskazówki";this.tab3="Objawy";this.tab4="Statystyka";c.push({linkUrl:"https://www.gov.pl/web/zdrowie/wiadomosci",linkText:"Ministerstwo Zdrowia",icon:"www.gov.pl.ico"},{linkUrl:"https://www.gov.pl/web/koronawirus",linkText:"Informacje i zalecenia Koronawirus",icon:"www.gov.pl.ico"});this.tips={heading:"Światowa Organizacja Zdrowia radzi:",items:["Często myj ręce.","Unikaj dotykania twarzy.","Jeśli kichasz lub kaszlesz, zasłaniaj usta chusteczką albo łokciem.","Unikaj tłumów i stania w pobliżu innych osób.","Zostań w domu, jeśli myślisz, że możesz być chory.","Jeśli masz gorączkę, kaszel lub trudności z oddychaniem, postępuj zgodnie z zaleceniami "+this._getLocalAuthorityLink("Ministerstwa Zdrowia",c[0].linkUrl)+"."]};this.symptoms={heading:"Informacja zdrowotna dla COVID-19:",items:["Objawy: gorączka, kaszel, duszności.","Powikłania: zapalenie płuc, zespół ciężkiej ostrej niewydolności oddechowej, niewydolność nerek.","Czynniki ryzyka: wiek, poważne schorzenia towarzyszące (np. choroba serca, cukrzyca, choroba płuc, itp.)."]}}else{if(h==="tl"){this.title="Sakit ng Coronavirus (COVID-19)";this.subtitle="Basahin ang pinakabagong opisyal na impormasyon:";this.flagIcon="ph";this.countryName="Philippines";this.displayCountryName="Pilipinas";this.confirmed="Mga kumpirmadong kaso (mula sa WHO)";this.worldLabel="Mundo";this.mapLinkText="Mapa ng pandemya (WHO)";this.tab1="Buod";this.tab2="Mga payo";this.tab3="Sintomas";c.push({linkUrl:"https://www.doh.gov.ph/2019-nCoV",linkText:"Department of Health (Kagawaran ng Kalusugan)",icon:"www.doh.gov.ph.ico"},{linkUrl:"https://www.who.int/philippines/emergencies/covid-19-in-the-philippines",linkText:"World Health Organization",icon:"www.who.int.ico"});this.tips={heading:"Mga tip mula sa World Health Organization:",items:["Ugaliin ang paghuhugas ng kamay.","Iwasan ang paghawak ng mukha.","Bumahing o umubo sa tissue o sa loob ng siko.","Lumayo sa mga grupo at huwag tumayo ng malapit sa ibang tao.","Manatili sa bahay kapag tingin mo may sakit ka.","Kapag may lagnat, ubo, o kaya nahihirapan huminga, sundan ang payo ng "+this._getLocalAuthorityLink("kagawaran ng kalusugan ng iyong pamahalaan",c[0].linkUrl)+"."]};this.symptoms={heading:"Impormasyon sa COVID-19",items:["Sintomas: lagnat, ubo, at hirap sa paghinga.","Komplikasyon: pulmonya, Acute respiratory distress syndrome (ARDS), kidney failure.","Risk factors: edad, ang mga may seryosong kondisyon (tulad ng sakit sa puso, diabetes, at ang may mga sakit sa baga, etc.)"]}}else{this.title="Coronavirus Disease (COVID-19)";this.subtitle="Get the latest information:";this.confirmed="Confirmed Cases";this.worldLabel="World";if(i==="gb"){this.flagIcon="uk";this.countryName="United Kingdom";this.displayCountryName="United Kingdom";c.push({linkUrl:"https://www.gov.uk/government/topical-events/coronavirus-covid-19-uk-government-response",linkText:"UK government response",icon:"www.gov.uk.ico"},{linkUrl:"https://www.nhs.uk/conditions/coronavirus-covid-19/",linkText:"Information from the NHS",icon:"www.nhs.uk.ico"});g=c[1].linkUrl}else{if(i==="ca"){this.flagIcon="ca";this.countryName="Canada";this.displayCountryName="Canada";c.push({linkUrl:"https://www.canada.ca/coronavirus",linkText:"Government of Canada",icon:"www.canada.ca.ico"});g=c[0].linkUrl}else{if(i==="us"){this.flagIcon="us";this.countryName="United States";this.displayCountryName="United States";c.push({linkUrl:"https://www.cdc.gov/coronavirus/2019-ncov",linkText:(b.device.isMobile)?"CDC (Centers for Disease Control...)":"CDC (Centers for Disease Control and Prevention)",icon:"www.cdc.gov.ico"});g=c[0].linkUrl}else{if(i==="au"){this.flagIcon="au";this.countryName="Australia";this.displayCountryName="Australia";c.push({linkUrl:"https://www.health.gov.au/news/health-alerts/novel-coronavirus-2019-ncov-health-alert",linkText:"Australian Government",icon:"www.health.gov.au.ico"});g=c[0].linkUrl}else{if(i==="ie"){this.flagIcon="ie";this.countryName="Ireland";this.displayCountryName="Republic of Ireland";c.push({linkUrl:"https://www2.hse.ie/conditions/coronavirus/coronavirus.html",linkText:"HSE (Health Service Executive)",icon:"www2.hse.ie.ico"});g=c[0].linkUrl}else{if(i==="nz"){this.flagIcon="nz";this.countryName="New Zealand";this.displayCountryName="New Zealand";c.push({linkUrl:"https://covid19.govt.nz/",linkText:"New Zealand government response",icon:"covid19.govt.nz.ico"});g=c[0].linkUrl}else{if(i==="sg"){this.flagIcon="sg";this.countryName="Singapore";this.displayCountryName="Singapore";c.push({linkUrl:"https://www.moh.gov.sg/covid-19",linkText:"Ministry of Health",icon:"www.moh.gov.sg.ico"});g=c[0].linkUrl}else{if(i==="in"){this.flagIcon="in";this.countryName="India";this.displayCountryName="India";c.push({linkUrl:"https://www.mohfw.gov.in",linkText:"Ministry of Health and Family welfare",icon:"www.mohfw.gov.in.ico"});g=c[0].linkUrl}else{if(i==="ph"){this.flagIcon="ph";this.countryName="Philippines";this.displayCountryName="Philippines";c.push({linkUrl:"https://www.doh.gov.ph/2019-nCoV",linkText:"Department of Health (Kagawaran ng Kalusugan)",icon:"www.doh.gov.ph.ico"});g=c[0].linkUrl}else{if(i==="za"){this.flagIcon="za";this.countryName="South Africa";this.displayCountryName="South Africa";c.push({linkUrl:"https://www.gov.za/Coronavirus",linkText:"South Africa government response",icon:"www.gov.za.ico"});g=c[0].linkUrl}else{c.push({linkUrl:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019",linkText:"WHO (World Health Organization)",icon:"www.who.int.ico"},{linkUrl:"https://www.cdc.gov/coronavirus/2019-ncov",linkText:(b.device.isMobile)?"CDC (Centers for Disease Control...)":"CDC (Centers for Disease Control and Prevention)",icon:"www.cdc.gov.ico"})}}}}}}}}}}if(c.length===1){c.push({linkUrl:"https://www.who.int/emergencies/diseases/novel-coronavirus-2019",linkText:"WHO (World Health Organization)",icon:"www.who.int.ico"})}this.tips={heading:"Tips from the World Health Organization:",items:["Wash your hands frequently.","Avoid touching your face.","Sneeze and cough into a tissue or your elbow.","Avoid crowds and standing near others.","Stay home if you think you might be sick.","If you have a fever, cough, or difficulty breathing, follow advice given by your "+this._getLocalAuthorityLink("government's health authority",g)+"."]};this.symptoms={heading:"COVID-19 health information:",items:["Symptoms: fever, cough, shortness of breath.","Complications: pneumonia, Acute respiratory distress syndrome (ARDS), kidney failure.","Risk Factors: age, serious underlying medical conditions (e.g. heart disease, diabetes, lung disease, etc)."]}}}}}}}}}}}this.lang=h;c.forEach(function(j){if(j.icon){j.iconURL=b.services.getURL("icons")+j.icon}});this.links=c},_getLocalAuthorityLink:function(e,c){if(!c){return e}return'<a class="js-covid19-link module__more-at" href="'+c+'" target="_blank" rel="noopener">'+e+"</a>"}})}(DDG);!function(b){var a=b.Models.Base;b.Models.CustomDateRange=function(c){var e=b.search.getDateRange();this.fromDate=c.fromDate||e[0]||this._yesterday();this.toDate=c.toDate||e[1]||new Date();a.call(this,c)};b.Models.CustomDateRange.prototype=$.extend({},a.prototype,{_yesterday:function(){var c=new Date();c.setHours(0,0,0,0);c.setDate(new Date().getDate()-1);return c}})}(DDG);!function(c){var b=c.Views.Base,a="is-expanded";c.Views.Modules.Base=function(e){this.model=e.model;b.call(this,e);this.bindEvents([[this.model,"change:expanded",this._onExpandedChanged],[this.model,"change:active",this._onActiveChanged]])};c.Views.Modules.Base.prototype=$.extend({},b.prototype,{show:function(){this.$el.show();var e=[{qsParam:"iax",modelState:"expanded"},{qsParam:"iaxm",modelState:"isMapExpanded"}];e.map(function(g){if(this._isModelInQuerystring(g.qsParam)){var f={};f[g.modelState]=true;this.model.set(f)}}.bind(this))},hide:function(){this.$el.hide();if(this.answer){this.answer.set("isMapExpanded",false)}},isValid:function(){return true},showNoResults:function(){},_render:function(){b.prototype._render.call(this,this.model)},_wrapLinks:function(){},_expand:function(){c.keyboard.set("namespace",this.model.pixelId);DDG.addClass(this.model.id,this.$parent,a);if(this.model.nameId==="maps"){c.history.set({iaxm:this.model.nameId})}else{c.history.set({iax:this.model.nameId})}DDG.page.views.atb&&DDG.page.views.atb.hide()},_collapse:function(){c.keyboard.set("namespace");DDG.removeClass(this.model.id,this.$parent,a);if(this.model.nameId==="maps"){c.history.clear("iaxm")}else{c.history.clear("iax")}},_isModelInQuerystring:function(f){var g=c.history.get(f),e=(g===1||g===0)?c.history.get("ia"):g;return !!e&&(this.model.id===e||this.model.parentId===e||this.model.nameId===e)},_onActiveChanged:function(){return this.model.active?this.show():this.hide()},_onExpandedChanged:function(){return this.model.expanded?this._expand():this._collapse()}})}(DDG);!function(c){var b=c.Views.Modules.Base,a=75;c.Views.Modules.About=function(e){b.call(this,e);this.itemModel=this.model.items[0];this._cacheElems(".js-about-module",["content","toggle","more","less"]);this.bindEvents([[this.model,"change:expanded",this._onExpandedChange],[this.$content,"click",this._onClick],[this.$toggle,"click",this._onToggleClick]]);if(this.itemModel.header){this.model.set("headerType",this.itemModel.headerType);var f=e.customHeader?e.customHeader.headerClass:c.Views.About.AboutHeader;this.views.header=new f({before:this.$content,model:this.itemModel.header,answer:this.model,imagesVqd:this.itemModel.images_vqd})}if(this.model.items.length){this.views.item=new c.Views.About.AboutItem({appendTo:this.$content,model:this.itemModel,answer:this.model})}this.calculateSize()};c.Views.Modules.About.prototype=$.extend({},b.prototype,{template:"about_module",calculateSize:function(){this._calculateHeight();this._updateExpandedState()},_render:function(e){b.prototype._render.call(this,e);var f=this.model.meta&&this.model.meta.name;if(c.device.isEnglish&&this.model.id!=="maps_expanded"){this.views.feedback=new c.Views.Feedback.FeedbackPrompt({sourceName:this.model.meta.src_name,category:"wikipedia",categoryName:f,categoryValue:f!=="Wikipedia"?"about":"",promptText:lp("feedback form","Share Feedback"),appendTo:this.$el,showYesNo:false})}},_calculateHeight:function(){var e=this.$content[0];if(e&&e.scrollHeight){var f=e.clientHeight+(this.model.isSideModule?a:0);if(e.scrollHeight>f){this.itemModel.set("isTooHigh",true)}else{if(this.model.isSideModule){this.$el.addClass("has-content-height")}}}},_updateExpandedState:function(){if(!this.itemModel.canModuleExpand){return}if(this.itemModel.canModuleExpand()&&!this.model.expanded){this.$toggle.show();this.$more.show();this.$less.hide();this.$el.removeClass("is-expanded")}else{if(this.itemModel.canModuleExpand()&&this.model.expanded){this.$toggle.show();this.$more.hide();this.$less.show();this.$el.addClass("is-expanded")}else{this.$more.hide();this.$less.hide();this.$el.removeClass("is-expanded")}}},_onExpandedChange:function(){this._updateExpandedState()},_onClick:function(){this.model.engaged&&this.model.engaged();if(c.device.isMobileDevice&&!this.model.isMapExpanded){c.pixel.fire("iasm",this.model.pixelId,this.model.openType);this.model.set("expanded",!this.model.expanded)}},_onToggleClick:function(f){f.stopPropagation();this.model.engaged();c.pixel.fire("iasm",this.model.pixelId,this.model.openType);this.model.set("expanded",!this.model.expanded)}})}(DDG);!function(b){var a=b.Views.Modules.About;b.Views.Modules.AboutMap=function(c){this.model=c.answer;this.itemModel=c.model;c.customHeader={headerClass:b.Views.ModuleImageHeader,answer:this.model};c.model=this.model;a.call(this,c);this.bindEvents([[this.model,"change:isMapExpanded",this._onMapExpandedChange]])};b.Views.Modules.AboutMap.prototype=$.extend({},a.prototype,{_render:function(c){this.itemModel.expand();a.prototype._render.call(this,c)},_onMapExpandedChange:function(c){if(c&&!this.model.expanded){this.model.set("expanded",true)}else{if(!c&&!this.model.expanded){this.model.set("expanded",false)}}}})}(DDG);!function(c){var b=c.Views.Modules.Base,a="half-opacity";c.Views.Modules.Forecast=function(e){b.call(this,e);this._cacheElems(".js-forecast-module-detail",["moreat"]);this._updateIcon();this.bindEvents([[this.model.items,"change:hour",this._updateDetail],[this.model.items,"change:selected",this._updateDetail],[this.model.items,"beforeSend",this._setDetailTimer],[c.settings,"change:kae",this._rerender],[this.model.items,"change:unit",this._rerender],[this.$moreat,"click",this._onExternalLinkClick],[this.model,"change:openType",this._onOpenTypeChanged]])};c.Views.Modules.Forecast.prototype=$.extend({},b.prototype,{template:"forecast_module",_getItems:function(){if(!this.model||!this.model.items){return}this.model.items=this.model.items[0]?this.model.items[0]:this.model.items},_updateDetail:function(){clearTimeout(this._timer);this.$detail.html(c.exec_template("forecast_detail",this.model));this._cacheElems(".js-forecast-module-detail",["unit","moreat","moreatcontainer","hours","hoursmobile","top","bottom","more"]);this.$top.removeClass(a);this.$bottom.removeClass(a);this.bindEvents([[this.$unit,"click",this._onUnitClick],[this.$more,"click",this._onExternalLinkClick]]);this._renderHoursGraph()},_render:function(e){this._getItems();this.model.items.isEnglishDevice=c.device.isEnglish;b.prototype._render.call(this,this.model);this._cacheElems(".js-forecast-module",["item","detail"]);this.bindEvents([[this.$item,"click",this._onDailyCardClick]]);this._updateDetail();if(c.device.isEnglish){this.views.feedback=new c.Views.Feedback.FeedbackPrompt({category:"forecast",promptText:lp("feedback form","Share Feedback"),appendTo:this.$moreatcontainer,showYesNo:false})}},_onDailyCardClick:function(g){var f=$(g.currentTarget);this.$item.each(function(e,h){$(h).removeClass("module__items-item--selected")});f.addClass("module__items-item--selected");g.preventDefault();this.model.engaged();this.model.items.updateSelected(f.data("item-index"))},_setDetailTimer:function(){this._timer=setTimeout(function(){this.$top.addClass(a);this.$bottom.addClass(a)}.bind(this),500)},_onUnitClick:function(f){f.preventDefault();this.model.engaged();this.model.items.updateUnit($(f.currentTarget).data("unit"))},_getHoursGraphOptions:function(){var e={maintainAspectRatio:false,responsive:true,plugins:{filler:{propagate:false}},layout:{padding:{top:4,bottom:4}},legend:{display:false},scales:{xAxes:[{display:false,gridLines:{drawBorder:false},ticks:{display:false}}],yAxes:[{display:false,gridLines:{drawBorder:false},ticks:{display:false}}]},animation:{duration:0},hover:{animationDuration:0},responsiveAnimationDuration:0,elements:{point:{radius:0,hoverRadius:0}},tooltips:{enabled:false}};return e},_getHoursGraphDefaults:function(){var g="#aaa",e=c.settings.isDarkTheme()?"#666":"#f2f2f2",f=2;return{borderColor:g,backgroundColor:e,borderWidth:f,borderCapStyle:"round",borderJoinStyle:"round",fill:"start",label:"",spanGaps:true}},_renderHoursGraph:function(){var g=this._getHoursGraphDefaults(),e=this.model.items.hours,f=this._getHoursGraphOptions();if(!e.data||!e.data.datasets){return}e.data.datasets[0]=$.extend(e.data.datasets[0],g);if(!this.hoursGraph){this._appendHoursGraphCanvas(e,f);return}this.hoursGraph.data=e.data;this.hoursGraph.options=f;this.hoursGraph.update()},_appendHoursGraphCanvas:function(f,g){if(!f){return}var e=document.createElement("canvas").getContext("2d"),i=this.$hours,h;e.canvas.style.width="100%";e.canvas.style.height="100%";i.append(e.canvas);h=i.find("canvas")[0];c.require("chart.js",function(){this.hoursGraph=new window.Chart(h,{type:"line",data:f.data,options:g})})},_updateIcon:function(){if(!this.model.openType||this._changedIcon){return}var e="https://duckduckgo.com/assets/icons/meta/DDG-iOS-weather-icon_";$("#icon60").attr("href",e+"60x60.png");$("#icon76").attr("href",e+"76x76.png");$("#icon120").attr("href",e+"120x120.png");$("#icon152").attr("href",e+"152x152.png");this._changedIcon=true},_onExternalLinkClick:function(f){f.stopPropagation();this.model.engaged();this.model.clickedExternalLink();return b.prototype._onExternalLinkClick.call(this,f)},_onOpenTypeChanged:function(){this._updateIcon()}})}(DDG);!function(b){var a=b.Views.Modules.Base;b.Views.Modules.Maps=function(c){a.call(this,c);this.bindEvents([[this.model,"change:isMapExpanded",this._onMapExpandedChanged]])};b.Views.Modules.Maps.prototype=$.extend({},a.prototype,{template:"maps_module",_render:function(c){a.prototype._render.call(this,c);this._cacheElems(".js-maps-module",["map","detailview","control-topright","control-bottomleft"]);this._renderAddressDetails();this._renderStaticMap();if(b.device.isEnglish){this.views.feedback=new b.Views.Feedback.FeedbackPrompt({category:"maps",promptText:"Is this map helpful?",subtitleText:lp("feedback form","Want to tell us a bit more?"),appendTo:this.$el})}},_renderStaticMap:function(){if(this.views.staticMap){return}this.views.staticMap=new b.Views.Mapkit.StaticMap({markers:[this.model.selectedItem],marker:this.model.selectedItem,width:this.$el.outerWidth(),height:200,appendTo:this.$map,showCTA:true,answer:this.model});this.bindEvents([[this.views.staticMap,"click",this._onStaticMapClicked]])},_renderAddressDetails:function(){if(this.views.detail){return}this.views.detail=new b.Views.Address.AddressDetail({model:this.model.selectedItem,appendTo:this.$detailview,answer:this.model})},_onStaticMapClicked:function(){b.router.navigate("toggle-map",{model:this.model,directionsModel:this.model.directionsModel,isMapExpanded:true});this.model.fire("iacg");this.model.engaged()}})}(DDG);!function(b){var a=b.Views.Modules.Base;b.Views.Modules.Directions=function(c){if(b.history.get("iaxm")){return}this._ops=c;this.model=c.model;this._rawLocations=this.model&&this.model.data&&this.model.data[0];this.directionsModel=b.duckbar&&b.duckbar.verticalMap&&b.duckbar.verticalMap.directionsModel||new b.Models.Maps.Directions({start:this._rawLocations.start,end:this._rawLocations.end,userLocation:this._rawLocations.user_location});if(b.modulesLayout&&b.modulesLayout.modules&&b.modulesLayout.modules.directions){b.modulesLayout.modules.directions.directionsModel=this.directionsModel}if(this._rawLocations&&(this._rawLocations.start||this._rawLocations.end)){this.model.canShowMap=true;b.pixel.fire("dir_map",{start:!!this._rawLocations.start,end:!!this._rawLocations.end})}else{b.pixel.fire("dir_emp")}a.call(this,this._ops);this.bindEvents([[this.model,"change:isMapExpanded",this._onMapExpandedChanged],[this.directionsModel,"change:start",this._onLocationChange],[this.directionsModel,"change:end",this._onLocationChange],[this.directionsModel,"change:routeList",this._onRouteListChange],[this.directionsModel,"change:canRoute",this._onCanRouteChange],[this.directionsModel,"change:isRouting",this._onIsRoutingChange],[b.settings,"change:kae",this._onThemeChange]])};b.Views.Modules.Directions.prototype=$.extend({},a.prototype,{template:"directions_module",_render:function(c){a.prototype._render.call(this,c);this._cacheElems(".js-directions-module",["search","map","cta","details","skeletonloader","privacy-link"]);this.bindEvents([[this.$cta,"click",this._expandMapDirections],[this.$map,"click",this._expandMapDirections],[this.$el,"submit",this._expandMapDirections]]);if(this._rawLocations){this._addLocations(this._rawLocations);if(this._rawLocations.start&&this._rawLocations.end){this._toggleCTA(true);this._tryToRoute()}}this._initSearch();if(!this.model.isMapExpanded){this.$el.addClass("has-feedback-prompt");this.views.feedback=new b.Views.Feedback.FeedbackPrompt({sourceName:this.model.sourceName,category:"directions",categoryName:"Directions",categoryValue:"directions",promptText:lp("feedback form","Share Feedback"),showYesNo:false,appendTo:this.$el,subtitleText:lp("feedback form","Share feedback for this result.")});if(b.device.isDesktop){this.views.feedback&&this.views.feedback.$el.prepend(this.$privacylink);this.$privacylink.removeClass("is-hidden")}}},_tryToRoute:function(){if(this.directionsModel.startDisplay&&this.directionsModel.endDisplay&&this.directionsModel.canRoute){if(!this.model.isMapExpanded){this._route()}}},_addLocations:function(c){if(!c||!c.start&&!c.end){return}["start","end"].forEach(function(f){var e=f==="start"?"end":"start";if(c[f]){this.directionsModel.autocompleteLocation({loc:c[f],type:f},true);if(!c[e]&&c.user_location){this.directionsModel.addLocation({coordinate:{lat:c.user_location.lat,lon:c.user_location.lon},type:e});this.directionsModel.set(e+"Display",lp("directions","Your Location"))}}}.bind(this))},_initSearch:function(){this.views.directionsSearch=new b.Views.Maps.DirectionsSearch({model:this.model,directionsModel:this.directionsModel,appendTo:this.$search})},_route:function(){if(this.model.canShowMap&&this.directionsModel.canRoute){this.directionsModel.route(null,true)}},_expandMapDirections:function(f){f.preventDefault();b.pixel.fire("dir_exp");try{var c={};c.start=this.views.directionsSearch.views.mapSearchbarStart.getCurrentValue();c.end=this.views.directionsSearch.views.mapSearchbarEnd.getCurrentValue();["start","end"].forEach(function(e){if(c[e]!==this.directionsModel[e+"Display"]){this.directionsModel.set(e==="start"?"isStartUpdating":"isEndUpdating",true);this.directionsModel.autocompleteLocation({loc:c[e],type:e,callbackFn:function(){this.set("isStartUpdating",false);this.set(e==="start"?"isStartUpdating":"isEndUpdating",false)}.bind(this.directionsModel)})}}.bind(this))}catch(f){}if(this.directionsModel.start&&this.directionsModel.end){b.router.navigate("toggle-map",{model:this.model,directionsModel:this.directionsModel,isMapExpanded:true,isDirections:true})}},_toggleCTA:function(c){this.$cta.toggleClass("is-disabled",!c)},_toggleIsLoaded:function(c){this.$el.toggleClass("is-loaded",c);this.$cta.toggleClass("is-disabled",!c)},_toggleHasResults:function(c){this.$el.toggleClass("has-results",c);this.$cta.toggleClass("is-disabled",!c)},_updateSnapshot:function(){this.$map.find("img").remove();var e="";if(this._points&&this._points.length>0){e=b.mapkit.getStaticDirectionsURL(this._points,{width:this.$map.outerWidth(),height:this.$map.outerHeight()})}else{var f=this.directionsModel.userLocation||this.directionsModel.coordEnd;e=b.mapkit.getStaticEmptyMapURL({latitude:f.lat||f.latitude,longitude:f.lon||f.longitude,width:this.$map.outerWidth(),height:this.$map.outerHeight()})}var c=document.createElement("img");c.src=e;this.$map.append(c)},_onCanRouteChange:function(c){this._toggleCTA(c)},_onLocationChange:function(){if(b.history.get("iaxm")){return}this._route()},_onIsRoutingChange:function(c){this._toggleCTA(!c);this.$skeletonloader.toggle(c)},_onRouteListChange:function(){if(b.history.get("iaxm")){return}var c=this.directionsModel.routeList.length;if(c===0){b.pixel.fire("dir_no")}this._toggleHasResults(c>0);this.directionsModel.set("canShowMap",true);this.views.directionsRouteInfo=this.views.directionsRouteInfo||new b.Views.Maps.DirectionsRouteInfo({model:this.directionsModel,appendTo:this.$details});this._points=[];if(c>0){this.directionsModel.fastestRoute.path.forEach(function(e){e.forEach(function(f){this._points.push([f.lat,f.lng])}.bind(this))}.bind(this))}this._updateSnapshot()},_onThemeChange:function(){this._updateSnapshot()}})}(DDG);!function(c){var b=c.Views.ClickableItem,a="is-highlighted";c.Views.Modules.CarouselItem=function(e){this.model=e.model;this.answer=e.answer;if(this.model.parentId!=="news"){this.model.link=this.model.url}else{this.model.isNews=1;this.model.link=this.model.id}b.call(this,e);this._cacheElems(".js-carousel-item",["image-wrapper","img-placeholder","title","content"]);this.bindEvents([[this.$el,"mouseenter",this._onMouseEnter],[this.$el,"mouseleave",this._onMouseLeave],[this.model,"change:image",this._onImageFetched],[this.model,"change:highlighted",this._onHighlightedChanged],[c.device,"resize",this.calculateSize]]);this._updateEllipsis()};c.Views.Modules.CarouselItem.prototype=$.extend({},b.prototype,{template:"carousel_module_item",getWidth:function(){if(this._width){return this._width}this._width=this.$el.outerWidth(true);return this._width},calculateSize:function(){this._updateEllipsis();delete this._width},_render:function(e){b.prototype._render.call(this,this.model)},_updateEllipsis:function(){this.$title.ellipsis({id:this.model.id+"-title"});this.$content.ellipsis({id:this.model.id+"-content"})},_onImageFetched:function(){var e=DDG.getImageProxyURL(this.model.image,{height:120});this.$img=$('<div class="module--carousel__image" style="background-image:url('+e+')"></div>');this.$imagewrapper.append(this.$img);this.$imgplaceholder.hide()},_onMouseEnter:function(){this.model.highlight()},_onMouseLeave:function(){this.model.unhighlight()},_onClick:function(i,h){this.model.highlight();if(c.settings.get("k5")!=="2"&&this.answer.id==="videos"){c.duckbar.open("videos");var g=c.duckbar.tabs.videos.model,f=g.itemsById[this.model.id];if(f&&f.pixelated){return}else{if(g.itemsById[this.model.id]){g.itemsById[this.model.id].set("selected",1);g.set("openedFromModule",true)}else{c.pixel.fire("jse","videos")}}return}if(this.model.parentId==="products"&&this.model.bing){this.answer.clickedExternalLink({},i)}b.prototype._onClick.call(this,i,h)},_onHighlightedChanged:function(){this.$el.toggleClass(a,!!this.model.highlighted)}})}(DDG);!function(g){var e=g.Views.Modules.Base,c=3,b=12,f="slider",a="nonSlider";g.Views.Modules.Carousel=function(i){e.call(this,i);this.views={items:[],itemsById:{}};this._cacheElems(".js-carousel-module",["items","more","title","left","right","more-at"]);this.bindEvents([[this.model,"change:items",this._updateItems],[this.$moreat,"click",this._onExternalLinkClick],[this.$items,"scroll",this._onScroll]]);if(g.device.isMobileDevice){this.$items.on("touchstart touchend",this._updateVisibleItems.bind(this,true));this.$items.on("touchend",this._triggerSendVisibility.bind(this,a))}else{if(this.model.gridColumns){g.device.on("scroll",this._triggerSendVisibility.bind(this,a))}}if(this.model.items.length){this._updateItems()}else{if(DDG.deep.isBingV7()&&!this.model.loaded){this.model.on("load",this._onLoadedFromDeep.bind(this))}else{this._onLoadedFromDeep()}}if(this.model.id==="products"&&this.model.meta.sourceName==="Bing"){var h=this.model.isSideModule?".module--carousel-products .module--carousel__main-source":".js-module--products.module--carousel-products";g.page.views.adBadgeCarousel=new DDG.Views.AdBadge({appendTo:h,context:"product-carousel",label:this.model.items.length===1?l("Ad"):l("Ads")})}};g.Views.Modules.Carousel.prototype=$.extend({},e.prototype,{template:"carousel_module",hide:function(){$.noop()},calculateSize:function(){var h=this.$el.width();if(this._width===h){return}this._scrollToPage(this._currentPage,false);this._width=h},_updateItems:function(){if(this._rendered){return}this._rendered=true;this.$title.removeClass("is-hidden");var p=this.model.items,u=DDG.deep.isBingV7()&&this.model.id==="videos",j=this.model.gridColumns;this._showingSlider=!g.device.isMobileDevice&&p.length>c&&!j;var n=this._showingSlider||(this.model.id==="products"&&p.length>c)||p.length>b||(u&&p.length===10);if(this.model.id==="products"&&this.model.meta.hidden){n=false}if(n){this.$more.removeClass("is-hidden");this.bindEvents([[this.$more,"click",this._onMoreClick],[this.$title,"click",this._onMoreClick]])}else{if(p.length===2){this.$el.addClass("has-two-items")}else{if(p.length===1){this.$el.addClass("has-one-item")}}}for(var m=0;m<b;m++){var t=p[m];if(!t){break}var q=new g.Views.Modules.CarouselItem({appendTo:this.$items,model:t,answer:this.model});this.views.items.push(q);this.views.itemsById[t.id]=q}this._width=this.$el.width();var k=g.device.isEnglish&&!g.device.isMobile,s=u&&p.length===1,r=this.model.gridColumns&&!this.model.meta.hidden,h=this.model.id==="products"&&!this.model.bing,o=this.model.id==="products"&&this.model.bing;if(k&&!s&&!r){this.views.feedback=new g.Views.Feedback.FeedbackPrompt({category:this.model.id,promptText:o?lp("feedback form","Are these ads helpful?"):lp("feedback form","Are these links helpful?"),extraData:h?{amazon:1}:null,subtitleText:lp("feedback form","Want to tell us a bit more?"),appendTo:this.$el})}if(this._showingSlider){this._updateVisibleItems(true);this._initSlider()}else{this._updateVisibleItems();this._reportVisibility(a)}this._selectItemFromQueryString()},_initSlider:function(){this._currentPage=0;var h=this.views.items.length;this._lastPage=Math.ceil(h/c)-1;this.$right.removeClass("is-hidden");this.bindEvents([[this.$left,"click",this._onLeftClick],[this.$right,"click",this._onRightClick],[g.device,"resize",this.calculateSize]])},_selectItemFromQueryString:function(){var n=g.history.get("iai"),j=g.history.get("ia");if(this.model.nameId!==j||typeof n==="undefined"){if(this._showingSlider){this._reportVisibility(f)}return}if(this.model.id==="products"&&this.model.bing){return}var m=this.model.itemsById[n];m&&m.highlight();if(!this._showingSlider){return}for(var k=0;k<this.views.items.length;k++){if(this.views.itemsById[n]===this.views.items[k]){var h=Math.floor(k/c);this._scrollToPage(h,false);break}}},_getVisibleItemIndexes:function(j){if(this.model.gridColumns){return this._getVisibleItemIndexesGrid()}var o=this.$items.scrollLeft(),h=o+this._width,q=0,k=[];if(j){o=Math.min(o-this._width,0);h+=this._width}for(var n=0;n<this.views.items.length;n++){var r=this.views.items[n],p=r.getWidth(),m=q+p;if(q>=h){break}if(m>o){k.push(n)}q+=p}return k},_getVisibleItemIndexesGrid:function(){var h=$(window),k=[];for(var j in this.views.items){var i=this.views.items[j].$el,m=i&&i.offset();if(m&&(m.left+i.width())>h.scrollLeft()&&(m.top+i.height())>h.scrollTop()&&m.left<(h.scrollLeft()+h.innerWidth())&&m.top<(h.scrollTop()+h.innerHeight())){k.push(parseInt(j,10))}}return k},_updateVisibleItems:function(h){var i=this._getVisibleItemIndexes(h);i.forEach(function(j){var k=this.views.items[j];k.model.set("visible",true)}.bind(this))},_scrollToPage:function(j,k){if(typeof j==="undefined"){return}k=k||(typeof k==="undefined");var m=this.views.items[0].getWidth(),i=m*j*c;i-=2;if(k){this.$items.animate({scrollLeft:i},this._updateVisibleItems.bind(this,true))}else{this.$items.scrollLeft(i);this._updateVisibleItems(true)}if(j===0){this.$left.addClass("is-hidden")}else{this.$left.removeClass("is-hidden")}if(j===this._lastPage){this.$right.addClass("is-hidden")}else{this.$right.removeClass("is-hidden")}this._currentPage=j;var h=false;if(!k){h=true}if(h){this._reportVisibility(f)}else{this._triggerSendVisibility(f)}},_onMoreClick:function(h){h.preventDefault();this.model.engaged();this.model.fire("iacg");g.duckbar.open(this.model.id)},_onLeftClick:function(){var h=Math.max(0,this._currentPage-1);this._scrollToPage(h);this.model.engaged()},_onRightClick:function(){var h=Math.min(this._lastPage,this._currentPage+1);this._scrollToPage(h);this.model.engaged()},_onExternalLinkClick:function(h){h.stopPropagation();this.model.engaged();this.model.clickedExternalLink();return e.prototype._onExternalLinkClick.call(this,h)},_hasScrolled:false,_onScroll:function(){if(!this._hasScrolled){this.model.engaged();this._hasScrolled=true}},_onLoadedFromDeep:function(){if(this.model.items.length){this._updateItems()}else{this.model.load()}},_getVisibleSliderItemIndexes:function(){var k=this._currentPage*c,j=[];if(k+c>this.views.items.length&&this.views.items[k-1]){k-=1}for(var h=k;h<k+c;h++){if(this.views.items[h]){j.push(h)}}return j},_reportVisibility:function(i){if(!this.model.hasCarouselFeedbackReporting){return}var h=this._getVisibleAndHiddenItems(i);return g.pageLayout.reportProductAdVisibility(h.position,h.visible,h.hidden)},_triggerSendVisibility:function(h){if(!this.model.hasCarouselFeedbackReporting){return}var i=this._reportVisibility(h);g.pageLayout.adReporting.sendProductAdVisibility(i)},_getVisibleAndHiddenItems:function(i){var j;if(i===f){j=this._getVisibleSliderItemIndexes()}else{if(i===a){j=this._getVisibleItemIndexes()}}if(!j){return}var h={hidden:[],visible:[],position:this.model.isSideModule?"sidebar":"mainline"};this.views.items.forEach(function(m,k){if(j.indexOf(k)===-1){h.hidden.push(m)}else{h.visible.push(m)}});return h}})}(DDG);!function(c){var b=c.Views.Modules.Base,e=c.device.isMobile?44:57,f=c.device.isMobile?2:20,a={regular:{desktop:{height:280,rows:2},desktopSmall:{height:280,rows:2},mobile:{height:142,rows:1}},fallback:{desktop:{rows:2},desktopSmall:{rows:2},mobile:{rows:2}}};c.Views.Modules.Images=function(g){b.call(this,g);this._cacheElems(".js-images",["show-more","thumbnails"]);this._updateContainerDimensions();this._numRows=this._getSettings().rows;this.bindEvents([[this.model,"change:items",this._onItemsChanged],[this.model,"change:failed",this._onItemsChanged],[c.device,"resize",this._onResize],[this.$showmore,"click",this._onMoreClick]]);if(this.model.items.length){this._onItemsChanged()}else{if(DDG.deep.isBingV7()&&!this.model.loaded){this.model.on("load",this._onLoadedFromDeep.bind(this))}else{this._onLoadedFromDeep()}}};c.Views.Modules.Images.prototype=$.extend({},b.prototype,{template:"images_module",calculateSize:function(g){if(this.$parent.width()-f!==this._containerWidth){this._updateContainerDimensions();this.$thumbnails.empty();this.thumbnailsLoaded=false;this._onItemsChanged()}},_render:function(){b.prototype._render.call(this,this.model)},_openImagesIA:function(){this.model.engaged();c.duckbar.open("images",{})},_updateContainerDimensions:function(){this.$thumbnails.css("height",this._getSettings().height);this._containerHeight=this.$el.height()-e;this._containerWidth=this.$el.width()-f},_onItemsChanged:function(){if(!this.model.items.length){this.$parent.css({height:"0px",overflow:"hidden"});return}var h=0;if(!this.thumbnailsLoaded){this.thumbnailsLoaded=true;var k=[];for(var g=0;g<this._numRows;g++){var j=this.model.getModuleRow(k.length,this._containerWidth,this._containerHeight/this._numRows);if(j&&j.length){h++}k=k.concat(j)}if(k.length){this.$el.css({visibility:"visible"})}else{this.$parent.css({height:"0px",overflow:"hidden"});return}if(h<this._numRows){this.$thumbnails.css("height",(this._containerHeight/this._numRows)*h)}this.$thumbnails.append(c.$exec_template("images_module_thumbnails",k));this.$(".js-images-link").on("click",this._onItemClick.bind(this))}},_onItemClick:function(h){h.preventDefault();h.stopPropagation();var i=$(h.currentTarget).data("id"),g=this.model.itemsById[i];if(c.device.isMobile&&!this.model.isFallback&&!g.pixelated){this.model.set("openedFromModule",true)}this._openImagesIA();if(g.pixelated){return}g&&g.select()},_onMoreClick:function(g){g.preventDefault();this.model.fire("iacg");this._openImagesIA()},_cachedOuterWidth:window.outerWidth,_onResize:function(){if(this._cachedOuterWidth!==window.outerWidth){this.calculateSize();this._cachedOuterWidth=window.outerWidth}},_getSettings:function(){var g=c.device.isMobile?"mobile":"desktop";if(this.$parent.hasClass("module--placeholder")){return{height:this.$parent.height()-e,rows:(this.$parent.height()>200)?a.fallback[g].rows:1}}if(this.model.items.length&&this.model.items.length<10&&!c.device.isMobile){g+="Small"}return a.regular[g]},_onLoadedFromDeep:function(){if(this.model.items.length){this._onItemsChanged()}else{this.model.load()}},hide:function(){$.noop()}})}(DDG);!function(f){var e=f.Views.Modules,b=e.Base,a=190,c={forecast:{desktop:434},maps_maps:{desktop:285},maps_places:{mobile:363},news:{desktop:292,mobile:262},videos:{desktop:292,mobile:248},images:{desktop:335,mobile:191},recipes:{desktop:292,mobile:248},products:{desktop:292,mobile:248},maps_places_snippet:{desktop:96}};e.Placeholder=function(g){this.signalWait=g.signalWait;this.timeAdded=new Date().getTime();b.call(this,g);this.show();this.updateHeight()};e.Placeholder.prototype=$.extend({},b.prototype,{template:"module_placeholder",isModule:true,updateHeight:function(){var g=a;if(f.device.isMobile&&c[this.signalWait]&&c[this.signalWait].mobile){g=c[this.signalWait].mobile}else{if(c[this.signalWait]){g=c[this.signalWait].desktop}}this.$el.height(g)},showImages:function(g){g.set("isFallback",true);this.views.images=new f.Views.Modules.Images({model:g,appendTo:this.$el});if(DDG.deep.isBingV7()){g.emit("load")}}})}(DDG);!function(b){var a=b.Views.Modules.Base;b.Views.Modules.Places=function(c){c.model=c.answer?c.answer:c.model;a.call(this,c);this.bindEvents([[this.$el,"click",this._onClick],[this.$map,"click",this._onMapClick],[b.userLocator,"meaningfulUserLocationChange",this._onUserLocationChange]]);if(this.model.geoip){var e=new b.Models.UserLocation({lat:parseFloat(this.model.geoip.lat),lon:parseFloat(this.model.geoip.lon),type:b.Models.UserLocation.GEOIP_LOCATION});if(e.isValid()){b.userLocator.setGeoIPLocation(e)}}};b.Views.Modules.Places.prototype=$.extend({},a.prototype,{template:"places_module",_render:function(c){a.prototype._render.call(this,c);this._cacheElems(".js-places-module",["content","more","less","map"]);if(!b.device.isDesktop&&b.searchExperiments.getExperimentGroup("pulmobexp")!=="b"){this._showUserLocationCTA()}this._viewClass=(this.model.items.length>1)?"PlacesMultiple":"PlacesSingle";this.views.module=new b.Views.Places[this._viewClass]({appendTo:this.$content,model:this.model});if(!this.model.isMapExpanded){this.$el.addClass("has-feedback-prompt");this.views.feedback=new b.Views.Feedback.FeedbackPrompt({sourceName:this.model.sourceName,category:"maps",categoryName:"Places",categoryValue:this.model.items.length>1?"places_multiple":"places_single",promptText:lp("feedback form","Share Feedback"),showYesNo:false,appendTo:this.$el,subtitleText:lp("feedback form","Share feedback for this result.")})}},_onClick:function(c){c.stopPropagation();this.model.engaged()},_onMapClick:function(){b.router.navigate("toggle-map",{model:this.model,isMapExpanded:true});b.pixel.fire("map_cta","link")},_onUserLocationChange:function(c){if(!this.model.isMapExpanded){w.location.reload()}},_showUserLocationCTA:function(){if(!b.userLocator.canGetLocation()){return}if(b.userLocator.hasLocation()){this.$el.addClass("has-location-filter");this.views.userLocationFilter=new b.Views.Dropdowns.UserLocationFilter({appendTo:this.$el});if(this.model.proximity){b.userLocator.updateLocation({updateType:"bg"})}}else{if(this.model.proximity&&b.settings.isDefault("kat")&&!b.search.isNavigational){this.views.userLocationCTA=new b.Views.UserLocationCTA({before:this.$el})}}}})}(DDG);!function(b){var a=b.Views.Modules.Base;b.Views.Modules.RelatedSearches=function(e){if(e.model.items){c(e.model.items)}a.call(this,e);this._cacheElems(".js-related-searches",["link"]);this.bindEvents([[this.$link,"click",this._onLinkClick]])};b.Views.Modules.RelatedSearches.prototype=$.extend({},a.prototype,{template:"related_searches_module",_render:function(h){var e=Math.ceil(h.model.items.length/2);var f=h.model.items;var g={query:Handlebars.Utils.escapeExpression(b.history.get("q")),firstHalf:f.slice(0,e),secondHalf:f.slice(e)};$.extend(this.model,g);a.prototype._render.call(this)},_onLinkClick:function(g){g.stopPropagation();var f={isPinnedToBottom:!!this.model.isAtBottom};this.model.engaged(f);return a.prototype._onExternalLinkClick.call(this,g)}});function c(e){e.forEach(function(f){f.web_search_url=f.web_search_url+(w.rv?"&v="+w.rv:"")+(w.kurl?w.kurl:"")})}}(DDG);!function(b){var a=b.Views.Modules.Base;b.Views.Modules.Covid19=function(c){a.call(this,c);this._cacheElems(".js-covid19",["link","cases","local","localrow","world","tab1","tab2","tab3","tab4","panel1","panel2","panel3","panel4","feedback","footer","stats","updated","wiki"]);this.bindEvents([[this.$link,"click",this._onExternalLinkClick],[this.$wiki,"click",this._onExternalLinkClick],[this.$tab1,"click",this._tabClick],[this.$tab2,"click",this._tabClick],[this.$tab3,"click",this._tabClick],[this.$tab4,"click",this._tabClick],[this.$stats,"click",this._moreStats],[this.model,"change:loaded",this._showCases]]);this.views.feedback=new b.Views.Feedback.FeedbackPrompt({category:"covid",promptText:lp("feedback form","Share Feedback"),appendTo:this.$feedback,showYesNo:false});this.pixelId="covid19";this.model.getCasesData()};b.Views.Modules.Covid19.prototype=$.extend({},a.prototype,{template:"covid_19",_openTab:function(c){this.$tab1.removeClass("is-active");this.$tab2.removeClass("is-active");this.$tab3.removeClass("is-active");this.$tab4.removeClass("is-active");this.$panel1.addClass("is-hidden");this.$panel2.addClass("is-hidden");this.$panel3.addClass("is-hidden");this.$panel4.addClass("is-hidden");this["$panel"+c].removeClass("is-hidden");this["$tab"+c].addClass("is-active");b.pixel.fire("iae",this.pixelId,this.model.openType,{t:c})},_moreStats:function(c){c.preventDefault();this._openTab(4)},_tabClick:function(f){f.preventDefault();var c=$(f.currentTarget);this["$panel"+c.data("id")].removeClass("is-hidden");this._openTab(c.data("id"))},_showCases:function(){this.$cases.removeClass("is-hidden");this.$world.text(this.model.worldLabel+": "+this.model.world.toLocaleString());if(this.model.local){this.$localrow.removeClass("is-hidden");this.$local.text(this.model.displayCountryName+": "+this.model.local.toLocaleString())}this.$panel4.append(DDG.exec_template("covid_19_cases",this.model));if(!b.device.isMobile){this.$updated.text(this.model.updated);this.$footer.show();this.$el.find(".js-covid19-mobile").removeClass("is-hidden")}},_onExternalLinkClick:function(c){c.stopPropagation();b.pixel.fire("iae",this.pixelId,this.model.openType);return a.prototype._onExternalLinkClick.call(this,c)}})}(DDG);!function(b){var a=b.Views.Base;b.Views.About.AboutItem=function(c){this.answer=c.answer;a.call(this,c);this._cacheElems(".js-about-item",["abstr","link","directions","more-at-inline","more-at-bottom","clickable-header"]);this.bindEvents([[this.answer,"change:expanded",this._onExpandedChange],[this.$link,"click",this._onExternalLinkClick],[this.$directions,"click",this._onDirectionsClick],[this.$moreatinline,"click",this._onExternalLinkClick],[this.$moreatbottom,"click",this._onExternalLinkClick],[this.$clickableheader,"click",this._onExternalLinkClick]]);if(this.model.hasInfobox){this.views.infobox=new b.Views.About.AboutInfoBox({appendTo:this.$el,model:this.model.infobox})}if(this.model.profiles){this.answer.set("profileLinks",this.model.profiles.links.length);this.views.profiles=new b.Views.About.AboutProfiles({appendTo:this.$el,model:this.model.profiles,answer:this.answer})}this._updateExpandedState()};b.Views.About.AboutItem.prototype=$.extend({},a.prototype,{template:"about_item",_render:function(){this.model.isMapExpanded=this.answer.isMapExpanded;a.prototype._render.call(this,this.model);if(this.answer.isMapExpanded){this._cacheElems(".js-about-item",["title"])}this.answer.directionsModel=this.answer.directionsModel||(b.duckbar.verticalMap&&b.duckbar.verticalMap.model&&b.duckbar.verticalMap.model.directionsModel)||new b.Models.Maps.Directions()},_prettifyCode:function(){var c=this.$("pre");if(c.length){DDG.require("prettify",function(){c.addClass("prettyprint");window.prettyPrint()})}},_updateExpandedState:function(){if(this.model.getAbstract){this.$abstr.html(this.model.getAbstract())}if(this.model.hasCode){this._prettifyCode()}if(!this.model.showMoreAtBottom){return}if(this.model.showMoreAtBottom()){this.$moreatbottom.removeClass("is-hidden");this.$moreatinline.addClass("is-hidden")}else{this.$moreatbottom.addClass("is-hidden");this.$moreatinline.removeClass("is-hidden")}},_openDirections:function(){this.answer.directionsModel.addLocation({type:"end",what:this.model.Heading});this.answer.directionsModel.set("endDisplay",this.model.Heading);if(this.answer.directionsModel.userLocation){this.answer.directionsModel.addLocation({type:"start",coordinate:{lat:this.answer.directionsModel.userLocation.lat,lon:this.answer.directionsModel.userLocation.lon}});this.answer.directionsModel.set("startDisplay",lp("directions","Your Location"))}if(this.answer.isMapExpanded){this.answer.set("isDirectionsActive",true);this.answer.directionsModel.onDirectionsAction()}else{b.router.navigate("toggle-map",{model:this.answer,directionsModel:this.answer.directionsModel,isMapExpanded:true,isDirections:true})}},_onExpandedChange:function(){if(this.answer.expanded){this.model.expand()}else{this.model.collapse()}this._updateExpandedState()},_onExternalLinkClick:function(c){c.stopPropagation();this.answer.clickedExternalLink();this.answer.engaged();return a.prototype._onExternalLinkClick.call(this,c)},_onDirectionsClick:function(){b.pixel.fire("dir_loc");this._openDirections()}})}(DDG);!function(b){var a=b.Views.Base;b.Views.About.AboutInfoBox=function(c){a.call(this,c);this.bindEvents([[this.model,"change:expanded",this._rerender]])};b.Views.About.AboutInfoBox.prototype=$.extend({},a.prototype,{template:"about_infobox",_render:function(){a.prototype._render.call(this,this.model)}})}(DDG);!function(b){var a=b.Views.Base;b.Views.About.AboutHeader=function(c){this.answer=c.answer;a.call(this,c);this.bindEvents([[this.model,"change:mapLocation",this._onMapLocationChanged],[this.model,"change:mapFailed",this._onMapFailed]]);if(this.model.mapLocation){this._renderMap()}};b.Views.About.AboutHeader.prototype=$.extend({},a.prototype,{template:"about_header",_render:function(c){a.prototype._render.call(this,this.model);this._cacheElems(".js-about-header",["image","map"]);this.bindEvents([[this.$image,"click",this._onImageClicked],[this.$map,"click",this._onMapClicked]])},_renderMap:function(){if(this.views.map){return}setTimeout(function(){this.views.map=new b.Views.Mapkit.StaticMap({markers:[this.model.mapLocation],width:this.$map.outerWidth(),height:this.$map.outerHeight(),appendTo:this.$map,showCTA:true,answer:this.answer})}.bind(this),0)},_onMapLocationChanged:function(){this._renderMap()},_onMapFailed:function(){b.pixel.fire("iahmf",this.answer.pixelId,this.answer.getPixelData())},_onImageClicked:function(){b.pixel.fire("iahic",this.answer.pixelId,this.answer.openType,this.answer.getPixelData());b.duckbar.open("images")},_onMapClicked:function(c){c.preventDefault();b.router.navigate("toggle-map",{model:this.answer,directionsModel:this.answer.directionsModel,isMapExpanded:true});this.answer.fire("iacg");b.pixel.fire("iahmc",this.answer.pixelId,this.answer.openType,this.answer.getPixelData())}})}(DDG);!function(b){var a=b.Views.Base;b.Views.About.AboutProfiles=function(c){this.answer=c.answer;a.call(this,c);this.bindEvents([[this.model,"change:links",this._rerender]])};b.Views.About.AboutProfiles.prototype=$.extend({},a.prototype,{template:"about_profiles",_render:function(){a.prototype._render.call(this,this.model);this.bindEvents([[".js-about-profile-link","click",this._onExternalLinkClick]])},_onExternalLinkClick:function(f){var c=$(f.currentTarget),g=c&&c.attr("title");f.stopPropagation();this.answer.clickedExternalLink({plc:g});this.answer.engaged();return a.prototype._onExternalLinkClick.call(this,f)}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Verticals.Base=function(c){this.views={items:[],itemsById:{}};a.call(this,c);this.$results=this.$results||this.$(".js-vertical-results");this.$moduleWrapper=this.$(".js-vertical-sidebar-modules");this._createFilterDropdowns();this.bindEvents([[b.device,"resize",this._onResize],[this.model,"change:active",this._onActiveChanged],[this.model,"change:items",this._onItemsChanged],[this.model,"no-results",this._onNoMoreResults],[this.model,"change:failed",this._onFailed],[this.model,"change:isRequerying",this._onRequeryingChanged],[this.model,"change:isLoading",this._onLoadingChanged],[b.deep,"load:initial",this._showFeedbackBtn.bind(this)]]);if(this.model.active){this.show()}if(this.model.items.length){this._updateItems()}else{if(this.model.failed){this.showNoResults()}}if(b.deep.finished){this._showFeedbackBtn()}};b.Views.Verticals.Base.prototype=$.extend({},a.prototype,{isValid:function(){return true},show:function(){this.$el.removeClass("is-hidden");b.keyboard.set("namespace",this.model.id);b.hidden.set("iar",this.model.id)},hide:function(){this.$el.addClass("is-hidden");b.keyboard.clear("namespace");b.hidden.clear("iar",this.model.id)},showNoResults:function(){if(!this.views.noResults){this.views.noResults=new b.Views.NoResults({vertical:this.model.pixelId,resultType:this.model.meta.itemType,appendTo:this.$results})}this.views.noResults.show();this._showingNoResults=true},hideNoResults:function(){this.views.noResults.hide();this._showingNoResults=false},_render:function(c){c.id=this.model.id;a.prototype._render.call(this,c)},_updateItems:function(){if(this._showingNoResults){this.hideNoResults()}for(var c=0;c<this.model.items.length;c++){var e=this.model.items[c];if(this.views.itemsById[e.id]){continue}this._appendItem(e)}},_appendItem:function(e){if(!this.ItemClass){throw new Error("Can't append item to vertical, no item view was defined ")}var c=new this.ItemClass({model:e,answer:this.model,appendTo:this.$results});this.views.items.push(c);this.views.itemsById[e.id]=c},_createFilterDropdowns:function(){var c=this.$(".js-vertical-filters");if(c.length===0){return}this.views.filters=new b.Views.Dropdowns.FilterContainer({$el:c,answer:this.model})},_showFeedbackBtn:function(){if(this.views.feedback||b.device.isMobile){return}this.views.feedback=new b.Views.Feedback.Button({appendTo:this.$(".js-vertical-bottom-right"),category:this.model.id+"vertical"})},_onFailed:function(){if(!this.model.failed){return}if(!this.model.items.length){this.showNoResults()}else{this._updateItems()}},_onActiveChanged:function(){if(this.model.active){this.show()}else{this.hide()}},_onItemsChanged:function(){this._updateItems()},_onRequeryingChanged:function(e){this.$el.toggleClass("is-requerying",e);if(!e){for(var c=0;c<this.views.items.length;c++){this.views.items[c].destroy()}this.views.items=[];this.views.itemsById={}}},_onLoadingChanged:$.noop,_onResize:$.noop,_onNoMoreResults:$.noop})}(DDG);!function(c){var b=c.Views.ClickableItem,a="highlight";c.Views.Verticals.VerticalLinkItem=function(e){this.model=e.model;this.answer=e.answer;b.call(this,e);this._cacheElems(".js-result",["image-wrapper","img-placeholder"]);this.bindEvents([[this.$el,"mouseenter",this._onMouseEnter],[this.$el,"mouseleave",this._onMouseLeave],[this.model,"change:image",this._onImageFetched],[this.model,"change:highlighted",this._onHighlightedChanged],[c.device,"resize",this._onResize]])};c.Views.Verticals.VerticalLinkItem.prototype=$.extend({},b.prototype,{template:"vertical_link_item",open:function(){this.$el.click()},getBounds:function(){if(!this._bounds){var f=this.$el.offset().top,e=f+this.$el.height();this._bounds={top:f,bottom:e}}return this._bounds},_render:function(e){b.prototype._render.call(this,$.extend(e,{urlAboveSnippet:c.settings.isDefault("kai"),favicons:c.settings.isDefault("kf"),targetBlank:c.settings.get("kn")==="1"}))},_onImageFetched:function(){var e=DDG.getImageProxyURL(this.model.image,{height:150});this.$img=$('<div class="result__image__img" style="background-image:url('+e+')"></div>');this.$imagewrapper.append(this.$img);this.$imgplaceholder.hide()},_onHighlightedChanged:function(){this.$el.toggleClass(a,!!this.model.highlighted)},_onClick:function(g,f){this.model.highlight();b.prototype._onClick.call(this,g,f)},_onMouseEnter:function(f){if(c.keyboard.active){return}this.model.highlight()},_onMouseLeave:function(f){this.model.unhighlight()},_onResize:function(f){delete this._bounds}})}(DDG);!function(c){var a=c.Views.Verticals.Base,b=70;c.Views.Verticals.VerticalLinks=function(e){a.call(this,e);this.bindEvents([[c.device,"scroll",this._onScroll]]);if(c.settings.isDefault("kk")){this.bindEvents([[c.keyboard,"up."+this.model.id,this._onUp],[c.keyboard,"j."+this.model.id,this._onUp],[c.keyboard,"down."+this.model.id,this._onDown],[c.keyboard,"k."+this.model.id,this._onDown],[c.keyboard,"enter."+this.model.id,this._onEnter]])}this.$results.on("click",".js-result-more",this._onLoadMoreClick.bind(this));this._pageNumber=1;this._selectItemFromQuerystring();this.menu=new c.Models.AnswerBarMenu();this.modulesLayoutView=new c.Views.ModulesLayout({menu:this.menu,model:c.modulesLayout,verticalId:e.id,selectors:{SIDE:".js-vertical-sidebar-modules"}})};c.Views.Verticals.VerticalLinks.prototype=$.extend({},a.prototype,{template:"vertical_links",ItemClass:c.Views.Verticals.VerticalLinkItem,_addSpellingMessage:function(){if(this.$spelling){return}this.$spelling=new c.Views.SpellingMessage({before:this.$results.selector,model:c.search.spelling,ia:this.model.id})},_updateItems:function(){this._removeLoadMore();if(this.model.usingSpellingBackfill||(DDG.deep.isBingV7()&&this.model.spellingCorrected)){this._addSpellingMessage()}if(this.views.items.length&&this.views.items.length!==this.model.items.length){if(c.deep.isBingV7()&&this.model.initialLoad){this.model.initialLoad=false}else{this._addSeparator()}}a.prototype._updateItems.call(this);delete this._height;this._selectItemFromQuerystring();if(!this._showingNoResults){if(this.model.canLoadMore()){this.$loadMore=c.$exec_template("vertical_load_more");this.$results.append(this.$loadMore)}else{this._showNoMoreResults()}}this._onScroll()},_appendItem:function(e){a.prototype._appendItem.call(this,e);e.set("visible",true)},_showNoMoreResults:function(){this._removeLoadMore();c.footer.set("visible",true)},_removeLoadMore:function(){if(this.$loadMore){this.$loadMore.remove();delete this.$loadMore}},_addSeparator:function(){this._pageNumber++;new c.Views.Verticals.VerticalSeparator({appendTo:this.$results,pageNumber:this._pageNumber})},_loadMoreCheck:function(){if(!c.settings.autoloadDisabled()){return}var e=c.history.get("pn");if(e&&this._pageNumber<e){this.model.loadMore()}},_selectItemFromQuerystring:function(){if(this._selectedItemFromQS){return}var g=c.history.get("iai"),e=c.history.get("ia");if(this.model.nameId===e&&typeof g!=="undefined"){var f=this.model.itemsById[g];if(f){f.highlight();this._updateScrollPosition();this._selectedItemFromQS=true}}},_highlightFirstVisibleItem:function(){var f=this.views.items,h=c.device.scrollTop(),e;if(!f.length){return}if(h===0){e=f[0]}else{h+=b+c.get_header_height();for(var g=0;g<f.length;g++){if(f[g].getBounds().top>h){e=f[g];break}}}if(e){e.model.highlight();this._updateScrollPosition()}},_isHighlightedItemVisible:function(){var f=this.model.highlightedItem&&this.views.itemsById[this.model.highlightedItem.id];if(!f){return}var e=f.getBounds(),h=c.device.scrollTop(),g=c.device.height;return e.top>h&&e.bottom<h+g},_updateScrollPosition:function(){var h=this.model.highlightedItem&&this.views.itemsById[this.model.highlightedItem.id];if(!h){return}var g=h.getBounds(),f=g.top-b-c.get_header_height(),e=g.bottom+b,j=c.device.scrollTop(),i=c.device.height;f=Math.max(0,f);if(f<j){c.device.scrollTop(f)}else{if(e>j+i){c.device.scrollTop(e-i)}}},_getHeight:function(){if(this._height){return this._height}this._height=this.$results.height();return this._height},_onLoadingChanged:function(e){if(this.$loadMore){this.$loadMore.toggleClass("is-loading",e)}},_onNoMoreResults:function(){this._showNoMoreResults()},_onRequeryingChanged:function(e){a.prototype._onRequeryingChanged.call(this,e);if(!e){delete this._height;this._pageNumber=1;this.$(".js-result-sep").remove();this.$loadMore&&this.$loadMore.remove();delete this.$loadMore;this.$noMoreResults&&this.$noMoreResults.remove();delete this.$noMoreResults}},_onLoadMoreClick:function(){this.model.loadMore()},_onResize:function(){a.prototype._onResize.call(this)},_onScroll:function(){if(!this.model.active){return}var e=this._getHeight();if(!c.settings.isDefault("kav")&&e&&c.device.scrollTop()>e-(c.device.height*2)){this.model.loadMore()}this._loadMoreCheck()},_onUp:function(f){f.preventDefault();if(this.model.highlightedItem===this.model.items[0]){return this.model.highlightedItem.unhighlight()}if(this._isHighlightedItemVisible()){this.model.highlightPrevItem();this._updateScrollPosition()}else{if(c.device.scrollTop()>0){this._highlightFirstVisibleItem()}}},_onDown:function(f){f.preventDefault();if(this._isHighlightedItemVisible()){this.model.highlightNextItem();this._updateScrollPosition()}else{this._highlightFirstVisibleItem()}},_onEnter:function(g){g.preventDefault();var f=this.model.highlightedItem;if(f){this.views.itemsById[f.id].open()}}})}(DDG);!function(b){var a=b.Views.Base;b.Views.Verticals.VerticalSeparator=function(c){a.call(this,c)};b.Views.Verticals.VerticalSeparator.prototype=$.extend({},a.prototype,{template:"vertical_separator",_render:function(f){var g=b.settings.get("kv"),e,c;if(g==="-1"){return}if(g==="m"){c=true}else{if(g==="l"){e=f.pageNumber}else{if(g==="1"){c=true;e=f.pageNumber}}}a.prototype._render.call(this,{line:c,pageNumber:e})}})}(DDG);!function(h){var a=h.Views.Verticals.Base,c=["xs","s"],i=["maps_maps","maps_places","about","maps_expanded"],j=45,g="vertical--map__sidebar--",b=56,f=150,e={MIN:"min",NORMAL:"normal"};h.Views.Verticals.VerticalMap=function(k){this.ItemClass=k.ItemClass;this._onMapReady=k.onMapReady;this.mapClickCount=0;this.isMapRenderPending=false;this._glMapModel=k.model.glMapModel||new h.Models.GLMap({locations:k.locations||k.model.itemsOnMap,pixelId:k.model.pixelId});k.model._glMapModel=this._glMapModel;k.model.set("approx_geo_bbox",this._glMapModel.getApproximateGeoBBox());k.model.isMapSidebarVisible=i.indexOf(k.model.id)>-1;k.model.isDarkMap=h.settings.isDarkTheme();if(k.directionsModel){this._initDirectionsModel({model:k.directionsModel})}else{this._initDirectionsModel({query:!(h.history.get("start")||h.history.get("end"))&&k.model&&k.model.query})}k.model.directionsModel=this.directionsModel;k.model.set("isDirectionsActive",!!k.isDirectionsActive);this.bindEvents([[k.model,"change:selectedItem",this._onSelectedItemChanged],[k.model,"change:sidebarLayout",this._onSidebarLayoutChanged],[k.model,"change:sidebarPosition",this._onSidebarPositionChanged],[k.model,"change:isDarkMap",this._onDarkMapChanged],[k.model,"change:isSearchAreaBtnVisible",this._onSearchAreaBtnVisibleChange],[k.model,"change:isMoreAtVisible",this._onIsMoreAtVisibleChange],[k.model,"change:isDirectionsActive",this._onIsDirectionsActiveChange],[k.model,"change:isMapStartActive",this._onIsMapStartActiveChange],[k.model,"change:proximity",this._onProximityChange],[k.model.meta,"change:query",this._onMetaQueryChange],[h.device,"resize",this._onResize],[h.settings,"change:"+h.settings.THEME_KEY,this._onThemeChange]]);a.call(this,k)};h.Views.Verticals.VerticalMap.prototype=$.extend({},a.prototype,{template:"vertical_map",show:function(){a.prototype.show.call(this);this.updateTheme(this.model.isDarkMap);if(this.model.isDirectionsActive||h.history.get("iaxm")==="start"){this.directionsModel&&this.directionsModel.fetchUserLocation(function(){this._renderMapkitMap()}.bind(this))}else{this._renderMapkitMap()}if(this.model.isDirectionsActive){this.directionsModel&&this.directionsModel.onDirectionsAction({noRouting:this.directionsModel.hasResults})}else{this._updateItems()}if(this.model.isMapSidebarVisible){this._renderSidebar(function(){this._maybeShrinkDrawer()}.bind(this))}this._selectItemFromQuerystring();$("html").addClass("has-vertical-map-open");h.page.searchbar&&h.page.searchbar.disableTabIndexes()},hide:function(){this.views.userLocControl&&this.views.userLocControl.hide();$("html").removeClass("has-vertical-map-open");h.page.searchbar&&h.page.searchbar.enableTabIndexes();a.prototype.hide.call(this);if(this.model.selectedItem){this.model.selectedItem.unselect()}},updateTheme:function(k){var m=g+"light";var n="is-dark-map";if(k){this.$toggle.removeClass(m);this.$el.addClass(n)}else{this.$toggle.addClass(m);this.$el.removeClass(n)}},showNoResults:function(){if(!this.views.noResults){this.views.noResults=new h.Views.NoMapResults({vertical:this.model.pixelId,resultType:this.model.meta.itemType,query:this.model.meta.query,appendTo:this.$results,model:this.model})}else{this.views.noResults.updateQuery(this.model.meta.query)}this.views.noResults.show();this._showingNoResults=true;this.$el.addClass("vertical--map--no-results");this.model.set("isMoreAtVisible",false);this._maybeShrinkDrawer();if(h.history.get("bbox")){var k=h.history.get("bbox").split(",");this.views.mapkitMap.updateRegion((parseFloat(k[0])+parseFloat(k[2]))/2,(parseFloat(k[1])+parseFloat(k[3]))/2,Math.abs(parseFloat(k[2])-parseFloat(k[0])),Math.abs(parseFloat(k[3])-parseFloat(k[1])))}else{if(!this.model.hasShownItems){this.views.mapkitMap.updateRegion(this.model.meta.geoip.lat,this.model.meta.geoip.lon,2,2)}}},_render:function(k){a.prototype._render.call(this,k);this._cacheElems(".js-vertical-map",["map","control-topright","sidebar","toggle","toggle-button","sidebar-inner","results-container","results","detail","close-map","controls-topcenter","requery","back-to-list","back-to-serp","more","more-link","footer","mask"]);this.views.mapSideBarFooter=new h.Views.Maps.MapSidebarFooter({appendTo:this.$footer,model:this.model});if(h.device.isDesktop){this.views.locationTile=new h.Views.UserLocationTile({appendTo:this.$controltopright,answer:this.model,position:"below-right",$originEl:this.$el})}if(this.model.isMapSidebarVisible){this._updateSidebarLayout()}this.show();h.pixel.fire("map_ei");this.bindEvents([[this.$sidebar,"click",this._onSidebarEngagement],[this.$requery,"click",this._onRequeryClick],[this.$toggle,"click",this._onSidebarToggleClicked]]);if(h.device.isMobileDevice){this.bindEvents([[this.$el,"scroll",this._onVerticalMapScroll]])}},_updateSidebarLayout:function(){if(!this.model.isMapExpanded){return}var k=c.indexOf(h.device.widthBreakpoint())>-1;this.model.set("sidebarLayout",k&&h.device.isMobilePortrait()?"bottom":"left")},_updateItems:function(){if(this.model.isDirectionsActive){return}this.model.set("hasShownItems",true);this.$el.addClass("vertical--map--has-shown-items");if(this.model.answerItemModel==="MapLocation"){this.ItemClass=h.Views.Address.AddressDetail}else{if(this.model.answerItemModel==="Place"){this.ItemClass=h.Views.Places[this.model.items.length>1?"PlaceListItem":"PlacesSingleMap"]}else{if(this.model.answerItemModel==="About"){this.ItemClass=h.Views.Modules.AboutMap}else{this.ItemClass=h.Views.Address.AddressDetail}}}this._updateMoreAtLink();if(this.views.noResults){this.views.noResults.destroy();this.$el.removeClass("vertical--map--no-results")}a.prototype._updateItems.call(this);this._positionSidebar();this._resetSidebarScroll();if(this.views&&this.views.mapkitMap){this.views.mapkitMap.updateMap(this._getMapOffset())}this._maybeShrinkDrawer();this._saveCurrentViewport()},_updateMoreAtLink:function(){var p=this.model.items&&this.model.items.length>1&&this.model.sourceUrl&&this.model.moreAtExternalServiceText;if(this.model.answerItemModel==="Place"&&p){var n=this.model.items.length>1?this.model.sourceUrl:this.model.items[0].url,m=this.model.items.length>1?this.model.moreAtExternalServiceText:this.model.items[0].moreAtExternalServiceText,o=document.createTextNode(h.strip_all_html(m)),k=h.get_favicon_url(n);this.$morelinkimg=this.$morelink.find("img");this.$morelinkimg.attr("src",k);this.$morelink.attr("href",n);this.$morelink.text("");this.$morelink.append(this.$morelinkimg);this.$morelink.append(o);this.model.set("isMoreAtVisible",true);this.$more.removeClass("is-hidden")}else{this.model.set("isMoreAtVisible");this.$more.addClass("is-hidden")}},_saveCurrentViewport:function(){if(this.model.isRequerying){return}if(this.model&&this.views&&this.views.mapkitMap){var n=this.views.mapkitMap.views.map.region.center.latitude,o=this.views.mapkitMap.views.map.region.center.longitude,k=this.views.mapkitMap.views.map.region.span.latitudeDelta,m=this.views.mapkitMap.views.map.region.span.longitudeDelta;if(!n&&!o){return}this.model.set("geo_bbox",this._glMapModel.getGeoBBox(n,o,k,m))}},_renderUserLocControl:function(){if(this.views.userLocControl||!h.userLocator.canGetLocation()||h.search.userLocationExp==="b"){return}this.views.userLocControl=new h.Views.Mapkit.UserLocationControl({model:h.userLocator,appendTo:this.$controltopright})},_getMapOffset:function(){var k=0;var m=0;var n=0;if(this.model.sidebarLayout==="left"&&this.model.sidebarPosition!==e.MIN){m=this.$sidebar.width()}else{if(this.model.sidebarLayout==="bottom"){k=this.model.isDirectionsActive?f:b;n=this.model.sidebarPosition===e.MIN?j:h.device.height/2}}return{top:k,right:0,bottom:n,left:m}},_renderMapkitMap:function(){if(this.views.mapkitMap||this.isMapRenderPending){return}this.isMapRenderPending=true;var m;if(this._glMapModel.selectedLocation){m=[this._glMapModel.selectedLocation]}else{m=this.model.itemsOnMap}var k={markers:m,model:this._glMapModel,answer:this.model,markerType:"circle",appendTo:this.$map,mapOffset:this._getMapOffset(),onMapReady:this._onMapReady,hideMapTypeControl:true};if(h.mapkit.isInitialized){setTimeout(function(){this._createMapkitView(k)}.bind(this),0)}else{h.mapkit.init(function(){this._createMapkitView(k)}.bind(this))}},_createMapkitView:function(k){if(this.model.isDirectionsActive){k.isDirections=true}if(this.directionsModel&&this.directionsModel.userLocation){k.userLocation=this.directionsModel.userLocation}this.views.mapkitMap=new h.Views.Mapkit.Map(k);this.bindEvents([[this.views.mapkitMap,"scrollzoom",this._onMapScrollZoom],[this.views.mapkitMap,"load",this._saveCurrentViewport],[this.views.mapkitMap,"select",this.blurSearchInput],[this.views.mapkitMap,"dragend",this._onDragEnd],[this.views.mapkitMap,"click",this._onMapClick],[this.views.mapkitMap,"single-tap",this._onMapSingleTap]]);if(this.model.isDirectionsActive){this.$resultscontainer.hide();if(!this.directionsModel){this._initDirectionsModel({query:this.model.query})}if(this.directionsModel.hasResults){this.views.mapkitMap.model.set("canShowMap",true)}if(!this.views.directionsResults){this.views.directionsResults=new h.Views.Maps.DirectionsResults({model:this.directionsModel,answer:this.model,map:this.views.mapkitMap,prependTo:this.$sidebarinner})}this.views.directionsResults.show()}else{this.$resultscontainer.show();this.views.directionsResults&&this.views.directionsResults.hide()}},_selectItemFromQuerystring:function(){var m=h.history.get("iai");if(this.model.nameId==="places"&&typeof m!=="undefined"){var k=this.model.itemsById[m];if(k){k.select();this._isSelectedItemFromQS=true;this._resetSidebarScroll()}}},_initDirectionsModel:function(k){this.directionsModel=k.model||new h.Models.Maps.Directions();this.bindEvents([[this.directionsModel,"change:routeList",this._onDirectionsRouteListChange],[this.directionsModel,"change:isRouting",this._onDirectionsIsRoutingChange]]);if(k.query){this.directionsModel.addLocation({type:"end",what:k.query})}},_renderSidebar:function(k){if(this.views.mapsSidebar){this._updateSidebarLayout()}else{this.views.mapsSidebar=this._createSidebar("maps",k)}},_createSidebar:function(k,p){var n,m;var o={model:this.model,appendTo:this.$sidebar,directionsModel:this.directionsModel};m=this.model.sidebarLayout==="bottom"?h.Views.Maps.MapSidebarMobile:h.Views.Maps.MapSidebar;n=new m(o);if(n.views&&n.views.mapSearchbar){n.views.mapSearchbar.on("requery-submit",function(q){this.onRequeryAction(q)}.bind(this));if(n.views.mapSearchbar.autocomplete){n.views.mapSearchbar.autocomplete.on("requery-submit",function(q){this.onRequeryAction(q)}.bind(this))}}setTimeout(function(){if(this.model.sidebarPosition===e.NORMAL){this._positionSidebar()}else{this.model.set("sidebarPosition",e.NORMAL)}p()}.bind(this),0);return n},_positionSidebar:function(){var k=this.model.sidebarPosition!==e.MIN;this.$sidebar.toggleClass("vertical--map--sidebar-closed",!k);if(this.model.sidebarLayout==="bottom"){this.$sidebar.css("transform","")}else{if(this.model.sidebarLayout==="left"){this.$controlstopcenter.css("transform","");if(k){this.$sidebar.css("transform","translateX(0)");this.$togglebutton.html("<")}else{this.$sidebar.css("transform","translateX(-"+this.$sidebar.width()+"px)");this.$togglebutton.html(">")}}}},_maybeShrinkDrawer:function(){var n=this.$sidebarinner.prop("scrollHeight");var k=h.device.height;if(this.model.sidebarLayout==="bottom"&&this.model.sidebarPosition!==e.MIN&&(this.model.hasShownItems||this._showingNoResults)&&(n<(k/2))){var m=((k-n)/k)*100;this.$sidebar.css("top",m+"%");this.$mask.css("height",100-m+"%");var o=this._getMapOffset();o.bottom=n;if(this.views.mapkitMap){this.views.mapkitMap.updateMapOffset(o)}this.$controlstopcenter.css("bottom","calc("+(100-m)+"% + 42px)")}else{this.$sidebar.css("top","");this.$mask.css("height","");this.$controlstopcenter.css("bottom","")}},_onSidebarLayoutChanged:function(m,k){this.$el.removeClass("vertical--map--sidebar-"+k);this.$el.addClass("vertical--map--sidebar-"+m);if(this.views.mapSidebar){this.views.mapSidebar.destroy();this.views.mapSidebar=null}this._renderSidebar(function(){setTimeout(function(){if(this.views.mapkitMap){this.views.mapkitMap.updateMap(this._getMapOffset())}this._maybeShrinkDrawer()}.bind(this),0)}.bind(this))},_onSidebarPositionChanged:function(m,k){setTimeout(function(){if(k){this.$sidebar.removeClass(g+k)}this.$sidebar.addClass(g+m)}.bind(this),0);this._positionSidebar();if(this.views.mapkitMap){this.views.mapkitMap.updateMapOffset(this._getMapOffset())}this._maybeShrinkDrawer();this.$el.toggleClass(g+e.MIN,m===e.MIN)},_onDarkMapChanged:function(){this.updateTheme(this.model.isDarkMap)},_onSidebarToggleClicked:function(){var k=this.model.sidebarPosition===e.MIN?e.NORMAL:e.MIN;this.model.set("sidebarPosition",k);h.pixel.fire("map_est")},_onSidebarEngagement:function(){h.pixel.fire("map_ese")},_onVerticalMapScroll:function(m){if(!h.device.isMobilePortrait()){return}var k=this._getScrollable().scrollTop();this.$el.toggleClass("vertical--map--scrolled-up",k>0)},onRequeryAction:function(o){this.model.set("isSearchAreaBtnVisible",false);var m=o&&o.suggestion,n=m&&m.metadata;if(o&&o.query){o.query=o.query}else{if(m){o.query=m.what;if(!m.metadata&&m.where&&!m.where.match(lp("vertical_map","Search Near My Location"),"i")&&!m.where.match(lp("vertical_map","Search Current Map Area"),"i")){o.query+=" "+m.where}if(!m.metadata&&m.where&&m.where.match(lp("vertical_map","Search Current Map Area"),"i")){o.strict_bbox=1}}else{if(this.model.meta&&this.model.meta.requery){o.query=h.Utils.Strings.decodeHex(this.model.meta.requery)}else{o.query=h.Utils.Strings.decodeHex(this.model.query)}}}o.strict_bbox=o.strict_bbox||"1";o.shouldMapViewportUpdate=o.hasOwnProperty("shouldMapViewportUpdate")?o.shouldMapViewportUpdate:true;o.isSearchMapAreaPending=o.hasOwnProperty("isSearchMapAreaPending")?o.isSearchMapAreaPending:false;var k={q:o.query,strict_bbox:o.strict_bbox};var p=this.model.geo_bbox||this._glMapModel.getApproximateGeoBBox();if(p){k.bbox=p.top_left+","+p.bottom_right}if(n){k.metatoken=this.model.saveMetadata(n)}if(h.history.get("iai")&&!o.iai){h.history.clear("iai")}if(h.history.get("metatoken")){h.history.clear("metatoken")}if(!o.isFromStaticMapsTab){h.history.set(k)}h.router.navigate("requery",o)},_onRequeryClick:function(){this.onRequeryAction({shouldMapViewportUpdate:false,isSearchMapAreaPending:true});this.model.set("isSearchAreaBtnVisible",false);var m="",k={};if(this.model.meta||this.model.query){m=this.model.meta.requery||this.model.query;k={q:m}}h.pixel.fire("map_ere");h.pixel.fire("map_er","area",k)},blurSearchInput:function(){this.views.mapSidebar&&this.views.mapSidebar.blurSearchInput&&this.views.mapSidebar.blurSearchInput()},_getScrollable:function(){return this.model.sidebarLayout==="bottom"?this.$el:this.$sidebarinner},_resetSidebarScroll:function(){this._getScrollable().scrollTop(0)},_captureSidebarScroll:function(){this.model.set("lastPlacesScrollTop",this._getScrollable().scrollTop())},_restoreSidebarScroll:function(){if(this.model.lastPlacesScrollTop!=null){this._getScrollable().scrollTop(this.model.lastPlacesScrollTop)}},_onMapScrollZoom:function(){this.blurSearchInput();if(!this.model.isDirectionsActive){this.model.set("isSearchAreaBtnVisible",true)}},_onResize:function(){if(!this.model.isMapSidebarVisible){return}this._updateSidebarLayout();this._positionSidebar();if(this.views.mapkitMap){this.views.mapkitMap.updateMap(this._getMapOffset())}this._maybeShrinkDrawer()},_onDragEnd:function(){this.blurSearchInput();this._saveCurrentViewport()},_onMapClick:function(k){this.blurSearchInput()},_onMapSingleTap:function(){if(h.device.isMobileDevice&&this.model.selectedItem){this.model.selectedItem.unselect()}},_onSelectedItemChanged:function(m){var n,k;if((this.model.answerItemModel!=="Place"&&this.model.answerType!=="Places")||this.model.isSingle){return}n=!!this.views.currentItemDetail;k=!!m;if(n){this.views.currentItemDetail.destroy();delete this.views.currentItemDetail}else{this._captureSidebarScroll()}if(k){this._setDocumentTitle(m.name);this.model.primaryPlace=m;this.views.currentItemDetail=new h.Views.Places.PlacesSingleMap({answer:this.model,model:this.model.primaryPlace,appendTo:this.$detail});this.$detail.show();this.$resultscontainer.hide();this.$results.hide();this.$more.hide();this.$backtoserp.hide();this.$backtolist.removeClass("is-hidden");this._resetSidebarScroll()}else{this._setDocumentTitle(this.model.meta.query||this.model.query);this.$detail.hide();this.$resultscontainer.show();this.$results.show();this.$more.show();this.$backtoserp.show();this.$backtolist.addClass("is-hidden");this._restoreSidebarScroll()}this._maybeShrinkDrawer();if(this.model.sidebarPosition===e.MIN){this.model.set("sidebarPosition",e.NORMAL)}},_onThemeChange:function(){this.model.set("isDarkMap",h.settings.isDarkTheme())},_onSearchAreaBtnVisibleChange:function(){this.$requery.toggleClass("is-hidden",!this.model.isSearchAreaBtnVisible)},_onIsMoreAtVisibleChange:function(){this.$more.toggle(this.model.isMoreAtVisible)},_onProximityChange:function(){this.views.locationTile&&this.views.locationTile.showUserLocationCTA()},_onMetaQueryChange:function(k){this._setDocumentTitle(k)},_setDocumentTitle:function(k){document.title=k?decodeURIComponentSafe(k)+" at DuckDuckGo":"DuckDuckGo"},_toggleDirections:function(){this.$sidebar.toggleClass("has-directions",this.model.isDirectionsActive);if(this.model.isDirectionsActive){if(this.views.directionsResults){this.views.directionsResults.show()}else{this.views.directionsResults=new h.Views.Maps.DirectionsResults({model:this.directionsModel,answer:this.model,map:this.views.mapkitMap,prependTo:this.$sidebarinner})}this.$results.hide();this.views.currentItemDetail&&this.views.currentItemDetail.hide();this.views.exampleSearches&&this.views.exampleSearches.hide();this.views.mapSideBarFooter._rerender();this.$more.hide()}else{this.views.directionsResults&&this.views.directionsResults.hide();this.$resultscontainer.show();if(!this.model.isMapStartActive){this.$results.show();this.views.currentItemDetail&&this.views.currentItemDetail.show();this.$more.show()}}},_toggleMapStart:function(){if(this.model.isMapStartActive){this.$resultscontainer.show();this.$results&&this.$results.hide();this.views.currentItemDetail&&this.views.currentItemDetail.hide();this.$more.hide();if(h.device.isEnglish){this.views.exampleSearches=this.views.exampleSearches||new h.Views.Maps.ExampleSearches({appendTo:this.$resultscontainer,model:this.model,answer:this.model});this.views.exampleSearches.show()}}else{this.views.exampleSearches&&this.views.exampleSearches.hide();this.$results&&this.$results.show()}},_onIsDirectionsActiveChange:function(){this._toggleDirections()},_onIsMapStartActiveChange:function(){this._toggleMapStart()},_onDirectionsRouteListChange:function(){this.$resultscontainer.hide();this._glMapModel.set("canShowMap",true)},_onDirectionsIsRoutingChange:function(k){this.$resultscontainer.css("opacity",k?0.2:1);this.$el.toggleClass("vertical--map--has-shown-items",!k)}})}(DDG);!function(c){var b=c.Views,a=c.Views.Modal,e=c.Utils.ParseDate;b.CustomDateRange=function(g){var f=window.locale.replace("_","-");this.i18n={previousMonth:"<",nextMonth:">",months:[0,1,2,3,4,5,6,7,8,9,10,11].map(function(h){return new Date(2021,h,1).toLocaleDateString(f,{month:"long"})}),weekdays:[3,4,5,6,7,8,9].map(function(h){return new Date(2021,0,h).toLocaleDateString(f,{weekday:"long"})}),weekdaysShort:[3,4,5,6,7,8,9].map(function(h){return new Date(2021,0,h).toLocaleDateString(f,{weekday:"narrow"})})};a.call(this,g)};b.CustomDateRange.prototype=$.extend({},a.prototype,{template:"custom_date_range_modal",_render:function(f){a.prototype._render.call(this,{isPopover:f.isPopover,header:l("Custom date range"),key:"custom_date"});this._cacheElems(".js-custom-date-range",["from","to","from-datepicker","to-datepicker","apply"]);this.bindEvents([[this.$from,"focus",this._fromOnFocus],[this.$from,"change",function(g){this._onChange(g,this.fromPicker)}.bind(this)],[this.$from,"keyup",this._disablePikadayDefaultEvents],[this.$from,"keydown",this._onFromKeydown],[this.$to,"focus",this._toOnFocus],[this.$to,"change",function(g){this._onChange(g,this.toPicker)}.bind(this)],[this.$to,"keyup",this._disablePikadayDefaultEvents],[this.$to,"keydown",this._onToKeydown],[this.$apply,"click",this._applyChanges]]);DDG.require("pikaday",this._onPikadayLoaded.bind(this))},_onPikadayLoaded:function(){this.fromPicker=this.createDatePicker(this.$fromdatepicker,this.selectFromDate.bind(this));this.toPicker=this.createDatePicker(this.$todatepicker,this.selectToDate.bind(this));this.fromPicker.setDate(this.model.fromDate);this.toPicker.setDate(this.model.toDate);this.toPicker.hide();this.fromPicker.show();this.on("shown",function(){this.$from.focus()});this.$from.focus()},setStartRange:function(f){this.fromPicker.setStartRange(f);this.fromPicker.draw();this.toPicker.setStartRange(f);this.toPicker.draw()},setEndRange:function(f){this.fromPicker.setEndRange(f);this.fromPicker.draw();this.toPicker.setEndRange(f);this.toPicker.draw()},selectFromDate:function(f){if(this.$from){this.$from[0].value=this.convertDateToLocaleString(f);this.model.set("fromDate",f);this.setStartRange(f);if(f>this.model.toDate){this.model.fromDate=this.model.toDate;this.model.toDate=f;this.fromPicker.setDate(this.model.fromDate);this.toPicker.setDate(this.model.toDate)}this.$to.focus();this.fromPicker.hide();this.toPicker.gotoDate(f)}},selectToDate:function(f){if(this.$to){this.$to[0].value=this.convertDateToLocaleString(f);this.model.set("toDate",f);this.setEndRange(f);if(f<this.model.fromDate){this.model.toDate=this.model.fromDate;this.model.fromDate=f;this.fromPicker.setDate(this.model.fromDate);this.toPicker.setDate(this.model.toDate)}}},_disablePikadayDefaultEvents:function(f){f.stopPropagation()},_fromOnFocus:function(){if(this.fromPicker&&this.toPicker){this.fromPicker.show();this.toPicker.hide()}},_toOnFocus:function(){if(this.fromPicker&&this.toPicker){this.fromPicker.hide();this.toPicker.show()}},_onKeydown:function(f,j,i){this._disablePikadayDefaultEvents(f);var g=j.value;var h=e.parseShortLocalizedDate(g);if(f.key==="Enter"&&this.isRealDate(h)){i(f)}},_onFromKeydown:function(f){this._onKeydown(f,this.$from[0],function(g){this._onChange(g,this.fromPicker)}.bind(this))},_onToKeydown:function(f){this._onKeydown(f,this.$to[0],function(g){this._onChange(g,this.toPicker);this._applyChanges()}.bind(this))},_onChange:function(f,h){this._disablePikadayDefaultEvents(f);var g=e.parseShortLocalizedDate(f.currentTarget.value);if(this.isRealDate(g)){h.setDate(g)}},isRealDate:function(f){return !Number.isNaN(f.valueOf())},createDatePicker:function(g,f){return new Pikaday({field:document.createElement("input"),container:g[0],onSelect:f,maxDate:new Date(),bound:false,i18n:this.i18n})},convertDateToISO8601String:function(g){var h=this._convertToTwoDigits(g.getMonth()+1);var f=this._convertToTwoDigits(g.getDate());return g.getFullYear()+"-"+h+"-"+f},convertDateToLocaleString:function(f){return f.toLocaleDateString(window.locale.replace("_","-"),{day:"numeric",month:"numeric",year:"numeric"})},_applyChanges:function(){var j=this.model.fromDate;var i=this.model.toDate;var h=c.Data.HiddenFields.DATE_FILTER;var g=c.search;var f=this.convertDateToISO8601String(j)+".."+this.convertDateToISO8601String(i);c.hidden.set(h,f);g.set("dateFilterId",f);g.requery()},_convertToTwoDigits:function(f){return("0"+f.toString()).slice(-2)}})}(DDG);!function(b){var f="ESC_DIALOGUE",c="CLICK_KEEP_IT",e="CLICK_CHANGE_IT_BACK",a="SKIP";b.Views.KeepExtensionDialogues=function(g){g=g||{};this._isAddressBarQuery=g.isAddressBarQuery;this._showWelcomeBanner=g.showWelcomeBanner;this._hadFocusOnStart=g.hadFocusOnStart;this.views={};if(this._isAddressBarQuery&&!this._hadFocusOnStart&&!document.hasFocus()&&document.visibilityState==="visible"&&b.extension.isInstalled({nocache:true})){this._handleChromeDialogue()}else{this._dispatch(a)}};b.Views.KeepExtensionDialogues.prototype={destroy:function(){clearInterval(this._pollingIntevalId);clearInterval(this._chromeInternalTimeoutId);clearTimeout(this._healthCheckTimeoutId);if(this._boundHandleHealthCheckResponse){document.removeEventListener("message",this._handleHealthCheckResponse)}Object.keys(this.views).forEach(function(g){if(this.views[g].destroy){this.views[g].destroy()}delete this.views[g]},this)},_dispatch:function(g){switch(g){case f:b.pixel.fire("cmo");window.postMessage({type:"rescheduleCounterMessagingRequest"},window.location.origin);if(this._showWelcomeBanner){this.views.welcomeBanner=new b.Views.WelcomeMessage({appendTo:".js-welcome-wrap"})}break;case c:b.pixel.fire("cmc");if(this._showWelcomeBanner){this.views.welcomeBanner=new b.Views.WelcomeMessage({appendTo:".js-welcome-wrap"})}break;case a:if(this._showWelcomeBanner){this.views.welcomeBanner=new b.Views.WelcomeMessage({appendTo:".js-welcome-wrap"})}break;case e:b.pixel.fire("cmx");this.views.modal=new b.Views.KeepExtensionModal({prependTo:$("body"),onClose:function(){this.views.modal.destroy()}.bind(this)});break}},_handleChromeDialogue:function(){var h=b.device.isOSXBigSurAndUp;b.pixel.fire("cmi");this.views.alert=new b.Views.KeepExtensionAlert({prependTo:$("body"),isNativeDialogueCentered:h,isConnectorOffsetted:b.device.isWindows});var j=document.createElement("div");j.className="keep-extension-dialogues";if(h){j.classList.add("keep-extension-dialogues--centered")}document.body.appendChild(j);var g;function i(){g=true}j.onmouseover=i;j.ontouchstart=i;this._pollingIntevalId=setInterval(function(){if(document.hasFocus()){clearInterval(this._pollingIntevalId);if(j){j.remove();j=null}var k=function(m){if(this.views.alert&&this.views.alert.destroy){this.views.alert.destroy({waitForAnimation:true},m)}else{m()}}.bind(this);k(function(){this._chromeInternalTimeoutId=setTimeout(function(){this.isExtensionStillActive(function(m,n){if(m){this._showWelcomeBanner=false;this._dispatch(a)}else{if(!n){this._dispatch(e)}else{this._dispatch(g?c:f)}}}.bind(this))}.bind(this),100)}.bind(this))}}.bind(this),100)},isExtensionStillActive:function(h){this._healthCheckTimeoutId=setTimeout(function(){window.removeEventListener("message",this._boundHandleHealthCheckResponse);this._handleHealthCheckResponse=null;h(new Error("Health check timed out"))}.bind(this),500);this._handleHealthCheckResponse=function g(i){if(i.origin===window.location.origin&&i.data.type==="healthCheckResponse"){clearTimeout(this._healthCheckTimeoutId);window.removeEventListener("message",this._boundHandleHealthCheckResponse);this._handleHealthCheckResponse=null;h(null,i.data.isAlive)}}.bind(this);window.addEventListener("message",this._handleHealthCheckResponse);window.postMessage({type:"healthCheckRequest"},window.location.origin)}}}(DDG);!function(b){var a=b.Views.Base;b.Views.KeepExtensionAlert=function(c){a.call(this,c);document.documentElement.classList.add("has-extension-alert")};b.Views.KeepExtensionAlert.prototype=$.extend({},a.prototype,{template:"keep_extension_alert",destroy:function(f,g){f=f||{};document.documentElement.classList.remove("has-extension-alert");if(f.waitForAnimation){var e=this.$el.get(0);e.classList.add("destroying");var c=function(h){e.removeEventListener("animationend",c);if(g){g(null)}a.prototype.destroy.call(this)}.bind(this);e.addEventListener("animationend",c)}else{if(g){g(null)}a.prototype.destroy.call(this)}}})}(DDG);!function(b){var a=b.Views.Base;b.Views.KeepExtensionModal=function(c){a.call(this,$.extend({},c,{isWindows:b.device.isWindows}));this._onClose=c.onClose||$.noop;document.documentElement.classList.add("has-keep-extension-modal");this._cacheElems(".js-keep-extension-modal",["close"]);this.bindEvents([[this.$close,"click",this._handleClick]]);this._boundHandleKeydown=this._handleKeydown.bind(this);window.addEventListener("keydown",this._boundHandleKeydown)};b.Views.KeepExtensionModal.prototype=$.extend({},a.prototype,{template:"keep_extension_modal",destroy:function(){window.removeEventListener("keydown",this._boundHandleKeydown);document.documentElement.classList.remove("has-keep-extension-modal");if(this._boundHandleAnimationEnd){this.$el.get(0).removeEventListener("animationend",this._boundHandleAnimationEnd)}a.prototype.destroy.call(this)},close:function(){var c=this.$el.get(0);this._boundHandleAnimationEnd=function(f){c.removeEventListener("animationend",this._boundHandleAnimationEnd);this._boundHandleAnimationEnd=null;this._onClose()}.bind(this);c.addEventListener("animationend",this._boundHandleAnimationEnd);c.classList.add("closing");document.documentElement.classList.remove("has-keep-extension-modal")},_handleClick:function(c){this.close()},_handleKeydown:function(c){if(c.code==="Escape"){this.close()}}})}(DDG);!function(a){a.feedback=new a.Models.Feedback();a.searchExperiments=new a.Models.SearchExperiments();a.modulesLayout=new a.Models.ModulesLayout({});a.duckbar=new a.Duckbar();a.directionSource=new a.Models.AnswerSelectLists.DirectionSource();a.vqd=new a.Models.VQD();a.router=new a.Models.Router();a.pageLayout=new a.Models.PageLayout()}(DDG);this["DDG"]=this["DDG"]||{};this["DDG"]["templates"]=this["DDG"]["templates"]||{};this["DDG"]["templates"]["base"]=Handlebars.template(function(c,k,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,f="function",h=this.escapeExpression;g+='<div class="zci  zci--';if(e=b.id){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.id);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+'" id="zci-';if(e=b.id){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.id);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+'">';if(e=b.content){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.content);a=typeof e===f?e.call(k,{hash:{},data:i}):e}if(a||a===0){g+=a}g+="</div>";return g});this["DDG"]["templates"]["detail_slider"]=Handlebars.template(function(f,n,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,h="function",j=this.escapeExpression,o=this;function c(t,s){var p="",q,r;p+='style="height:';if(r=e.detailHeight){q=r.call(t,{hash:{},data:s})}else{r=(t&&t.detailHeight);q=typeof r===h?r.call(t,{hash:{},data:s}):r}p+=j(q)+';"';return p}function a(q,p){return'<i class="tile-nav tile-nav--d tile-nav--prev js-detail-prev"></i><i class="tile-nav tile-nav--d tile-nav--next js-detail-next"></i>'}i+='<div class="detail  detail--slider  detail--';if(g=e.id){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.id);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+'  is-hidden" ';b=e["if"].call(n,(n&&n.detailHeight),{hash:{},inverse:o.noop,fn:o.program(1,c,k),data:k});if(b||b===0){i+=b}i+='><div class="detail__wrap"><a class="detail__close  js-detail-close"></a>';b=e["if"].call(n,(n&&n.mobileAndNoTouch),{hash:{},inverse:o.noop,fn:o.program(3,a,k),data:k});if(b||b===0){i+=b}i+='<div class="detail__panes  js-detail-panes"></div><div class="detail__controls"><i class="tile-nav--sm  tile-nav--sm--prev  js-detail-prev"></i><i class="tile-nav--sm  tile-nav--sm--next  js-detail-next"></i></div></div></div>';return i});this["DDG"]["templates"]["detail_slider_pane"]=Handlebars.template(function(c,k,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,f="function",h=this.escapeExpression;g+='<div class="detail__pane" style="line-height:';if(e=b.lineHeight){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.lineHeight);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+";width:";if(e=b.width){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.width);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+";height:";if(e=b.height){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.height);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+";padding:";if(e=b.padding){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.padding);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+";padding-left:";if(e=b.paddingLeft){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.paddingLeft);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+';"></div>';return g});this["DDG"]["templates"]["duckbar_tab"]=Handlebars.template(function(f,n,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var i="",b,g,p,o=this,h="function",m=e.helperMissing;function c(r,q){return"is-hidden"}function a(r,q){return"is-active"}i+='<li class="zcm__item  ';b=e["if"].call(n,(n&&n.visible),{hash:{},inverse:o.program(1,c,j),fn:o.noop,data:j});if(b||b===0){i+=b}i+='"><a data-zci-link="';if(g=e.id){b=g.call(n,{hash:{},data:j})}else{g=(n&&n.id);b=typeof g===h?g.call(n,{hash:{},data:j}):g}if(b||b===0){i+=b}i+='" class="zcm__link  js-zci-link  js-zci-link--';if(g=e.id){b=g.call(n,{hash:{},data:j})}else{g=(n&&n.id);b=typeof g===h?g.call(n,{hash:{},data:j}):g}if(b||b===0){i+=b}i+=" ";b=e["if"].call(n,(n&&n.active),{hash:{},inverse:o.noop,fn:o.program(3,a,j),data:j});if(b||b===0){i+=b}i+='" href="#">';b=(g=e.l||(n&&n.l),p={hash:{},data:j},g?g.call(n,(n&&n.name),p):m.call(n,"l",(n&&n.name),p));if(b||b===0){i+=b}i+="</a></li>";return i});this["DDG"]["templates"]["maps"]=Handlebars.template(function(c,k,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,f="function",h=this.escapeExpression;g+='<div class="zci zci--';if(e=b.id){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.id);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+'  mapview" id="zci-';if(e=b.id){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.id);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+'"></div>';return g});this["DDG"]["templates"]["maps_marker_popup"]=Handlebars.template(function(c,p,n,i,s){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,c.helpers);s=s||{};var o="",f,b="function",a=this.escapeExpression,m=this;function k(v,u){return"mapview-marker__popup--single-line"}function j(v,u){return"has-directions js-popup-directions-container"}function h(y,x){var u="",v;v=n["if"].call(y,(y&&y.name),{hash:{},inverse:m.noop,fn:m.program(6,g,x),data:x});if(v||v===0){u+=v}v=n["if"].call(y,(y&&y.address),{hash:{},inverse:m.noop,fn:m.program(8,e,x),data:x});if(v||v===0){u+=v}v=n["if"].call(y,(y&&y.displayLatLon),{hash:{},inverse:m.noop,fn:m.program(10,t,x),data:x});if(v||v===0){u+=v}return u}function g(z,y){var u="",v,x;u+='<span class="mapview-marker__popup__name">';if(x=n.name){v=x.call(z,{hash:{},data:y})}else{x=(z&&z.name);v=typeof x===b?x.call(z,{hash:{},data:y}):x}u+=a(v)+"</span>";return u}function e(z,y){var u="",v,x;u+='<span class="mapview-marker__popup__address">';if(x=n.address){v=x.call(z,{hash:{},data:y})}else{x=(z&&z.address);v=typeof x===b?x.call(z,{hash:{},data:y}):x}u+=a(v)+"</span>";return u}function t(z,y){var u="",v,x;u+='<span class="mapview-marker__popup__latlon">';if(x=n.displayLatLon){v=x.call(z,{hash:{},data:y})}else{x=(z&&z.displayLatLon);v=typeof x===b?x.call(z,{hash:{},data:y}):x}if(v||v===0){u+=v}u+="</span>";return u}function r(y,x){var u="",v;u+='<a class="js-directions-link" href="#">';v=n["if"].call(y,(y&&y.name),{hash:{},inverse:m.noop,fn:m.program(13,q,x),data:x});if(v||v===0){u+=v}v=n["if"].call(y,(y&&y.address),{hash:{},inverse:m.noop,fn:m.program(8,e,x),data:x});if(v||v===0){u+=v}v=n["if"].call(y,(y&&y.displayLatLon),{hash:{},inverse:m.noop,fn:m.program(10,t,x),data:x});if(v||v===0){u+=v}u+="</a>";return u}function q(z,y){var u="",v,x;u+='<div class="mapview-marker__popup__directions-name"><span class="ddgsi mapview-marker__popup__directions-icon">d</span><span class="mapview-marker__popup__name">';if(x=n.name){v=x.call(z,{hash:{},data:y})}else{x=(z&&z.name);v=typeof x===b?x.call(z,{hash:{},data:y}):x}u+=a(v)+"</span></div>";return u}o+='<span class="mapview-marker__popup ';f=n["if"].call(p,(p&&p.singleLinePopup),{hash:{},inverse:m.noop,fn:m.program(1,k,s),data:s});if(f||f===0){o+=f}o+=" ";f=n["if"].call(p,(p&&p.showDirections),{hash:{},inverse:m.noop,fn:m.program(3,j,s),data:s});if(f||f===0){o+=f}o+='">';f=n.unless.call(p,(p&&p.showDirections),{hash:{},inverse:m.program(12,r,s),fn:m.program(5,h,s),data:s});if(f||f===0){o+=f}o+="</span>";return o});this["DDG"]["templates"]["metabar"]=Handlebars.template(function(g,v,t,o,C){this.compilerInfo=[4,">= 1.0.0"];t=this.merge(t,g.helpers);C=C||{};var u="",j,a,s=t.helperMissing,r=this,c="function",b=this.escapeExpression;function q(E,D){return"has-dropdowns"}function p(E,D){return"is-hidden"}function n(I,H){var D="",F,G,E;D+='<div class="metabar__more-at">';F=(G=t.moreAt||(I&&I.moreAt),E={hash:{},data:H},G?G.call(I,I,"none",E):s.call(I,"moreAt",I,"none",E));if(F||F===0){D+=F}D+="</div> ";return D}function m(H,G){var D="",E,F;D+='<div class="metabar__secondary-text  ';E=t["if"].call(H,(H&&H.alwaysShowSecondaryText),{hash:{},inverse:r.program(8,i,G),fn:r.noop,data:G});if(E||E===0){D+=E}D+=" js-metabar-secondary";E=t["if"].call(H,(H&&H.clickableSecondaryText),{hash:{},inverse:r.noop,fn:r.program(10,B,G),data:G});if(E||E===0){D+=E}D+='">';if(F=t.secondaryText){E=F.call(H,{hash:{},data:G})}else{F=(H&&H.secondaryText);E=typeof F===c?F.call(H,{hash:{},data:G}):F}if(E||E===0){D+=E}E=t["if"].call(H,(H&&H.showMoreAt),{hash:{},inverse:r.noop,fn:r.program(12,A,G),data:G});if(E||E===0){D+=E}D+="</div>";return D}function i(E,D){return"hide--screen-s"}function B(E,D){return" is-loading"}function A(E,D){return'<span class="sep"></span>'}function z(E,D){return'<span class="metabar__attribution__sep sep"></span>'}function y(F,E){var D;D=t["if"].call(F,(F&&F.secondaryText),{hash:{},inverse:r.noop,fn:r.program(14,z,E),data:E});if(D||D===0){return D}else{return""}}function x(G,F){var D,E;if(E=t.primaryText){D=E.call(G,{hash:{},data:F})}else{E=(G&&G.primaryText);D=typeof E===c?E.call(G,{hash:{},data:F}):E}if(D||D===0){return D}else{return""}}function k(F,E){var D;D=t["if"].call(F,(F&&F.sourceNoTransform),{hash:{},inverse:r.program(23,f,E),fn:r.program(21,h,E),data:E});if(D||D===0){return D}else{return""}}function h(I,H){var D="",F,G,E;D+='<span class="metabar__item-type--no-transform">'+b((G=t.l||(I&&I.l),E={hash:{},data:H},G?G.call(I,(I&&I.itemType),E):s.call(I,"l",(I&&I.itemType),E)))+"</span> ";F=(G=t.l||(I&&I.l),E={hash:{},data:H},G?G.call(I,"for",E):s.call(I,"l","for",E));if(F||F===0){D+=F}D+=' <span class="metabar__term">';if(G=t.searchTerm){F=G.call(I,{hash:{},data:H})}else{G=(I&&I.searchTerm);F=typeof G===c?G.call(I,{hash:{},data:H}):G}D+=b(F)+"</span>";return D}function f(I,H){var D="",F,G,E;D+='<span class="metabar__item-type">'+b((G=t.l||(I&&I.l),E={hash:{},data:H},G?G.call(I,(I&&I.itemType),E):s.call(I,"l",(I&&I.itemType),E)))+"</span> ";F=(G=t.l||(I&&I.l),E={hash:{},data:H},G?G.call(I,"for",E):s.call(I,"l","for",E));if(F||F===0){D+=F}D+=' <span class="metabar__term">';if(G=t.searchTerm){F=G.call(I,{hash:{},data:H})}else{G=(I&&I.searchTerm);F=typeof G===c?G.call(I,{hash:{},data:H}):G}D+=b(F)+"</span>";return D}function e(E,D){return'<div class="metabar__dropdowns-wrap"><div class="metabar__dropdowns js-metabar-dropdowns is-loading"></div></div>'}u+='<div class="metabar  metabar--fixed  js-zcm-sticky ';j=t["if"].call(v,(v&&v.showDropdowns),{hash:{},inverse:r.noop,fn:r.program(1,q,C),data:C});if(j||j===0){u+=j}u+=" ";j=t["if"].call(v,(v&&v.hidden),{hash:{},inverse:r.noop,fn:r.program(3,p,C),data:C});if(j||j===0){u+=j}u+='"><div class="metabar__in  js-metabar"><span class="metabar__mode-wrap"><a class="btn--icon  metabar__mode  js-metabar-mode  is-disabled">';if(a=t.initialModeIcon){j=a.call(v,{hash:{},data:C})}else{a=(v&&v.initialModeIcon);j=typeof a===c?a.call(v,{hash:{},data:C}):a}u+=b(j)+"</a></span>";j=t["if"].call(v,(v&&v.showMoreAt),{hash:{},inverse:r.noop,fn:r.program(5,n,C),data:C});if(j||j===0){u+=j}j=t["if"].call(v,(v&&v.secondaryText),{hash:{},inverse:r.noop,fn:r.program(7,m,C),data:C});if(j||j===0){u+=j}u+='<div class="metabar__attribution  js-attribution  hide--screen-s  is-hidden">';j=t["if"].call(v,(v&&v.showMoreAt),{hash:{},inverse:r.program(16,y,C),fn:r.program(14,z,C),data:C});if(j||j===0){u+=j}u+='</div><div class="metabar__primary-text js-metabar-primary is-loading">';j=t["if"].call(v,(v&&v.primaryText),{hash:{},inverse:r.program(20,k,C),fn:r.program(18,x,C),data:C});if(j||j===0){u+=j}u+="</div>";j=t["if"].call(v,(v&&v.showDropdowns),{hash:{},inverse:r.noop,fn:r.program(25,e,C),data:C});if(j||j===0){u+=j}u+="</div></div>";return u});this["DDG"]["templates"]["tiles"]=Handlebars.template(function(f,n,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,h="function",j=this.escapeExpression,r=this;function c(t,s){return" bing"}function a(t,s){return" is-full-page"}function q(t,s){return" has-sidebar-filters"}function p(t,s){return'<div class="sidebar-filters js-tileview-sidebar-filters"></div>'}function o(t,s){return'<div class="serp__bottom-right js-vertical-bottom-right"></div>'}i+='<div class="zci  zci--';if(g=e.id){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.id);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+"  zci--type--tiles";b=e["if"].call(n,(n&&n.bing),{hash:{},inverse:r.noop,fn:r.program(1,c,k),data:k});if(b||b===0){i+=b}b=e["if"].call(n,(n&&n.isFullPage),{hash:{},inverse:r.noop,fn:r.program(3,a,k),data:k});if(b||b===0){i+=b}b=e["if"].call(n,(n&&n.canShowSidebarFilters),{hash:{},inverse:r.noop,fn:r.program(5,q,k),data:k});if(b||b===0){i+=b}i+='" id="zci-';if(g=e.id){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.id);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+'"><div class="tileview  js-tileview">';b=e["if"].call(n,(n&&n.canShowSidebarFilters),{hash:{},inverse:r.noop,fn:r.program(7,p,k),data:k});if(b||b===0){i+=b}i+='<div class="tile-wrap"><div class="zci__main  zci__main--tiles  js-tiles  has-tiles  has-nav">';if(g=e.content){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.content);b=typeof g===h?g.call(n,{hash:{},data:k}):g}if(b||b===0){i+=b}i+="</div></div>";b=e["if"].call(n,(n&&n.hasFeedbackButton),{hash:{},inverse:r.noop,fn:r.program(9,o,k),data:k});if(b||b===0){i+=b}i+="</div></div>";return i});this["DDG"]["templates"]["tiles_scroll_nav"]=Handlebars.template(function(c,k,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,f="function",h=this.escapeExpression;g+='<i class="tile-nav  tile-nav--';if(e=b.dir){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.dir);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+'  js-tile-nav"></i>';return g});this["DDG"]["templates"]["topic_menu"]=Handlebars.template(function(e,f,b,a,c){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,e.helpers);c=c||{};return'<div class="zcm  zcm--sub  zcm--topics"><ul class="zcm__menu  zcm__menu--topics js-topic-menu"></ul></div>'});this["DDG"]["templates"]["topic_menu_item"]=Handlebars.template(function(e,m,c,k,j){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);j=j||{};var h="",a,f,p,g="function",i=this.escapeExpression,o=this,n=c.blockHelperMissing;function b(t,s){var q="",r;q+='<sup class="zcm__link__count  js-topic-menu-count">'+i(((r=((r=(t&&t.items)),r==null||r===false?r:r.length)),typeof r===g?r.apply(t):r))+"</sup>";return q}h+='<li class="zcm__item"><a class="zcm__link--sub  js-topic-menu-link" href="#">';if(f=c.name){a=f.call(m,{hash:{},data:j})}else{f=(m&&m.name);a=typeof f===g?f.call(m,{hash:{},data:j}):f}h+=i(a);p={hash:{},inverse:o.program(1,b,j),fn:o.noop,data:j};if(f=c.hideCount){a=f.call(m,p)}else{f=(m&&m.hideCount);a=typeof f===g?f.call(m,p):f}if(!c.hideCount){a=n.call(m,a,{hash:{},inverse:o.program(1,b,j),fn:o.noop,data:j})}if(a||a===0){h+=a}h+="</a></li>";return h});this["DDG"]["templates"]["answer_detail"]=Handlebars.template(function(c,j,b,i,h){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);h=h||{};var g="",a,e,f="function";g+='<div class="cw"><div class="zci__main  zci__main--detail"><div class="zci__body">';if(e=b.Answer){a=e.call(j,{hash:{},data:h})}else{e=(j&&j.Answer);a=typeof e===f?e.call(j,{hash:{},data:h}):e}if(a||a===0){g+=a}g+="</div></div></div>";return g});this["DDG"]["templates"]["base_detail"]=Handlebars.template(function(f,m,e,j,i){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);i=i||{};var h="",b,g="function",k=e.helperMissing,p=this;function c(t,s){var q,r;if(r=e.content){q=r.call(t,{hash:{},data:s})}else{r=(t&&t.content);q=typeof r===g?r.call(t,{hash:{},data:s}):r}if(q||q===0){return q}else{return""}}function a(u,t){var r,s,q;r=(s=e.include||(u&&u.include),q={hash:{},data:t},s?s.call(u,((r=((r=(u&&u.meta)),r==null||r===false?r:r.options)),r==null||r===false?r:r.content),q):k.call(u,"include",((r=((r=(u&&u.meta)),r==null||r===false?r:r.options)),r==null||r===false?r:r.content),q));if(r||r===0){return r}else{return""}}function o(v,u){var q="",s,t,r;q+='<div class="c-base__links">';s=(t=e.moreAt||(v&&v.moreAt),r={hash:{className:("c-base__link")},data:u},t?t.call(v,(v&&v.meta),"none",r):k.call(v,"moreAt",(v&&v.meta),"none",r));if(s||s===0){q+=s}s=e["if"].call(v,((s=((s=(v&&v.meta)),s==null||s===false?s:s.options)),s==null||s===false?s:s.moreText),{hash:{},inverse:p.noop,fn:p.program(6,n,u),data:u});if(s||s===0){q+=s}q+="</div>";return q}function n(v,u){var q="",s,t,r;q+='<span class="c-base__link--more  sep--before">';s=(t=e.formatSubtitle||(v&&v.formatSubtitle),r={hash:{},data:u},t?t.call(v,((s=((s=(v&&v.meta)),s==null||s===false?s:s.options)),s==null||s===false?s:s.moreText),r):k.call(v,"formatSubtitle",((s=((s=(v&&v.meta)),s==null||s===false?s:s.options)),s==null||s===false?s:s.moreText),r));if(s||s===0){q+=s}q+="</span>";return q}h+='<div class="cw"><div class="zci__main  zci__main--detail  c-base"><div class="zci__body">';b=e["if"].call(m,(m&&m.content),{hash:{},inverse:p.program(3,a,i),fn:p.program(1,c,i),data:i});if(b||b===0){h+=b}b=e["if"].call(m,((b=((b=(m&&m.meta)),b==null||b===false?b:b.options)),b==null||b===false?b:b.moreAt),{hash:{},inverse:p.noop,fn:p.program(5,o,i),data:i});if(b||b===0){h+=b}h+="</div></div></div>";return h});this["DDG"]["templates"]["base_spice_detail"]=Handlebars.template(function(c,k,b,i,h){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);h=h||{};var g="",a,e,m,f="function",j=b.helperMissing;g+='<div class="cw"><div class="zci__main  zci__main--detail"><div class="zci__body">';if(e=b.content){a=e.call(k,{hash:{},data:h})}else{e=(k&&k.content);a=typeof e===f?e.call(k,{hash:{},data:h}):e}if(a||a===0){g+=a}g+='<div class="zci__links">';a=(e=b.moreAt||(k&&k.moreAt),m={hash:{},data:h},e?e.call(k,((a=(k&&k.item)),a==null||a===false?a:a.meta),m):j.call(k,"moreAt",((a=(k&&k.item)),a==null||a===false?a:a.meta),m));if(a||a===0){g+=a}g+="</div></div></div></div>";return g});this["DDG"]["templates"]["basic_icon_detail"]=Handlebars.template(function(e,q,o,i,y){this.compilerInfo=[4,">= 1.0.0"];o=this.merge(o,e.helpers);y=y||{};var p="",f,b="function",a=this.escapeExpression,n=o.helperMissing,m=this;function k(A,z){return"has-aux"}function j(E,D){var z="",B,C,A;z+='<div class="c-icon__img-wrap '+a(((B=((B=((B=(E&&E.meta)),B==null||B===false?B:B.elClass)),B==null||B===false?B:B.iconImage)),typeof B===b?B.apply(E):B))+'"><img class="c-icon__img" src="';B=(C=o.imageProxy||(E&&E.imageProxy),A={hash:{},data:D},C?C.call(E,(E&&E.image),A):n.call(E,"imageProxy",(E&&E.image),A));if(B||B===0){z+=B}z+='" /></div>';return z}function h(D,C){var z="",A,B;z+='<span class="c-icon__badge '+a(((A=((A=((A=(D&&D.meta)),A==null||A===false?A:A.elClass)),A==null||A===false?A:A.iconBadge)),typeof A===b?A.apply(D):A))+" "+a(((A=((A=((A=(D&&D.meta)),A==null||A===false?A:A.elClass)),A==null||A===false?A:A.bgColor)),typeof A===b?A.apply(D):A))+'">';if(B=o.badge){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.badge);A=typeof B===b?B.call(D,{hash:{},data:C}):B}z+=a(A)+"</span>";return z}function g(D,C){var z="",A,B;z+='<h1 class="c-icon__title '+a(((A=((A=((A=(D&&D.meta)),A==null||A===false?A:A.elClass)),A==null||A===false?A:A.iconTitle)),typeof A===b?A.apply(D):A))+'"><a href="';if(B=o.url){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.url);A=typeof B===b?B.call(D,{hash:{},data:C}):B}if(A||A===0){z+=A}z+='">';if(B=o.title){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.title);A=typeof B===b?B.call(D,{hash:{},data:C}):B}z+=a(A)+"</a></h1>";return z}function c(E,D){var z="",B,C,A;z+='<span class="c-icon__sub '+a(((B=((B=((B=(E&&E.meta)),B==null||B===false?B:B.elClass)),B==null||B===false?B:B.iconSubtitle)),typeof B===b?B.apply(E):B))+'">';B=(C=o.formatSubtitle||(E&&E.formatSubtitle),A={hash:{},data:D},C?C.call(E,(E&&E.subtitle),A):n.call(E,"formatSubtitle",(E&&E.subtitle),A));if(B||B===0){z+=B}z+="</span>";return z}function x(E,D){var z="",B,C,A;z+='<span class="c-icon__sub '+a(((B=((B=((B=(E&&E.meta)),B==null||B===false?B:B.elClass)),B==null||B===false?B:B.iconAltSubtitle)),typeof B===b?B.apply(E):B))+'">';B=(C=o.formatSubtitle||(E&&E.formatSubtitle),A={hash:{},data:D},C?C.call(E,(E&&E.altSubtitle),A):n.call(E,"formatSubtitle",(E&&E.altSubtitle),A));if(B||B===0){z+=B}z+="</span>";return z}function v(E,D){var z="",B,C,A;z+='<div class="c-icon__content '+a(((B=((B=((B=(E&&E.meta)),B==null||B===false?B:B.elClass)),B==null||B===false?B:B.iconContent)),typeof B===b?B.apply(E):B))+'">';B=(C=o.include||(E&&E.include),A={hash:{},data:D},C?C.call(E,((B=((B=(E&&E.meta)),B==null||B===false?B:B.options)),B==null||B===false?B:B.content),A):n.call(E,"include",((B=((B=(E&&E.meta)),B==null||B===false?B:B.options)),B==null||B===false?B:B.content),A));if(B||B===0){z+=B}z+="</div>";return z}function u(B,A){var z;z=o["if"].call(B,(B&&B.description),{hash:{},inverse:m.noop,fn:m.program(16,t,A),data:A});if(z||z===0){return z}else{return""}}function t(D,C){var z="",A,B;z+='<div class="c-icon__content '+a(((A=((A=((A=(D&&D.meta)),A==null||A===false?A:A.elClass)),A==null||A===false?A:A.iconContent)),typeof A===b?A.apply(D):A))+'">';if(B=o.description){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.description);A=typeof B===b?B.call(D,{hash:{},data:C}):B}z+=a(A)+"</div>";return z}function s(E,D){var z="",B,C,A;z+='<div class="c-icon__links '+a(((B=((B=((B=(E&&E.meta)),B==null||B===false?B:B.elClass)),B==null||B===false?B:B.iconLinks)),typeof B===b?B.apply(E):B))+'">';B=(C=o.moreAt||(E&&E.moreAt),A={hash:{className:("c-icon__link")},data:D},C?C.call(E,(E&&E.meta),"none",A):n.call(E,"moreAt",(E&&E.meta),"none",A));if(B||B===0){z+=B}B=o["if"].call(E,((B=((B=(E&&E.meta)),B==null||B===false?B:B.options)),B==null||B===false?B:B.moreText),{hash:{},inverse:m.noop,fn:m.program(19,r,D),data:D});if(B||B===0){z+=B}z+="</div>";return z}function r(E,D){var z="",B,C,A;z+='<span class="c-icon__link--more  sep--before">';B=(C=o.formatSubtitle||(E&&E.formatSubtitle),A={hash:{},data:D},C?C.call(E,((B=((B=(E&&E.meta)),B==null||B===false?B:B.options)),B==null||B===false?B:B.moreText),A):n.call(E,"formatSubtitle",((B=((B=(E&&E.meta)),B==null||B===false?B:B.options)),B==null||B===false?B:B.moreText),A));if(B||B===0){z+=B}z+="</span>";return z}p+='<div class="cw ';f=o["if"].call(q,(q&&q.infoboxData),{hash:{},inverse:m.noop,fn:m.program(1,k,y),data:y});if(f||f===0){p+=f}p+='"><div class="zci__main  c-icon"><div class="zci__body"><div class="c-icon__head">';f=o["if"].call(q,(q&&q.image),{hash:{},inverse:m.noop,fn:m.program(3,j,y),data:y});if(f||f===0){p+=f}f=o["if"].call(q,(q&&q.badge),{hash:{},inverse:m.noop,fn:m.program(5,h,y),data:y});if(f||f===0){p+=f}p+='<div class="c-icon__body">';f=o["if"].call(q,(q&&q.title),{hash:{},inverse:m.noop,fn:m.program(7,g,y),data:y});if(f||f===0){p+=f}f=o["if"].call(q,(q&&q.subtitle),{hash:{},inverse:m.noop,fn:m.program(9,c,y),data:y});if(f||f===0){p+=f}f=o["if"].call(q,(q&&q.altSubtitle),{hash:{},inverse:m.noop,fn:m.program(11,x,y),data:y});if(f||f===0){p+=f}p+="</div></div>";f=o["if"].call(q,((f=((f=(q&&q.meta)),f==null||f===false?f:f.options)),f==null||f===false?f:f.content),{hash:{},inverse:m.program(15,u,y),fn:m.program(13,v,y),data:y});if(f||f===0){p+=f}f=o["if"].call(q,((f=((f=(q&&q.meta)),f==null||f===false?f:f.options)),f==null||f===false?f:f.moreAt),{hash:{},inverse:m.noop,fn:m.program(18,s,y),data:y});if(f||f===0){p+=f}p+="</div></div></div>";return p});this["DDG"]["templates"]["basic_info_detail"]=Handlebars.template(function(g,u,s,m,C){this.compilerInfo=[4,">= 1.0.0"];s=this.merge(s,g.helpers);C=C||{};var t="",j,a,e,q=this,c="function",r=s.helperMissing,b=this.escapeExpression;function p(E,D){return"has-aux"}function o(I,H){var D="",F,G,E;D+='<div class="c-info__img-wrap  c-info__img-wrap--';F=s["if"].call(I,(I&&I.imageTile),{hash:{},inverse:q.program(6,k,H),fn:q.program(4,n,H),data:H});if(F||F===0){D+=F}D+='"><a href="';if(G=s.url){F=G.call(I,{hash:{},data:H})}else{G=(I&&I.url);F=typeof G===c?G.call(I,{hash:{},data:H}):G}if(F||F===0){D+=F}D+='" class="c-info__img-wrap__in"><img class="c-info__img  js-detail-img" src="';F=(G=s.imageProxy||(I&&I.imageProxy),E={hash:{},data:H},G?G.call(I,(I&&I.image),E):r.call(I,"imageProxy",(I&&I.image),E));if(F||F===0){D+=F}D+='" /></a></div>';return D}function n(E,D){return"tile"}function k(E,D){return"clip"}function i(H,G){var D="",E,F;D+='<h1 class="c-info__title  ';E=s["if"].call(H,(H&&H.subtitle),{hash:{},inverse:q.noop,fn:q.program(9,f,G),data:G});if(E||E===0){D+=E}D+='"><a href="';if(F=s.url){E=F.call(H,{hash:{},data:G})}else{F=(H&&H.url);E=typeof F===c?F.call(H,{hash:{},data:G}):F}if(E||E===0){D+=E}D+='">';if(F=s.title){E=F.call(H,{hash:{},data:G})}else{F=(H&&H.title);E=typeof F===c?F.call(H,{hash:{},data:G}):F}D+=b(E)+"</a>";E=s["if"].call(H,(H&&H.subtitle),{hash:{},inverse:q.noop,fn:q.program(11,B,G),data:G});if(E||E===0){D+=E}D+="</h1>";return D}function f(E,D){return"has-sub"}function B(I,H){var D="",F,G,E;D+='<span class="c-info__title__sub">';F=(G=s.formatSubtitle||(I&&I.formatSubtitle),E={hash:{},data:H},G?G.call(I,(I&&I.subtitle),E):r.call(I,"formatSubtitle",(I&&I.subtitle),E));if(F||F===0){D+=F}D+="</span>";return D}function A(I,H){var D="",F,G,E;D+='<div class="c-info__content ';F=s["if"].call(I,((F=((F=(I&&I.meta)),F==null||F===false?F:F.options)),F==null||F===false?F:F.chompContent),{hash:{},inverse:q.noop,fn:q.program(14,z,H),data:H});if(F||F===0){D+=F}D+='">';F=(G=s.include||(I&&I.include),E={hash:{},data:H},G?G.call(I,((F=((F=(I&&I.meta)),F==null||F===false?F:F.options)),F==null||F===false?F:F.content),E):r.call(I,"include",((F=((F=(I&&I.meta)),F==null||F===false?F:F.options)),F==null||F===false?F:F.content),E));if(F||F===0){D+=F}D+="</div>";return D}function z(E,D){return"chomp js-ellipsis"}function y(F,E){var D;D=s["if"].call(F,(F&&F.description),{hash:{},inverse:q.noop,fn:q.program(17,x,E),data:E});if(D||D===0){return D}else{return""}}function x(H,G){var D="",E,F;D+='<div class="c-info__content chomp js-ellipsis">';if(F=s.description){E=F.call(H,{hash:{},data:G})}else{F=(H&&H.description);E=typeof F===c?F.call(H,{hash:{},data:G}):F}D+=b(E)+"</div>";return D}function v(H,G){var E,F,D;E=(F=s.moreAt||(H&&H.moreAt),D={hash:{className:("c-info__link"),sourceOnlyMobile:("true")},data:G},F?F.call(H,(H&&H.meta),"none",D):r.call(H,"moreAt",(H&&H.meta),"none",D));if(E||E===0){return E}else{return""}}function h(I,H){var D="",F,G,E;D+='<span class="c-info__link--more  sep--before">';F=(G=s.formatSubtitle||(I&&I.formatSubtitle),E={hash:{},data:H},G?G.call(I,((F=((F=(I&&I.meta)),F==null||F===false?F:F.options)),F==null||F===false?F:F.moreText),E):r.call(I,"formatSubtitle",((F=((F=(I&&I.meta)),F==null||F===false?F:F.options)),F==null||F===false?F:F.moreText),E));if(F||F===0){D+=F}D+="</span>";return D}t+='<div class="c-info--cw  cw ';j=s["if"].call(u,(u&&u.infoboxData),{hash:{},inverse:q.noop,fn:q.program(1,p,C),data:C});if(j||j===0){t+=j}t+='"><div class="zci__main  c-info"><div class="zci__body">';j=s["if"].call(u,(u&&u.image),{hash:{},inverse:q.noop,fn:q.program(3,o,C),data:C});if(j||j===0){t+=j}t+='<div class="c-info__body">';j=s["if"].call(u,(u&&u.title),{hash:{},inverse:q.noop,fn:q.program(8,i,C),data:C});if(j||j===0){t+=j}j=s["if"].call(u,((j=((j=(u&&u.meta)),j==null||j===false?j:j.options)),j==null||j===false?j:j.content),{hash:{},inverse:q.program(16,y,C),fn:q.program(13,A,C),data:C});if(j||j===0){t+=j}t+='<div class="c-info__links">';j=(a=s.include||(u&&u.include),e={hash:{className:("c-info__link  c-info__link--chomp"),sep:(((j=((j=(u&&u.meta)),j==null||j===false?j:j.options)),j==null||j===false?j:j.moreAt))},data:C},a?a.call(u,"chomp_link",e):r.call(u,"include","chomp_link",e));if(j||j===0){t+=j}j=s["if"].call(u,((j=((j=(u&&u.meta)),j==null||j===false?j:j.options)),j==null||j===false?j:j.moreAt),{hash:{},inverse:q.noop,fn:q.program(19,v,C),data:C});if(j||j===0){t+=j}j=s["if"].call(u,((j=((j=(u&&u.meta)),j==null||j===false?j:j.options)),j==null||j===false?j:j.moreText),{hash:{},inverse:q.noop,fn:q.program(21,h,C),data:C});if(j||j===0){t+=j}t+="</div></div></div></div></div>";return t});this["DDG"]["templates"]["goodie_0_inputs"]=Handlebars.template(function(e,j,c,i,h){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);h=h||{};var g="",a,f="function",k=this;function b(p,o){var m="",n;m+='<h4 class="zci__subheader"><span class="zci__operation">';n=((n=((n=(p&&p.Answer)),n==null||n===false?n:n.operation)),typeof n===f?n.apply(p):n);if(n||n===0){m+=n}m+="</span></h4>";return m}g+='<div class="cw"><div class="zci__main  zci__main--detail"><div class="zci__body"><h3 class="zci__caption  zci__result">';a=((a=((a=(j&&j.Answer)),a==null||a===false?a:a.result)),typeof a===f?a.apply(j):a);if(a||a===0){g+=a}g+="</h3>";a=c["if"].call(j,((a=(j&&j.Answer)),a==null||a===false?a:a.operation),{hash:{},inverse:k.noop,fn:k.program(1,b,h),data:h});if(a||a===0){g+=a}g+="</div></div></div>";return g});this["DDG"]["templates"]["goodie_1_inputs"]=Handlebars.template(function(c,j,b,i,h){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);h=h||{};var f="",a,e="function",g=this.escapeExpression;f+='<div class="cw"><div class="zci__main  zci__main--detail"><div class="zci__body"><h3 class="zci__caption  zci__result">';a=((a=((a=(j&&j.Answer)),a==null||a===false?a:a.result)),typeof a===e?a.apply(j):a);if(a||a===0){f+=a}f+='</h3><h4 class="zci__subheader"><span class="zci__operation  tx-clr--lt2">';a=((a=((a=(j&&j.Answer)),a==null||a===false?a:a.operation)),typeof a===e?a.apply(j):a);if(a||a===0){f+=a}f+=':</span> <span class="zci__input">'+g(((a=((a=((a=(j&&j.Answer)),a==null||a===false?a:a.input)),a==null||a===false?a:a[0])),typeof a===e?a.apply(j):a))+"</span></h4></div></div></div>";return f});this["DDG"]["templates"]["goodie_2_inputs"]=Handlebars.template(function(c,j,b,i,h){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);h=h||{};var f="",a,e="function",g=this.escapeExpression;f+='<div class="cw"><div class="zci__main  zci__main--detail"><div class="zci__body"><h3 class="zci__caption  zci__result">';a=((a=((a=(j&&j.Answer)),a==null||a===false?a:a.result)),typeof a===e?a.apply(j):a);if(a||a===0){f+=a}f+='</h3><h4 class="zci__subheader"><span class="zci__operation  tx-clr--lt2">';a=((a=((a=(j&&j.Answer)),a==null||a===false?a:a.operation)),typeof a===e?a.apply(j):a);if(a||a===0){f+=a}f+='</span> <span class="zci__input">'+g(((a=((a=((a=(j&&j.Answer)),a==null||a===false?a:a.input)),a==null||a===false?a:a[0])),typeof a===e?a.apply(j):a))+'</span> <span class="tx-clr--lt2">&dash;</span> <span class="zci__input">'+g(((a=((a=((a=(j&&j.Answer)),a==null||a===false?a:a.input)),a==null||a===false?a:a[1])),typeof a===e?a.apply(j):a))+"</span></h4></div></div></div>";return f});this["DDG"]["templates"]["info_detail"]=Handlebars.template(function(f,s,q,j,x){this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,f.helpers);x=x||{};var r="",h,a,e,c="function",b=this.escapeExpression,o=this,p=q.helperMissing;function n(z,y){return"has-aux"}function m(C,B){var y="",z,A;y+='<div class="c-info__img-wrap  c-info__img-wrap--';z=q["if"].call(C,(C&&C.imageTile),{hash:{},inverse:o.program(6,i,B),fn:o.program(4,k,B),data:B});if(z||z===0){y+=z}y+='"><a href="';if(A=q.AbstractURL){z=A.call(C,{hash:{},data:B})}else{A=(C&&C.AbstractURL);z=typeof A===c?A.call(C,{hash:{},data:B}):A}if(z||z===0){y+=z}y+='" class="c-info__img-wrap__in"><img class="c-info__img  js-sized-img" src="';if(A=q.Image){z=A.call(C,{hash:{},data:B})}else{A=(C&&C.Image);z=typeof A===c?A.call(C,{hash:{},data:B}):A}if(z||z===0){y+=z}y+='" ';z=q["if"].call(C,(C&&C.imageLoadingSize),{hash:{},inverse:o.noop,fn:o.program(8,g,B),data:B});if(z||z===0){y+=z}y+=" /></a></div>";return y}function k(z,y){return"tile"}function i(z,y){return"clip"}function g(B,A){var y="",z;y+='style="width:'+b(((z=((z=(B&&B.imageLoadingSize)),z==null||z===false?z:z.width)),typeof z===c?z.apply(B):z))+"px;height:"+b(((z=((z=(B&&B.imageLoadingSize)),z==null||z===false?z:z.height)),typeof z===c?z.apply(B):z))+'px;" ';return y}function v(C,B){var z,A,y;z=(A=q.formatTitle||(C&&C.formatTitle),y={hash:{el:("h1"),className:("c-info__title"),href:((C&&C.AbstractURL)),ellipsis:(100)},data:B},A?A.call(C,(C&&C.Heading),y):p.call(C,"formatTitle",(C&&C.Heading),y));if(z||z===0){return z}else{return""}}function u(C,B){var z,A,y;z=(A=q.moreAt||(C&&C.moreAt),y={hash:{className:("c-info__link"),sourceOnlyMobile:(true)},data:B},A?A.call(C,(C&&C.meta),(C&&C.AbstractURL),y):p.call(C,"moreAt",(C&&C.meta),(C&&C.AbstractURL),y));if(z||z===0){return z}else{return""}}function t(D,C){var y="",A,B,z;y+='<a class="c-info__link  c-info__link--url" href="';if(B=q.FirstURL){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.FirstURL);A=typeof B===c?B.call(D,{hash:{},data:C}):B}y+=b(A)+'"><span class="sep  c-info__links__sep"></span>'+b((B=q.domain||(D&&D.domain),z={hash:{},data:C},B?B.call(D,(D&&D.FirstURL),z):p.call(D,"domain",(D&&D.FirstURL),z)))+"</a>";return y}r+='<div class="c-info--cw  cw ';h=q["if"].call(s,(s&&s.infoboxData),{hash:{},inverse:o.noop,fn:o.program(1,n,x),data:x});if(h||h===0){r+=h}r+='"><div class="zci__main  c-info"><div class="zci__body">';h=q["if"].call(s,(s&&s.Image),{hash:{},inverse:o.noop,fn:o.program(3,m,x),data:x});if(h||h===0){r+=h}r+='<div class="c-info__body">';h=q["if"].call(s,(s&&s.Heading),{hash:{},inverse:o.noop,fn:o.program(10,v,x),data:x});if(h||h===0){r+=h}r+='<div class="c-info__content chomp js-ellipsis">';if(a=q.Abstract){h=a.call(s,{hash:{},data:x})}else{a=(s&&s.Abstract);h=typeof a===c?a.call(s,{hash:{},data:x}):a}if(h||h===0){r+=h}r+='</div><div class="c-info__links">';h=(a=q.include||(s&&s.include),e={hash:{className:("c-info__link  c-info__link--chomp"),sep:((s&&s.meta))},data:x},a?a.call(s,"chomp_link",e):p.call(s,"include","chomp_link",e));if(h||h===0){r+=h}h=q["if"].call(s,(s&&s.meta),{hash:{},inverse:o.noop,fn:o.program(12,u,x),data:x});if(h||h===0){r+=h}h=q.each.call(s,(s&&s.Results),{hash:{to:("0")},inverse:o.noop,fn:o.program(14,t,x),data:x});if(h||h===0){r+=h}r+="</div></div></div></div></div>";return r});this["DDG"]["templates"]["list_detail"]=Handlebars.template(function(g,s,q,k,x){this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,g.helpers);x=x||{};var r="",h,a,e,c="function",b=this.escapeExpression,p=q.helperMissing,o=this;function n(C,B){var y="",z,A;y+='<h3 class="c-list__title">';if(A=q.title){z=A.call(C,{hash:{},data:B})}else{A=(C&&C.title);z=typeof A===c?A.call(C,{hash:{},data:B}):A}y+=b(z)+"</h3>";return y}function m(D,C){var y="",A,B,z;y+='<p class="c-list__sub">';A=(B=q.formatSubtitle||(D&&D.formatSubtitle),z={hash:{},data:C},B?B.call(D,(D&&D.subtitle),z):p.call(D,"formatSubtitle",(D&&D.subtitle),z));if(A||A===0){y+=A}y+="</p>";return y}function j(C,B){var z,A,y;z=(A=q.include||(C&&C.include),y={hash:{},data:B},A?A.call(C,((z=((z=(C&&C.meta)),z==null||z===false?z:z.options)),z==null||z===false?z:z.subtitle_content),y):p.call(C,"include",((z=((z=(C&&C.meta)),z==null||z===false?z:z.options)),z==null||z===false?z:z.subtitle_content),y));if(z||z===0){return z}else{return""}}function i(D,C){var y="",A,B,z;y+='<div class="c-list__content  chomp  js-chomp">';A=(B=q.include||(D&&D.include),z={hash:{},data:C},B?B.call(D,((A=((A=(D&&D.meta)),A==null||A===false?A:A.options)),A==null||A===false?A:A.content),z):p.call(D,"include",((A=((A=(D&&D.meta)),A==null||A===false?A:A.options)),A==null||A===false?A:A.content),z));if(A||A===0){y+=A}y+="</div>";return y}function f(B,A){var y="",z;y+='<div class="c-list__content  chomp  js-chomp"><ul class="c-list__items">';z=q.each.call(B,(B&&B.list),{hash:{},inverse:o.noop,fn:o.programWithDepth(10,v,A,B),data:A});if(z||z===0){y+=z}y+="</ul></div>";return y}function v(E,C,D){var y="",A,B,z;y+='<li class="c-list__item">';A=(B=q.include||(D&&D.include),z={hash:{},data:C},B?B.call(E,((A=((A=(D&&D.meta)),A==null||A===false?A:A.options)),A==null||A===false?A:A.list_content),z):p.call(E,"include",((A=((A=(D&&D.meta)),A==null||A===false?A:A.options)),A==null||A===false?A:A.list_content),z));if(A||A===0){y+=A}y+="</li>";return y}function u(C,B){var z,A,y;z=(A=q.moreAt||(C&&C.moreAt),y={hash:{className:("c-list__link")},data:B},A?A.call(C,(C&&C.meta),"none",y):p.call(C,"moreAt",(C&&C.meta),"none",y));if(z||z===0){return z}else{return""}}function t(D,C){var y="",A,B,z;y+='<span class="c-list__link--more  sep--before">';A=(B=q.formatSubtitle||(D&&D.formatSubtitle),z={hash:{},data:C},B?B.call(D,((A=((A=(D&&D.meta)),A==null||A===false?A:A.options)),A==null||A===false?A:A.moreText),z):p.call(D,"formatSubtitle",((A=((A=(D&&D.meta)),A==null||A===false?A:A.options)),A==null||A===false?A:A.moreText),z));if(A||A===0){y+=A}y+="</span>";return y}r+='<div class="cw"><div class="zci__main  c-list"><div class="zci__body">';h=q["if"].call(s,(s&&s.title),{hash:{},inverse:o.noop,fn:o.program(1,n,x),data:x});if(h||h===0){r+=h}h=q["if"].call(s,(s&&s.subtitle),{hash:{},inverse:o.noop,fn:o.program(3,m,x),data:x});if(h||h===0){r+=h}h=q["if"].call(s,((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.subtitle_content),{hash:{},inverse:o.noop,fn:o.program(5,j,x),data:x});if(h||h===0){r+=h}h=q["if"].call(s,((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.content),{hash:{},inverse:o.noop,fn:o.program(7,i,x),data:x});if(h||h===0){r+=h}h=q["if"].call(s,((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.list_content),{hash:{},inverse:o.noop,fn:o.program(9,f,x),data:x});if(h||h===0){r+=h}r+='<div class="c-list__links">';h=(a=q.include||(s&&s.include),e={hash:{className:("c-list__link"),sep:(((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.moreAt))},data:x},a?a.call(s,"chomp_link",e):p.call(s,"include","chomp_link",e));if(h||h===0){r+=h}h=q["if"].call(s,((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.moreAt),{hash:{},inverse:o.noop,fn:o.program(12,u,x),data:x});if(h||h===0){r+=h}h=q["if"].call(s,((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.moreText),{hash:{},inverse:o.noop,fn:o.program(14,t,x),data:x});if(h||h===0){r+=h}r+="</div></div></div></div>";return r});this["DDG"]["templates"]["lyrics_detail"]=Handlebars.template(function(f,m,e,j,i){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);i=i||{};var h="",b,g,o,k=e.helperMissing,n=this;function c(q,p){return"has-aux"}function a(t,s){var q,r,p;q=(r=e.include||(t&&t.include),p={hash:{},data:s},r?r.call(t,"infobox",p):k.call(t,"include","infobox",p));if(q||q===0){return q}else{return""}}h+='<div class="c-info--cw  cw ';b=e["if"].call(m,((b=(m&&m.data)),b==null||b===false?b:b[1]),{hash:{},inverse:n.noop,fn:n.program(1,c,i),data:i});if(b||b===0){h+=b}h+='"><div class="zci__main  c-info"><div class="zci__body  c-info__body">';b=(g=e.lyricsTitle||(m&&m.lyricsTitle),o={hash:{},data:i},g?g.call(m,(m&&m.title),(m&&m.url),o):k.call(m,"lyricsTitle",(m&&m.title),(m&&m.url),o));if(b||b===0){h+=b}h+='<div class="c-info__content  chomp js-ellipsis">';b=(g=e.lyricsAbstract||(m&&m.lyricsAbstract),o={hash:{},data:i},g?g.call(m,(m&&m["abstract"]),o):k.call(m,"lyricsAbstract",(m&&m["abstract"]),o));if(b||b===0){h+=b}h+='</div><div class="c-info__links">';b=(g=e.include||(m&&m.include),o={hash:{className:("c-info__link  c-info__link--chomp  sep--after")},data:i},g?g.call(m,"chomp_link",o):k.call(m,"include","chomp_link",o));if(b||b===0){h+=b}b=(g=e.moreAt||(m&&m.moreAt),o={hash:{className:("c-info__link")},data:i},g?g.call(m,(m&&m.url),(m&&m.source),o):k.call(m,"moreAt",(m&&m.url),(m&&m.source),o));if(b||b===0){h+=b}h+="</div></div></div></div>";b=e["if"].call(m,((b=((b=(m&&m.data)),b==null||b===false?b:b[1])),b==null||b===false?b:b.urlTitle),{hash:{},inverse:n.noop,fn:n.program(3,a,i),data:i});if(b||b===0){h+=b}return h});this["DDG"]["templates"]["nlp_detail"]=Handlebars.template(function(c,k,b,i,h){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);h=h||{};var g="",a,e,m,j=b.helperMissing,f="function";g+='<div class="c-info  c-info--body">';a=(e=b.formatTitle||(k&&k.formatTitle),m={hash:{el:("h1"),className:("c-info__title"),classNameSec:("c-info__title--long"),href:((k&&k.url))},data:h},e?e.call(k,(k&&k.heading),m):j.call(k,"formatTitle",(k&&k.heading),m));if(a||a===0){g+=a}g+='<div class="c-info__content chomp js-ellipsis">';if(e=b["abstract"]){a=e.call(k,{hash:{},data:h})}else{e=(k&&k["abstract"]);a=typeof e===f?e.call(k,{hash:{},data:h}):e}if(a||a===0){g+=a}g+='</div><div class="c-info__links">';a=(e=b.include||(k&&k.include),m={hash:{className:("c-info__link  c-info__link--chomp  sep--after")},data:h},e?e.call(k,"chomp_link",m):j.call(k,"include","chomp_link",m));if(a||a===0){g+=a}a=(e=b.moreAt||(k&&k.moreAt),m={hash:{className:("c-info__link"),sourceOnlyMobile:("true"),attributionAfter:("true")},data:h},e?e.call(k,(k&&k.meta),(k&&k.url),m):j.call(k,"moreAt",(k&&k.meta),(k&&k.url),m));if(a||a===0){g+=a}g+="</div></div>";return g});this["DDG"]["templates"]["places_detail"]=Handlebars.template(function(I,a,H,r,P){this.compilerInfo=[4,">= 1.0.0"];H=this.merge(H,I.helpers);P=P||{};var n="",s,j,o,G=H.helperMissing,M=this.escapeExpression,m="function",f=this,v=H.blockHelperMissing;function F(V,U){var Q="",S,T,R;Q+='<div class="tile__media__wrapper"><img src="'+M((T=H.imageProxy||(V&&V.imageProxy),R={hash:{},data:U},T?T.call(V,(V&&V.image),R):G.call(V,"imageProxy",(V&&V.image),R)))+'" alt="';if(T=H.title){S=T.call(V,{hash:{},data:U})}else{T=(V&&V.title);S=typeof T===m?T.call(V,{hash:{},data:U}):T}Q+=M(S)+'" class="tile__media__img" /></div>';return Q}function E(R,Q){return'<span class="ddgsi tile__media__no-img">@</span>'}function D(V,U){var Q="",S,T,R;Q+='<div class="tile__more-wrap">';S=(T=H.moreAt||(V&&V.moreAt),R={hash:{className:("tile__more-link"),iconClassName:("tile__favicon"),dynamicMoreAtText:(5)},data:U},T?T.call(V,(V&&V.url),((S=(V&&V.meta)),S==null||S===false?S:S.sourceName),R):G.call(V,"moreAt",(V&&V.url),((S=(V&&V.meta)),S==null||S===false?S:S.sourceName),R));if(S||S===0){Q+=S}Q+="</div>";return Q}function A(R,Q){return"has-hours js-tile-map-with-hours"}function u(U,T){var R,S,Q;R=(S=H.include||(U&&U.include),Q={hash:{},data:T},S?S.call(U,((R=((R=(U&&U.meta)),R==null||R===false?R:R.options)),R==null||R===false?R:R.detail_rating),Q):G.call(U,"include",((R=((R=(U&&U.meta)),R==null||R===false?R:R.options)),R==null||R===false?R:R.detail_rating),Q));if(R||R===0){return R}else{return""}}function z(T,S){var Q="",R;R=H["if"].call(T,(T&&T.rating),{hash:{},inverse:f.noop,fn:f.program(12,x,S),data:S});if(R||R===0){Q+=R}R=H["if"].call(T,(T&&T.reviews),{hash:{},inverse:f.noop,fn:f.program(14,t,S),data:S});if(R||R===0){Q+=R}return Q}function x(U,T){var R,S,Q;R=(S=H.starRating||(U&&U.starRating),Q={hash:{},data:T},S?S.call(U,(U&&U.rating),Q):G.call(U,"starRating",(U&&U.rating),Q));if(R||R===0){return R}else{return""}}function t(U,T){var R,S,Q;R=(S=H.reviewCount||(U&&U.reviewCount),Q={hash:{},data:T},S?S.call(U,(U&&U.reviews),(U&&U.url),Q):G.call(U,"reviewCount",(U&&U.reviews),(U&&U.url),Q));if(R||R===0){return R}else{return""}}function q(R,Q){return'<span class="sep"></span>'}function p(V,U){var Q="",S,T,R;Q+='<span class="tile__price">';S=(T=H.priceSymbols||(V&&V.priceSymbols),R={hash:{},data:U},T?T.call(V,(V&&V.price),4,R):G.call(V,"priceSymbols",(V&&V.price),4,R));if(S||S===0){Q+=S}Q+="</span>";return Q}function k(T,S){var Q="",R;Q+='<p class="tile__sub">';R=H.each.call(T,(T&&T.address_lines),{hash:{},inverse:f.noop,fn:f.program(21,i,S),data:S});if(R||R===0){Q+=R}Q+="</p>";return Q}function i(S,R){var Q="";Q+=M((typeof S===m?S.apply(S):S))+"<br />";return Q}function h(S,R){var Q;Q=H["if"].call(S,(S&&S.address),{hash:{},inverse:f.noop,fn:f.program(24,g,R),data:R});if(Q||Q===0){return Q}else{return""}}function g(U,T){var Q="",R,S;Q+='<p class="tile__sub">';if(S=H.address){R=S.call(U,{hash:{},data:T})}else{S=(U&&U.address);R=typeof S===m?S.call(U,{hash:{},data:T}):S}Q+=M(R)+"</p>";return Q}function e(U,T){var Q="",R,S;Q+='<a class="tile__phone" href="tel:';if(S=H.phone){R=S.call(U,{hash:{},data:T})}else{S=(U&&U.phone);R=typeof S===m?S.call(U,{hash:{},data:T}):S}Q+=M(R)+'">';if(S=H.phone){R=S.call(U,{hash:{},data:T})}else{S=(U&&U.phone);R=typeof S===m?S.call(U,{hash:{},data:T}):S}Q+=M(R)+"</a>";return Q}function c(V,U){var Q="",S,T,R;Q+='<div class="tile__hours-today"><span class="tile__hours-today__label">';S=(T=H.l||(V&&V.l),R={hash:{},data:U},T?T.call(V,"Today",R):G.call(V,"l","Today",R));if(S||S===0){Q+=S}Q+=':</span><a href="#" class="tile__hours-today__hours js-map-hours-expand ';S=H["if"].call(V,(V&&V.hoursToday),{hash:{},inverse:f.program(29,b,U),fn:f.noop,data:U});if(S||S===0){Q+=S}Q+='">';S=H["if"].call(V,(V&&V.hoursToday),{hash:{},inverse:f.program(33,N,U),fn:f.program(31,O,U),data:U});if(S||S===0){Q+=S}Q+="</a></div>";return Q}function b(R,Q){return"hours-closed"}function O(T,S){var Q,R;if(R=H.hoursToday){Q=R.call(T,{hash:{},data:S})}else{R=(T&&T.hoursToday);Q=typeof R===m?R.call(T,{hash:{},data:S}):R}return M(Q)}function N(U,T){var R,S,Q;R=(S=H.l||(U&&U.l),Q={hash:{},data:T},S?S.call(U,"Closed",Q):G.call(U,"l","Closed",Q));if(R||R===0){return R}else{return""}}function L(R,Q){return"tile__actions--small"}function K(V,U){var Q="",S,T,R;Q+='<a class="tile__actions__btn tile__call btn js-tel-link" href="tel:';if(T=H.phone){S=T.call(V,{hash:{},data:U})}else{T=(V&&V.phone);S=typeof T===m?T.call(V,{hash:{},data:U}):T}Q+=M(S)+'">';S=(T=H.lp||(V&&V.lp),R={hash:{},data:U},T?T.call(V,"maps_places","Call",R):G.call(V,"lp","maps_places","Call",R));if(S||S===0){Q+=S}Q+="</a>";return Q}function J(V,U){var Q="",S,T,R;Q+='<div class="tile__directions js-directions-container"><a class="tile__actions__btn btn js-directions-link" href="';if(T=H.directions){S=T.call(V,{hash:{},data:U})}else{T=(V&&V.directions);S=typeof T===m?T.call(V,{hash:{},data:U}):T}Q+=M(S)+'">';S=(T=H.lp||(V&&V.lp),R={hash:{},data:U},T?T.call(V,"maps_places","Directions",R):G.call(V,"lp","maps_places","Directions",R));if(S||S===0){Q+=S}Q+="</a></div>";return Q}function C(V,U){var Q="",S,T,R;Q+='<div class="tile__hours-full"><span class="tile__hours__close  ddgsi  js-map-hours-close">X</span><table class="tile__hours-full__table">';R={hash:{},inverse:f.noop,fn:f.program(42,B,U),data:U};if(T=H.hours){S=T.call(V,R)}else{T=(V&&V.hours);S=typeof T===m?T.call(V,R):T}if(!H.hours){S=v.call(V,S,{hash:{},inverse:f.noop,fn:f.program(42,B,U),data:U})}if(S||S===0){Q+=S}Q+="</table></div>";return Q}function B(U,T){var Q="",R,S;Q+="<tr ";R=H["if"].call(U,(U&&U.isToday),{hash:{},inverse:f.noop,fn:f.program(43,y,T),data:T});if(R||R===0){Q+=R}Q+='><td class="tile__hours-full__day">';if(S=H.day){R=S.call(U,{hash:{},data:T})}else{S=(U&&U.day);R=typeof S===m?S.call(U,{hash:{},data:T}):S}Q+=M(R)+':</td><td class="tile__hours-full__hours">';if(S=H.hours){R=S.call(U,{hash:{},data:T})}else{S=(U&&U.hours);R=typeof S===m?S.call(U,{hash:{},data:T}):S}Q+=M(R)+"</td></tr>";return Q}function y(R,Q){return'class="tile__hours-full__current"'}n+='<div class="zci__main  zci__main--single-loc"><div class="tile--map  js-tile-map"><div class="tile__body"><div class="tile--map__side"><a class="tile__media" href="';if(j=H.url){s=j.call(a,{hash:{},data:P})}else{j=(a&&a.url);s=typeof j===m?j.call(a,{hash:{},data:P}):j}if(s||s===0){n+=s}n+='">';s=H["if"].call(a,(a&&a.image),{hash:{},inverse:f.program(3,E,P),fn:f.program(1,F,P),data:P});if(s||s===0){n+=s}n+="</a>";s=(j=H.and||(a&&a.and),o={hash:{},inverse:f.noop,fn:f.program(5,D,P),data:P},j?j.call(a,((s=(a&&a.meta)),s==null||s===false?s:s.sourceName),(a&&a.url),o):G.call(a,"and",((s=(a&&a.meta)),s==null||s===false?s:s.sourceName),(a&&a.url),o));if(s||s===0){n+=s}n+='</div><h4 class="tile__title"><a href="';if(j=H.url){s=j.call(a,{hash:{},data:P})}else{j=(a&&a.url);s=typeof j===m?j.call(a,{hash:{},data:P}):j}if(s||s===0){n+=s}n+='">';if(j=H.name){s=j.call(a,{hash:{},data:P})}else{j=(a&&a.name);s=typeof j===m?j.call(a,{hash:{},data:P}):j}n+=M(s)+'</a></h4><div class="tile--map__main ';s=H["if"].call(a,(a&&a.hours),{hash:{},inverse:f.noop,fn:f.program(7,A,P),data:P});if(s||s===0){n+=s}n+='"><div class="tile--map__main__not-hours"><div class="tile__rating-and-price"><div class="tile__rating">';s=H["if"].call(a,((s=((s=(a&&a.meta)),s==null||s===false?s:s.options)),s==null||s===false?s:s.detail_rating),{hash:{},inverse:f.program(11,z,P),fn:f.program(9,u,P),data:P});if(s||s===0){n+=s}n+="</div>";s=(j=H.and||(a&&a.and),o={hash:{},inverse:f.noop,fn:f.program(16,q,P),data:P},j?j.call(a,(a&&a.rating),(a&&a.price),o):G.call(a,"and",(a&&a.rating),(a&&a.price),o));if(s||s===0){n+=s}s=H["if"].call(a,(a&&a.price),{hash:{},inverse:f.noop,fn:f.program(18,p,P),data:P});if(s||s===0){n+=s}n+="</div>";s=H["if"].call(a,(a&&a.address_lines),{hash:{},inverse:f.program(23,h,P),fn:f.program(20,k,P),data:P});if(s||s===0){n+=s}s=H["if"].call(a,(a&&a.phone),{hash:{},inverse:f.noop,fn:f.program(26,e,P),data:P});if(s||s===0){n+=s}s=H["if"].call(a,(a&&a.hours),{hash:{},inverse:f.noop,fn:f.program(28,c,P),data:P});if(s||s===0){n+=s}n+='<div class="tile__actions ';s=H["if"].call(a,(a&&a.compressActions),{hash:{},inverse:f.noop,fn:f.program(35,L,P),data:P});if(s||s===0){n+=s}n+='">';s=H["if"].call(a,(a&&a.canMakePhoneCalls),{hash:{},inverse:f.noop,fn:f.program(37,K,P),data:P});if(s||s===0){n+=s}s=H["if"].call(a,(a&&a.showDirections),{hash:{},inverse:f.noop,fn:f.program(39,J,P),data:P});if(s||s===0){n+=s}n+="</div></div>";s=H["if"].call(a,(a&&a.hours),{hash:{},inverse:f.noop,fn:f.program(41,C,P),data:P});if(s||s===0){n+=s}n+="</div></div></div>";return n});this["DDG"]["templates"]["products_detail"]=Handlebars.template(function(g,t,r,m,A){this.compilerInfo=[4,">= 1.0.0"];r=this.merge(r,g.helpers);A=A||{};var s="",h,a,e,c="function",b=this.escapeExpression,q=r.helperMissing,p=this;function o(G,F){var B="",D,E,C;B+='<div class="c-product__media '+b(((D=((D=((D=(G&&G.meta)),D==null||D===false?D:D.elClass)),D==null||D===false?D:D.productMedia)),typeof D===c?D.apply(G):D))+'"><img class="c-product__media__img '+b(((D=((D=((D=(G&&G.meta)),D==null||D===false?D:D.elClass)),D==null||D===false?D:D.productMediaImg)),typeof D===c?D.apply(G):D))+'" src="'+b((E=r.imageProxy||(G&&G.imageProxy),C={hash:{},data:F},E?E.call(G,(G&&G.img),C):q.call(G,"imageProxy",(G&&G.img),C)))+'" /></div>';return B}function n(F,E){var C,D,B;C=(D=r.include||(F&&F.include),B={hash:{},data:E},D?D.call(F,((C=((C=(F&&F.meta)),C==null||C===false?C:C.options)),C==null||C===false?C:C.subtitle_content),B):q.call(F,"include",((C=((C=(F&&F.meta)),C==null||C===false?C:C.options)),C==null||C===false?C:C.subtitle_content),B));if(C||C===0){return C}else{return""}}function k(G,F){var B="",D,E,C;if(E=r.subtitle){D=E.call(G,{hash:{},data:F})}else{E=(G&&G.subtitle);D=typeof E===c?E.call(G,{hash:{},data:F}):E}B+=b(D);D=r["if"].call(G,((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.rating),{hash:{},inverse:p.noop,fn:p.program(6,j,F),data:F});if(D||D===0){B+=D}D=(E=r.and||(G&&G.and),C={hash:{},inverse:p.noop,fn:p.program(9,f,F),data:F},E?E.call(G,((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.price),((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.rating),(G&&G.price),C):q.call(G,"and",((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.price),((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.rating),(G&&G.price),C));if(D||D===0){B+=D}D=(E=r.and||(G&&G.and),C={hash:{},inverse:p.noop,fn:p.program(11,z,F),data:F},E?E.call(G,((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.price),(G&&G.price),C):q.call(G,"and",((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.price),(G&&G.price),C));if(D||D===0){B+=D}D=(E=r.and||(G&&G.and),C={hash:{},inverse:p.noop,fn:p.program(9,f,F),data:F},E?E.call(G,((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.price),((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.brand),(G&&G.price),(G&&G.brand),C):q.call(G,"and",((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.price),((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.brand),(G&&G.price),(G&&G.brand),C));if(D||D===0){B+=D}D=(E=r.and||(G&&G.and),C={hash:{},inverse:p.noop,fn:p.program(9,f,F),data:F},E?E.call(G,((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.rating),((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.brand),(G&&G.brand),C):q.call(G,"and",((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.rating),((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.brand),(G&&G.brand),C));if(D||D===0){B+=D}D=(E=r.and||(G&&G.and),C={hash:{},inverse:p.noop,fn:p.program(13,y,F),data:F},E?E.call(G,((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.brand),(G&&G.brand),C):q.call(G,"and",((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.brand),(G&&G.brand),C));if(D||D===0){B+=D}return B}function j(G,F){var B="",D,E,C;B+='<span class="c-product__rating ';D=r["if"].call(G,(G&&G.subtitle),{hash:{},inverse:p.noop,fn:p.program(7,i,F),data:F});if(D||D===0){B+=D}B+='">';D=(E=r.starsAndReviews||(G&&G.starsAndReviews),C={hash:{},data:F},E?E.call(G,(G&&G.rating),(G&&G.reviewCount),(G&&G.url),((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.hideReviewText),C):q.call(G,"starsAndReviews",(G&&G.rating),(G&&G.reviewCount),(G&&G.url),((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.hideReviewText),C));if(D||D===0){B+=D}B+="</span>";return B}function i(C,B){return"sep--before"}function f(C,B){return'<span class="sep  c-product__sep"></span>'}function z(F,E){var B="",C,D;B+='<span class="c-product__price  price  tx-clr--dk2">';if(D=r.price){C=D.call(F,{hash:{},data:E})}else{D=(F&&F.price);C=typeof D===c?D.call(F,{hash:{},data:E}):D}B+=b(C)+"</span>";return B}function y(G,F){var B="",D,E,C;B+='<span class="c-product__brand">';D=(E=r.lp||(G&&G.lp),C={hash:{},data:F},E?E.call(G,"made_by","by %s",(G&&G.brand),C):q.call(G,"lp","made_by","by %s",(G&&G.brand),C));if(D||D===0){B+=D}B+="</span>";return B}function x(F,E){var C,D,B;C=(D=r.include||(F&&F.include),B={hash:{},data:E},D?D.call(F,((C=((C=(F&&F.meta)),C==null||C===false?C:C.options)),C==null||C===false?C:C.description_content),B):q.call(F,"include",((C=((C=(F&&F.meta)),C==null||C===false?C:C.options)),C==null||C===false?C:C.description_content),B));if(C||C===0){return C}else{return""}}function v(F,E){var C,D,B;C=(D=r.ellipsis||(F&&F.ellipsis),B={hash:{},data:E},D?D.call(F,(F&&F["abstract"]),400,B):q.call(F,"ellipsis",(F&&F["abstract"]),400,B));if(C||C===0){return C}else{return""}}function u(G,F){var B="",D,E,C;B+='<div class="c-product__callout '+b(((D=((D=((D=(G&&G.meta)),D==null||D===false?D:D.elClass)),D==null||D===false?D:D.productCallout)),typeof D===c?D.apply(G):D))+'">';D=(E=r.include||(G&&G.include),C={hash:{},data:F},E?E.call(G,((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.buy),C):q.call(G,"include",((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.buy),C));if(D||D===0){B+=D}B+="</div>";return B}s+='<div class="c-product"><div class="c-product__pane">';h=r["if"].call(t,(t&&t.img),{hash:{},inverse:p.noop,fn:p.program(1,o,A),data:A});if(h||h===0){s+=h}s+='<div class="c-product__body-wrap"><div class="c-product__body-content"><div class="c-product__body  c-product__body--pri  r-border-box">';h=(a=r.formatTitle||(t&&t.formatTitle),e={hash:{el:("h5"),className:("c-product__title"),classNameSec:(((h=((h=(t&&t.meta)),h==null||h===false?h:h.elClass)),h==null||h===false?h:h.productTitle)),noSub:("true"),ellipsis:(120),href:((t&&t.url))},data:A},a?a.call(t,(t&&t.heading),e):q.call(t,"formatTitle",(t&&t.heading),e));if(h||h===0){s+=h}s+='<p class="c-product__subtitle  '+b(((h=((h=((h=(t&&t.meta)),h==null||h===false?h:h.elClass)),h==null||h===false?h:h.productSub)),typeof h===c?h.apply(t):h))+'">';h=r["if"].call(t,((h=((h=(t&&t.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.subtitle_content),{hash:{},inverse:p.program(5,k,A),fn:p.program(3,n,A),data:A});if(h||h===0){s+=h}s+='</p></div><div class="c-product__body  c-product__body--sec"><div class="c-product__desc '+b(((h=((h=((h=(t&&t.meta)),h==null||h===false?h:h.elClass)),h==null||h===false?h:h.productDesc)),typeof h===c?h.apply(t):h))+'">';h=r["if"].call(t,((h=((h=(t&&t.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.description_content),{hash:{},inverse:p.program(17,v,A),fn:p.program(15,x,A),data:A});if(h||h===0){s+=h}s+="</div>";h=r["if"].call(t,((h=((h=(t&&t.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.buy),{hash:{},inverse:p.noop,fn:p.program(19,u,A),data:A});if(h||h===0){s+=h}s+="</div></div></div></div></div>";return s});this["DDG"]["templates"]["spice_detail"]=Handlebars.template(function(c,j,b,h,g){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);g=g||{};var f="",a,e,k,i=b.helperMissing;f+='<div class="cw"><div class="zci__main  zci__main--detail"> <div class="zci__body">';a=(e=b.include||(j&&j.include),k={hash:{},data:g},e?e.call(j,(j&&j.content),k):i.call(j,"include",(j&&j.content),k));if(a||a===0){f+=a}a=(e=b.moreAt||(j&&j.moreAt),k={hash:{className:("zci__more-at")},data:g},e?e.call(j,(j&&j.source_url),(j&&j.source_name),k):i.call(j,"moreAt",(j&&j.source_url),(j&&j.source_name),k));if(a||a===0){f+=a}f+="</div></div></div>";return f});this["DDG"]["templates"]["text_detail"]=Handlebars.template(function(f,t,r,m,A){this.compilerInfo=[4,">= 1.0.0"];r=this.merge(r,f.helpers);A=A||{};var s="",h,q=r.helperMissing,a=this.escapeExpression,b="function",p=this;function o(D,C){return"has-aux"}function n(G,F){var C="",E,D;C+='<div class="c-base__img-wrap"><img class="c-base__img" src="'+a((E=r.imageProxy||(G&&G.imageProxy),D={hash:{},data:F},E?E.call(G,(G&&G.image),D):q.call(G,"imageProxy",(G&&G.image),D)))+'"></div>';return C}function k(G,F){var D,E,C;D=(E=r.include||(G&&G.include),C={hash:{},data:F},E?E.call(G,((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.title_content),C):q.call(G,"include",((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.title_content),C));if(D||D===0){return D}else{return""}}function j(E,D){var C;C=r["if"].call(E,(E&&E.title),{hash:{},inverse:p.noop,fn:p.program(8,g,D),data:D});if(C||C===0){return C}else{return""}}function g(G,F){var C="",D,E;C+='<h3 class="c-base__title">';if(E=r.title){D=E.call(G,{hash:{},data:F})}else{E=(G&&G.title);D=typeof E===b?E.call(G,{hash:{},data:F}):E}C+=a(D)+"</h3>";return C}function B(G,F){var D,E,C;D=(E=r.include||(G&&G.include),C={hash:{},data:F},E?E.call(G,((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.subtitle_content),C):q.call(G,"include",((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.subtitle_content),C));if(D||D===0){return D}else{return""}}function z(H,G){var C="",E,F,D;C+='<h4 class="c-base__sub">';E=(F=r.formatSubtitle||(H&&H.formatSubtitle),D={hash:{},data:G},F?F.call(H,(H&&H.subtitle),D):q.call(H,"formatSubtitle",(H&&H.subtitle),D));if(E||E===0){C+=E}C+="</h4>";return C}function y(H,G){var C="",E,F,D;C+='<div class="c-base__content ';E=r["if"].call(H,((E=((E=(H&&H.meta)),E==null||E===false?E:E.options)),E==null||E===false?E:E.chompContent),{hash:{},inverse:p.noop,fn:p.program(15,x,G),data:G});if(E||E===0){C+=E}C+='">';E=(F=r.include||(H&&H.include),D={hash:{},data:G},F?F.call(H,((E=((E=(H&&H.meta)),E==null||E===false?E:E.options)),E==null||E===false?E:E.content),D):q.call(H,"include",((E=((E=(H&&H.meta)),E==null||E===false?E:E.options)),E==null||E===false?E:E.content),D));if(E||E===0){C+=E}C+="</div>";return C}function x(D,C){return"chomp js-ellipsis"}function v(E,D){var C;C=r["if"].call(E,(E&&E.description),{hash:{},inverse:p.noop,fn:p.program(18,u,D),data:D});if(C||C===0){return C}else{return""}}function u(G,F){var C="",D,E;C+='<div class="c-base__content ';D=r["if"].call(G,((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.chompContent),{hash:{},inverse:p.noop,fn:p.program(15,x,F),data:F});if(D||D===0){C+=D}C+='">';if(E=r.description){D=E.call(G,{hash:{},data:F})}else{E=(G&&G.description);D=typeof E===b?E.call(G,{hash:{},data:F}):E}C+=a(D)+"</div>";return C}function i(G,F){var D,E,C;D=(E=r.include||(G&&G.include),C={hash:{className:("c-base__link"),sep:(((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.moreAt))},data:F},E?E.call(G,"chomp_link",C):q.call(G,"include","chomp_link",C));if(D||D===0){return D}else{return""}}function e(G,F){var D,E,C;D=(E=r.moreAt||(G&&G.moreAt),C={hash:{className:("c-base__link")},data:F},E?E.call(G,(G&&G.meta),"none",C):q.call(G,"moreAt",(G&&G.meta),"none",C));if(D||D===0){return D}else{return""}}function c(H,G){var C="",E,F,D;C+='<span class="c-base__link--more  sep--before">';E=(F=r.formatSubtitle||(H&&H.formatSubtitle),D={hash:{},data:G},F?F.call(H,((E=((E=(H&&H.meta)),E==null||E===false?E:E.options)),E==null||E===false?E:E.moreText),D):q.call(H,"formatSubtitle",((E=((E=(H&&H.meta)),E==null||E===false?E:E.options)),E==null||E===false?E:E.moreText),D));if(E||E===0){C+=E}C+="</span>";return C}s+='<div class="cw ';h=r["if"].call(t,(t&&t.infoboxData),{hash:{},inverse:p.noop,fn:p.program(1,o,A),data:A});if(h||h===0){s+=h}s+='"><div class="zci__main  c-base"><div class="zci__body">';h=r["if"].call(t,(t&&t.image),{hash:{},inverse:p.noop,fn:p.program(3,n,A),data:A});if(h||h===0){s+=h}h=r["if"].call(t,((h=((h=(t&&t.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.title_content),{hash:{},inverse:p.program(7,j,A),fn:p.program(5,k,A),data:A});if(h||h===0){s+=h}h=r["if"].call(t,((h=((h=(t&&t.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.subtitle_content),{hash:{},inverse:p.noop,fn:p.program(10,B,A),data:A});if(h||h===0){s+=h}h=r["if"].call(t,(t&&t.subtitle),{hash:{},inverse:p.noop,fn:p.program(12,z,A),data:A});if(h||h===0){s+=h}h=r["if"].call(t,((h=((h=(t&&t.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.content),{hash:{},inverse:p.program(17,v,A),fn:p.program(14,y,A),data:A});if(h||h===0){s+=h}s+='<div class="c-base__links">';h=r["if"].call(t,((h=((h=(t&&t.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.chompContent),{hash:{},inverse:p.noop,fn:p.program(20,i,A),data:A});if(h||h===0){s+=h}h=r["if"].call(t,((h=((h=(t&&t.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.moreAt),{hash:{},inverse:p.noop,fn:p.program(22,e,A),data:A});if(h||h===0){s+=h}h=r["if"].call(t,((h=((h=(t&&t.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.moreText),{hash:{},inverse:p.noop,fn:p.program(24,c,A),data:A});if(h||h===0){s+=h}s+="</div></div></div>";return s});this["DDG"]["templates"]["audio_item"]=Handlebars.template(function(g,s,q,k,t){this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,g.helpers);t=t||{};var r="",h,a,e,c="function",b=this.escapeExpression,p=q.helperMissing,o=this;function n(y,x){var u,v;if(v=q.elClass){u=v.call(y,{hash:{},data:x})}else{v=(y&&y.elClass);u=typeof v===c?v.call(y,{hash:{},data:x}):v}return b(u)}function m(x,v){var u;return b(((u=((u=((u=(x&&x.meta)),u==null||u===false?u:u.elClass)),u==null||u===false?u:u.tile)),typeof u===c?u.apply(x):u))}function j(A,z){var u="",x,y,v;u+='<img class="tile__media__img js-lazyload" src="" data-src="';x=(y=q.imageProxy||(A&&A.imageProxy),v={hash:{},data:z},y?y.call(A,(A&&A.image),v):p.call(A,"imageProxy",(A&&A.image),v));if(x||x===0){u+=x}u+='" />';return u}function i(v,u){return'<div class="tile__media__no-artwork ddgsi">♫</div>'}function f(A,z){var u="",x,y,v;u+='<div class="tile__footer">';x=(y=q.include||(A&&A.include),v={hash:{},data:z},y?y.call(A,((x=((x=(A&&A.meta)),x==null||x===false?x:x.options)),x==null||x===false?x:x.footer),v):p.call(A,"include",((x=((x=(A&&A.meta)),x==null||x===false?x:x.options)),x==null||x===false?x:x.footer),v));if(x||x===0){u+=x}u+="</div>";return u}r+='<div class="tile  tile--c--n  tile--audio  tile--no-highlight ';h=q["if"].call(s,(s&&s.elClass),{hash:{},inverse:o.program(3,m,t),fn:o.program(1,n,t),data:t});if(h||h===0){r+=h}r+='"><div class="tile__media">';h=q["if"].call(s,(s&&s.image),{hash:{},inverse:o.program(7,i,t),fn:o.program(5,j,t),data:t});if(h||h===0){r+=h}r+='<div class="audio-controls"><div class="audio-controls__progress"><div class="audio-controls__progress-bg  full100"><span class="rotated-fill"></span><span class="full-fill"></span></div><div class="audio-controls__progress-loading"><span class="rotated-fill"></span><span class="full-fill"></span></div><div class="audio-controls__progress-playback"><span class="rotated-fill"></span><span class="full-fill"></span></div></div><span class="audio-controls__action  ddgsi">►</span><span class="audio-controls__time"></span></div></div><div class="tile__body"><h4 class="tile__title"><a href="';if(a=q.url){h=a.call(s,{hash:{},data:t})}else{a=(s&&s.url);h=typeof a===c?a.call(s,{hash:{},data:t}):a}r+=b(h)+'" title="';if(a=q.title){h=a.call(s,{hash:{},data:t})}else{a=(s&&s.title);h=typeof a===c?a.call(s,{hash:{},data:t}):a}r+=b(h)+'">'+b((a=q.ellipsis||(s&&s.ellipsis),e={hash:{},data:t},a?a.call(s,(s&&s.title),45,e):p.call(s,"ellipsis",(s&&s.title),45,e)))+"</a></h4>";h=q["if"].call(s,((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.footer),{hash:{},inverse:o.noop,fn:o.program(9,f,t),data:t});if(h||h===0){r+=h}r+="</div></div>";return r});this["DDG"]["templates"]["base_expanding_item"]=Handlebars.template(function(f,o,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,r,h="function",j=this.escapeExpression,q=this,n=e.helperMissing;function c(v,u){var s,t;if(t=e.elClass){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.elClass);s=typeof t===h?t.call(v,{hash:{},data:u}):t}return j(s)}function a(u,t){var s;return j(((s=((s=((s=(u&&u.meta)),s==null||s===false?s:s.elClass)),s==null||s===false?s:s.tile)),typeof s===h?s.apply(u):s))}function p(v,u){var s="",t;s+='<span class="tile__expand-icon  ddgsi  '+j(((t=((t=((t=(v&&v.meta)),t==null||t===false?t:t.elClass)),t==null||t===false?t:t.tileExpand)),typeof t===h?t.apply(v):t))+'"></span>';return s}i+='<div class="tile  tile--e  tile--'+j(((b=((b=(o&&o.meta)),b==null||b===false?b:b.id)),typeof b===h?b.apply(o):b))+"  tile--no-highlight  tile--c--whole  ";b=e["if"].call(o,(o&&o.elClass),{hash:{},inverse:q.program(3,a,k),fn:q.program(1,c,k),data:k});if(b||b===0){i+=b}i+='">';b=(g=e.include||(o&&o.include),r={hash:{},data:k},g?g.call(o,((b=((b=(o&&o.meta)),b==null||b===false?b:b.options)),b==null||b===false?b:b.content),r):n.call(o,"include",((b=((b=(o&&o.meta)),b==null||b===false?b:b.options)),b==null||b===false?b:b.content),r));if(b||b===0){i+=b}b=e["if"].call(o,(o&&o.canExpand),{hash:{},inverse:q.noop,fn:q.program(5,p,k),data:k});if(b||b===0){i+=b}i+="</div>";return i});this["DDG"]["templates"]["base_flipping_item"]=Handlebars.template(function(f,o,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,q,h="function",j=this.escapeExpression,p=this,n=e.helperMissing;function c(u,t){var r,s;if(s=e.elClass){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.elClass);r=typeof s===h?s.call(u,{hash:{},data:t}):s}return j(r)}function a(t,s){var r;return j(((r=((r=((r=(t&&t.meta)),r==null||r===false?r:r.elClass)),r==null||r===false?r:r.tile)),typeof r===h?r.apply(t):r))}i+='<div class="tile  tile--f  tile--'+j(((b=((b=(o&&o.meta)),b==null||b===false?b:b.id)),typeof b===h?b.apply(o):b))+"  ";b=e["if"].call(o,(o&&o.elClass),{hash:{},inverse:p.program(3,a,k),fn:p.program(1,c,k),data:k});if(b||b===0){i+=b}i+='"><div class="tile--f__main '+j(((b=((b=((b=(o&&o.meta)),b==null||b===false?b:b.elClass)),b==null||b===false?b:b.tileFront)),typeof b===h?b.apply(o):b))+'">';b=(g=e.include||(o&&o.include),q={hash:{},data:k},g?g.call(o,((b=((b=(o&&o.meta)),b==null||b===false?b:b.options)),b==null||b===false?b:b.front_content),q):n.call(o,"include",((b=((b=(o&&o.meta)),b==null||b===false?b:b.options)),b==null||b===false?b:b.front_content),q));if(b||b===0){i+=b}i+='</div><div class="tile--f__alt '+j(((b=((b=((b=(o&&o.meta)),b==null||b===false?b:b.elClass)),b==null||b===false?b:b.tileBack)),typeof b===h?b.apply(o):b))+'">';b=(g=e.include||(o&&o.include),q={hash:{},data:k},g?g.call(o,((b=((b=(o&&o.meta)),b==null||b===false?b:b.options)),b==null||b===false?b:b.back_content),q):n.call(o,"include",((b=((b=(o&&o.meta)),b==null||b===false?b:b.options)),b==null||b===false?b:b.back_content),q));if(b||b===0){i+=b}i+="</div></div>";return i});this["DDG"]["templates"]["base_item"]=Handlebars.template(function(c,q,o,h,s){this.compilerInfo=[4,">= 1.0.0"];o=this.merge(o,c.helpers);s=s||{};var p="",f,b="function",a=this.escapeExpression,m=this,n=o.helperMissing;function k(y,x){var u,v;if(v=o.elClass){u=v.call(y,{hash:{},data:x})}else{v=(y&&y.elClass);u=typeof v===b?v.call(y,{hash:{},data:x}):v}return a(u)}function j(x,v){var u;u=o["if"].call(x,((u=((u=(x&&x.meta)),u==null||u===false?u:u.elClass)),u==null||u===false?u:u.tile),{hash:{},inverse:m.program(6,g,v),fn:m.program(4,i,v),data:v});if(u||u===0){return u}else{return""}}function i(x,v){var u;return a(((u=((u=((u=(x&&x.meta)),u==null||u===false?u:u.elClass)),u==null||u===false?u:u.tile)),typeof u===b?u.apply(x):u))}function g(v,u){return"tile--c"}function e(z,y){var u="",v,x;u+='data-link="';if(x=o.url){v=x.call(z,{hash:{},data:y})}else{x=(z&&z.url);v=typeof x===b?x.call(z,{hash:{},data:y}):x}u+=a(v)+'"';return u}function t(z,y){var v,x,u;v=(x=o.include||(z&&z.include),u={hash:{},data:y},x?x.call(z,((v=((v=(z&&z.meta)),v==null||v===false?v:v.options)),v==null||v===false?v:v.tile_content),u):n.call(z,"include",((v=((v=(z&&z.meta)),v==null||v===false?v:v.options)),v==null||v===false?v:v.tile_content),u));if(v||v===0){return v}else{return""}}function r(z,y){var v,x,u;v=(x=o.include||(z&&z.include),u={hash:{},data:y},x?x.call(z,((v=((v=(z&&z.meta)),v==null||v===false?v:v.options)),v==null||v===false?v:v.content),u):n.call(z,"include",((v=((v=(z&&z.meta)),v==null||v===false?v:v.options)),v==null||v===false?v:v.content),u));if(v||v===0){return v}else{return""}}p+='<div class="tile  tile--b ';f=o["if"].call(q,(q&&q.elClass),{hash:{},inverse:m.program(3,j,s),fn:m.program(1,k,s),data:s});if(f||f===0){p+=f}p+=" tile--"+a(((f=((f=(q&&q.meta)),f==null||f===false?f:f.id)),typeof f===b?f.apply(q):f))+'" ';f=o["if"].call(q,(q&&q.url),{hash:{},inverse:m.noop,fn:m.program(8,e,s),data:s});if(f||f===0){p+=f}p+='>  <div class="tile__body">';f=o["if"].call(q,((f=((f=(q&&q.meta)),f==null||f===false?f:f.options)),f==null||f===false?f:f.tile_content),{hash:{},inverse:m.program(12,r,s),fn:m.program(10,t,s),data:s});if(f||f===0){p+=f}p+="</div></div>";return p});this["DDG"]["templates"]["basic_flipping_item"]=Handlebars.template(function(f,n,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",b,g="function",i=this.escapeExpression,m=e.helperMissing,p=this;function c(t,s){var q,r;if(r=e.elClass){q=r.call(t,{hash:{},data:s})}else{r=(t&&t.elClass);q=typeof r===g?r.call(t,{hash:{},data:s}):r}return i(q)}function a(s,r){var q;return i(((q=((q=((q=(s&&s.meta)),q==null||q===false?q:q.elClass)),q==null||q===false?q:q.tile)),typeof q===g?q.apply(s):q))}function o(v,t,u){var r,s,q;r=(s=e.include||(u&&u.include),q={hash:{meta:((u&&u.meta)),num:((u&&u.num))},data:t},s?s.call(v,"tile_body",q):m.call(v,"include","tile_body",q));if(r||r===0){return r}else{return""}}h+='<div class="tile  tile--f  tile--'+i(((b=((b=(n&&n.meta)),b==null||b===false?b:b.id)),typeof b===g?b.apply(n):b))+"  ";b=e["if"].call(n,(n&&n.elClass),{hash:{},inverse:p.program(3,a,j),fn:p.program(1,c,j),data:j});if(b||b===0){h+=b}h+='"><div class="tile--f__main '+i(((b=((b=((b=(n&&n.meta)),b==null||b===false?b:b.elClass)),b==null||b===false?b:b.tileFront)),typeof b===g?b.apply(n):b))+'">';b=e["with"].call(n,(n&&n.data_front),{hash:{},inverse:p.noop,fn:p.programWithDepth(5,o,j,n),data:j});if(b||b===0){h+=b}h+='</div><div class="tile--f__alt '+i(((b=((b=((b=(n&&n.meta)),b==null||b===false?b:b.elClass)),b==null||b===false?b:b.tileBack)),typeof b===g?b.apply(n):b))+'">';b=e["with"].call(n,(n&&n.data_back),{hash:{},inverse:p.noop,fn:p.programWithDepth(5,o,j,n),data:j});if(b||b===0){h+=b}h+="</div></div>";return h});this["DDG"]["templates"]["basic_image_item"]=Handlebars.template(function(i,x,u,o,D){this.compilerInfo=[4,">= 1.0.0"];u=this.merge(u,i.helpers);D=D||{};var v="",k,a,f,c="function",b=this.escapeExpression,s=this,t=u.helperMissing;function r(H,G){var E,F;if(F=u.elClass){E=F.call(H,{hash:{},data:G})}else{F=(H&&H.elClass);E=typeof F===c?F.call(H,{hash:{},data:G}):F}return b(E)}function q(G,F){var E;E=u["if"].call(G,((E=((E=(G&&G.meta)),E==null||E===false?E:E.elClass)),E==null||E===false?E:E.tile),{hash:{},inverse:s.program(6,n,F),fn:s.program(4,p,F),data:F});if(E||E===0){return E}else{return""}}function p(G,F){var E;return b(((E=((E=((E=(G&&G.meta)),E==null||E===false?E:E.elClass)),E==null||E===false?E:E.tile)),typeof E===c?E.apply(G):E))}function n(F,E){return"tile--c"}function j(I,H){var E="",F,G;E+=' data-link="';if(G=u.url){F=G.call(I,{hash:{},data:H})}else{G=(I&&I.url);F=typeof G===c?G.call(I,{hash:{},data:H}):G}E+=b(F)+'"';return E}function C(F,E){return"tile__title--1 with-sub"}function B(F,E){return"tile__sub--2"}function A(I,H){var E="",F,G;E+='<a href="';if(G=u.url){F=G.call(I,{hash:{},data:H})}else{G=(I&&I.url);F=typeof G===c?G.call(I,{hash:{},data:H}):G}E+=b(F)+'">';return E}function z(F,E){return"</a>"}function y(I,H){var E="",G,F;E+='<p class="tile__sub--2  opt">'+b((G=u.ellipsis||(I&&I.ellipsis),F={hash:{},data:H},G?G.call(I,(I&&I.description),56,F):t.call(I,"ellipsis",(I&&I.description),56,F)))+"</p>";return E}function m(G,F){var E;return b(((E=((E=((E=(G&&G.meta)),E==null||E===false?E:E.elClass)),E==null||E===false?E:E.tileRating)),typeof E===c?E.apply(G):E))}function h(F,E){return"tile__rating--right"}function g(I,H){var F,G,E;F=(G=u.starRating||(I&&I.starRating),E={hash:{},data:H},G?G.call(I,(I&&I.rating),E):t.call(I,"starRating",(I&&I.rating),E));if(F||F===0){return F}else{return""}}function e(I,H){var E="",G,F;E+='<span class="tile__source  one-line">'+b((G=u.ellipsis||(I&&I.ellipsis),F={hash:{},data:H},G?G.call(I,(I&&I.ratingText),19,F):t.call(I,"ellipsis",(I&&I.ratingText),19,F)))+"</span>";return E}v+='<div class="tile  tile--b--i ';k=u["if"].call(x,(x&&x.elClass),{hash:{},inverse:s.program(3,q,D),fn:s.program(1,r,D),data:D});if(k||k===0){v+=k}v+=" has-detail  tile--"+b(((k=((k=(x&&x.meta)),k==null||k===false?k:k.id)),typeof k===c?k.apply(x):k))+'  opt--t-xxs" ';k=u["if"].call(x,(x&&x.url),{hash:{},inverse:s.noop,fn:s.program(8,j,D),data:D});if(k||k===0){v+=k}v+='><div class="tile__media '+b(((k=((k=((k=(x&&x.meta)),k==null||k===false?k:k.elClass)),k==null||k===false?k:k.tileMedia)),typeof k===c?k.apply(x):k))+'"><img src="'+b((a=u.imageProxy||(x&&x.imageProxy),f={hash:{},data:D},a?a.call(x,(x&&x.image),f):t.call(x,"imageProxy",(x&&x.image),f)))+'" alt="';if(a=u.title){k=a.call(x,{hash:{},data:D})}else{a=(x&&x.title);k=typeof a===c?a.call(x,{hash:{},data:D}):a}v+=b(k)+'" class="tile__media__img '+b(((k=((k=((k=(x&&x.meta)),k==null||k===false?k:k.elClass)),k==null||k===false?k:k.tileMediaImg)),typeof k===c?k.apply(x):k))+'" /></div><div class="tile__body  tile__body--b-i '+b(((k=((k=((k=(x&&x.meta)),k==null||k===false?k:k.elClass)),k==null||k===false?k:k.tileBody)),typeof k===c?k.apply(x):k))+'"><h6 class="tile__title ';k=u["if"].call(x,(x&&x.description),{hash:{},inverse:s.program(12,B,D),fn:s.program(10,C,D),data:D});if(k||k===0){v+=k}v+='">';k=u["if"].call(x,(x&&x.url),{hash:{},inverse:s.noop,fn:s.program(14,A,D),data:D});if(k||k===0){v+=k}v+=b((a=u.ellipsis||(x&&x.ellipsis),f={hash:{},data:D},a?a.call(x,(x&&x.title),55,f):t.call(x,"ellipsis",(x&&x.title),55,f)));k=u["if"].call(x,(x&&x.url),{hash:{},inverse:s.noop,fn:s.program(16,z,D),data:D});if(k||k===0){v+=k}v+="</h6>";k=u["if"].call(x,(x&&x.description),{hash:{},inverse:s.noop,fn:s.program(18,y,D),data:D});if(k||k===0){v+=k}v+='<div class="tile__tx  tile__rating  one-line ';k=u["if"].call(x,((k=((k=(x&&x.meta)),k==null||k===false?k:k.elClass)),k==null||k===false?k:k.tileRating),{hash:{},inverse:s.program(22,h,D),fn:s.program(20,m,D),data:D});if(k||k===0){v+=k}v+='">';k=u["if"].call(x,((k=((k=(x&&x.meta)),k==null||k===false?k:k.options)),k==null||k===false?k:k.rating),{hash:{},inverse:s.noop,fn:s.program(24,g,D),data:D});if(k||k===0){v+=k}k=u["if"].call(x,((k=((k=(x&&x.meta)),k==null||k===false?k:k.options)),k==null||k===false?k:k.ratingText),{hash:{},inverse:s.noop,fn:s.program(26,e,D),data:D});if(k||k===0){v+=k}v+="</div></div></div>";return v});this["DDG"]["templates"]["bing_products_item"]=Handlebars.template(function(g,s,q,k,x){this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,g.helpers);x=x||{};var r="",h,a,e,c="function",b=this.escapeExpression,p=q.helperMissing,o=this;function n(z,y){return"tile--has-brand"}function m(C,B){var y="",z,A;y+='<div class="tile__media__promotion-label"><svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.22774 0H6.23017C6.32354 0 6.40358 0.0400194 6.47028 0.0933786L12.8067 6.42979C12.9401 6.56318 12.9401 6.77662 12.8067 6.89668L7.80426 11.8991C7.67086 12.0325 7.45743 12.0325 7.33737 11.8991L1.00096 5.5627C0.934261 5.496 0.907581 5.41596 0.907581 5.32258V0.333495C0.894241 0.146738 1.04098 0 1.22774 0ZM1.56123 5.20252L7.56415 11.2054L12.0997 6.6699L6.09677 0.66699H1.56123V5.20252Z" fill="#666666"/><path d="M3.22901 3.33496C2.68207 3.33496 2.22852 2.8814 2.22852 2.33447C2.22852 1.78754 2.68207 1.33398 3.22901 1.33398C3.77594 1.33398 4.22949 1.78754 4.22949 2.33447C4.22949 2.8814 3.77594 3.33496 3.22901 3.33496ZM3.22901 2.00097C3.04225 2.00097 2.89551 2.14771 2.89551 2.33447C2.89551 2.52123 3.04225 2.66797 3.22901 2.66797C3.41576 2.66797 3.5625 2.52123 3.5625 2.33447C3.5625 2.14771 3.41576 2.00097 3.22901 2.00097Z" fill="#666666"/></svg> ';if(A=q.promotion){z=A.call(C,{hash:{},data:B})}else{A=(C&&C.promotion);z=typeof A===c?A.call(C,{hash:{},data:B}):A}y+=b(z)+"</div>";return y}function j(B,A){var y="",z;y+='<span class="tile__media__free-shipping-label">'+b(((z=((z=((z=(B&&B.extensions)),z==null||z===false?z:z.free_shipping)),z==null||z===false?z:z.text)),typeof z===c?z.apply(B):z))+"</span>";return y}function i(C,B){var z,A,y;z=(A=q.formatTitle||(C&&C.formatTitle),y={hash:{el:("h6"),className:("tile__title"),classNameSec:("tile__title--pr"),href:("url"),optSub:(true),ellipsis:(100)},data:B},A?A.call(C,(C&&C.heading),y):p.call(C,"formatTitle",(C&&C.heading),y));if(z||z===0){return z}else{return""}}function f(C,B){var z,A,y;z=(A=q.formatTitle||(C&&C.formatTitle),y={hash:{el:("h6"),className:("tile__title"),classNameSec:("tile__title--pr"),optSub:(true),ellipsis:(100)},data:B},A?A.call(C,(C&&C.heading),y):p.call(C,"formatTitle",(C&&C.heading),y));if(z||z===0){return z}else{return""}}function v(D,C){var y="",A,B,z;y+='<span class="tile--pr__rating tile__rating">';A=(B=q.starsAndReviews||(D&&D.starsAndReviews),z={hash:{},data:C},B?B.call(D,(D&&D.rating),(D&&D.reviews),false,true,z):p.call(D,"starsAndReviews",(D&&D.rating),(D&&D.reviews),false,true,z));if(A||A===0){y+=A}y+="</span>";return y}function u(C,B){var y="",z,A;y+='<span class="tile--pr__price">';if(A=q.low_price){z=A.call(C,{hash:{},data:B})}else{A=(C&&C.low_price);z=typeof A===c?A.call(C,{hash:{},data:B}):A}y+=b(z)+'</span><span class="tile--pr__original-price">';if(A=q.price){z=A.call(C,{hash:{},data:B})}else{A=(C&&C.price);z=typeof A===c?A.call(C,{hash:{},data:B}):A}y+=b(z)+"</span>";return y}function t(C,B){var y="",z,A;y+='<span class="tile--pr__price">';if(A=q.price){z=A.call(C,{hash:{},data:B})}else{A=(C&&C.price);z=typeof A===c?A.call(C,{hash:{},data:B}):A}y+=b(z)+"</span>";return y}r+='<div class="tile  tile--pr tile--c--w has-detail  tile--';if(a=q.parentId){h=a.call(s,{hash:{},data:x})}else{a=(s&&s.parentId);h=typeof a===c?a.call(s,{hash:{},data:x}):a}r+=b(h)+" ";h=q["if"].call(s,(s&&s.showBrand),{hash:{},inverse:o.noop,fn:o.program(1,n,x),data:x});if(h||h===0){r+=h}r+='" data-link="';if(a=q.url){h=a.call(s,{hash:{},data:x})}else{a=(s&&s.url);h=typeof a===c?a.call(s,{hash:{},data:x}):a}r+=b(h)+'"><div class="tile__media  tile__media--pr"><img src="" data-src="';h=(a=q.imageProxy||(s&&s.imageProxy),e={hash:{},data:x},a?a.call(s,(s&&s.img),e):p.call(s,"imageProxy",(s&&s.img),e));if(h||h===0){r+=h}r+='" alt="';if(a=q.title){h=a.call(s,{hash:{},data:x})}else{a=(s&&s.title);h=typeof a===c?a.call(s,{hash:{},data:x}):a}r+=b(h)+'" class="tile__media__img  js-lazyload js-product-image" />';h=q["if"].call(s,(s&&s.promotion),{hash:{},inverse:o.noop,fn:o.program(3,m,x),data:x});if(h||h===0){r+=h}h=q["if"].call(s,((h=(s&&s.extensions)),h==null||h===false?h:h.free_shipping),{hash:{},inverse:o.noop,fn:o.program(5,j,x),data:x});if(h||h===0){r+=h}r+='</div><div class="tile__body  tile__body--pr">';h=q["if"].call(s,(s&&s.url),{hash:{},inverse:o.program(9,f,x),fn:o.program(7,i,x),data:x});if(h||h===0){r+=h}h=q["if"].call(s,(s&&s.rating),{hash:{},inverse:o.noop,fn:o.program(11,v,x),data:x});if(h||h===0){r+=h}r+='<div class="tile--pr__sub"><div class="tile--pr__pricing  price">';h=q["if"].call(s,(s&&s.low_price),{hash:{},inverse:o.program(15,t,x),fn:o.program(13,u,x),data:x});if(h||h===0){r+=h}r+='</div><a class="tile--pr__brand" href="';if(a=q.url){h=a.call(s,{hash:{},data:x})}else{a=(s&&s.url);h=typeof a===c?a.call(s,{hash:{},data:x}):a}r+=b(h)+'">';if(a=q.brand){h=a.call(s,{hash:{},data:x})}else{a=(s&&s.brand);h=typeof a===c?a.call(s,{hash:{},data:x}):a}r+=b(h)+"</a></div></div></div>";return r});this["DDG"]["templates"]["categories_item"]=Handlebars.template(function(e,n,c,k,j){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);j=j||{};var h="",a,f,p,g="function",i=this.escapeExpression,m=c.helperMissing,o=this;function b(t,s){var q="",r;q+='<img class="tile__icon" src="'+i(((r=((r=(t&&t.Icon)),r==null||r===false?r:r.URL)),typeof r===g?r.apply(t):r))+'" />';return q}h+='<div class="tile  tile--c  js-tile--'+i((f=c.firstLetter||(n&&n.firstLetter),p={hash:{},data:j},f?f.call(n,(n&&n.Text),p):m.call(n,"firstLetter",(n&&n.Text),p)))+'" data-link="';if(f=c.FirstURL){a=f.call(n,{hash:{},data:j})}else{f=(n&&n.FirstURL);a=typeof f===g?f.call(n,{hash:{},data:j}):f}h+=i(a)+'"><div class="tile__body">';a=c["if"].call(n,((a=(n&&n.Icon)),a==null||a===false?a:a.URL),{hash:{},inverse:o.noop,fn:o.program(1,b,j),data:j});if(a||a===0){h+=a}a=(f=c.formatTitle||(n&&n.formatTitle),p={hash:{el:("h4"),className:("tile__title"),href:("FirstURL"),parseFirst:("true"),ellipsis:(100)},data:j},f?f.call(n,(n&&n.Result),p):m.call(n,"formatTitle",(n&&n.Result),p));if(a||a===0){h+=a}h+='<div class="tile__content  tile__content--sm">';a=(f=c.ellipsis||(n&&n.ellipsis),p={hash:{parseFirst:("true")},data:j},f?f.call(n,(n&&n.Result),95,p):m.call(n,"ellipsis",(n&&n.Result),95,p));if(a||a===0){h+=a}h+="</div> </div></div>";return h});this["DDG"]["templates"]["images_item"]=Handlebars.template(function(e,k,c,i,h){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);h=h||{};var a,f="function",g=this.escapeExpression,j=c.helperMissing,m=this;function b(s,r){var n="",p,q,o;n+='<div class="tile  tile--img  has-detail" style="width:';if(q=c.tileWidth){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.tileWidth);p=typeof q===f?q.call(s,{hash:{},data:r}):q}n+=g(p)+'px;"><div class="tile--img__media"><span class="tile--img__media__i"><img class="tile--img__img  js-lazyload" src="" data-src="'+g((q=c.imageProxy||(s&&s.imageProxy),o={hash:{},data:r},q?q.call(s,(s&&s.thumbnail),o):j.call(s,"imageProxy",(s&&s.thumbnail),o)))+'" alt="';if(q=c.title){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.title);p=typeof q===f?q.call(s,{hash:{},data:r}):q}n+=g(p)+'" /></span></div><div class="tile--img__details"><div class="tile--img__dimensions"><i class="tile--img__icon">+</i><em>';if(q=c.width){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.width);p=typeof q===f?q.call(s,{hash:{},data:r}):q}n+=g(p)+" &times; ";if(q=c.height){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.height);p=typeof q===f?q.call(s,{hash:{},data:r}):q}n+=g(p)+'</em></div></div><a class="tile--img__sub" href="';if(q=c.url){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.url);p=typeof q===f?q.call(s,{hash:{},data:r}):q}n+=g(p)+'"><span class="tile--img__title">';if(q=c.title){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.title);p=typeof q===f?q.call(s,{hash:{},data:r}):q}n+=g(p)+'</span><span class="tile--img__domain" title="';if(q=c.url){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.url);p=typeof q===f?q.call(s,{hash:{},data:r}):q}n+=g(p)+'">'+g((q=c.domain||(s&&s.domain),o={hash:{},data:r},q?q.call(s,(s&&s.url),o):j.call(s,"domain",(s&&s.url),o)))+'</span></a><div class="tile--img__dimensions">';if(q=c.width){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.width);p=typeof q===f?q.call(s,{hash:{},data:r}):q}n+=g(p)+" &times; ";if(q=c.height){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.height);p=typeof q===f?q.call(s,{hash:{},data:r}):q}n+=g(p)+"</div></div>";return n}a=c.unless.call(k,(k&&k.n),{hash:{},inverse:m.noop,fn:m.program(1,b,h),data:h});if(a||a===0){return a}else{return""}});this["DDG"]["templates"]["meanings_item"]=Handlebars.template(function(f,s,q,k,t){this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,f.helpers);t=t||{};var r="",h,a,e,p=q.helperMissing,b=this.escapeExpression,c="function",o=this;function n(A,z){var u="",x,y,v;u+="js-tile--"+b((y=q.trim||(A&&A.trim),v={hash:{},data:z},y?y.call(A,((x=(A&&A.topic)),x==null||x===false?x:x.id),v):p.call(A,"trim",((x=(A&&A.topic)),x==null||x===false?x:x.id),v)));return u}function m(A,z){var u="",x,y,v;u+='data-anchor="'+b((y=q.stripNonAlpha||(A&&A.stripNonAlpha),v={hash:{},data:z},y?y.call(A,((x=(A&&A.topic)),x==null||x===false?x:x.id),v):p.call(A,"stripNonAlpha",((x=(A&&A.topic)),x==null||x===false?x:x.id),v)))+'"';return u}function j(y,x){var u="",v;u+='<img class="tile__icon  js-lazyload" src="" data-src="'+b(((v=((v=(y&&y.Icon)),v==null||v===false?v:v.URL)),typeof v===c?v.apply(y):v))+'" />';return u}function i(y,x){var u="",v;u+='<span class="media__img--rev" ';v=q["if"].call(y,(y&&y.topic),{hash:{},inverse:o.noop,fn:o.program(8,g,x),data:x});if(v||v===0){u+=v}u+="></span>";return u}function g(A,z){var u="",x,y,v;u+='data-type="'+b((y=q.stripNonAlpha||(A&&A.stripNonAlpha),v={hash:{},data:z},y?y.call(A,((x=(A&&A.topic)),x==null||x===false?x:x.id),v):p.call(A,"stripNonAlpha",((x=(A&&A.topic)),x==null||x===false?x:x.id),v)))+'"';return u}r+='<div class="tile  tile--c  ';h=q["if"].call(s,(s&&s.topic),{hash:{},inverse:o.noop,fn:o.program(1,n,t),data:t});if(h||h===0){r+=h}r+='" ';h=q["if"].call(s,(s&&s.topic),{hash:{},inverse:o.noop,fn:o.program(3,m,t),data:t});if(h||h===0){r+=h}r+=' data-link="';if(a=q.FirstURL){h=a.call(s,{hash:{},data:t})}else{a=(s&&s.FirstURL);h=typeof a===c?a.call(s,{hash:{},data:t}):a}r+=b(h)+'"><div class="tile__body">';h=q["if"].call(s,((h=(s&&s.Icon)),h==null||h===false?h:h.URL),{hash:{},inverse:o.program(7,i,t),fn:o.program(5,j,t),data:t});if(h||h===0){r+=h}h=(a=q.formatTitle||(s&&s.formatTitle),e={hash:{el:("h4"),className:("tile__title"),href:("FirstURL"),parseFirst:("true"),ellipsis:(100)},data:t},a?a.call(s,(s&&s.Result),e):p.call(s,"formatTitle",(s&&s.Result),e));if(h||h===0){r+=h}r+='<div class="tile__content  tile__content--sm">';h=(a=q.ellipsis||(s&&s.ellipsis),e={hash:{parseFirst:("true")},data:t},a?a.call(s,(s&&s.Result),95,e):p.call(s,"ellipsis",(s&&s.Result),95,e));if(h||h===0){r+=h}r+="</div> </div></div>";return r});this["DDG"]["templates"]["media_item"]=Handlebars.template(function(f,s,q,j,y){this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,f.helpers);y=y||{};var r="",h,a,e,c="function",b=this.escapeExpression,o=this,p=q.helperMissing;function n(C,B){var z,A;if(A=q.elClass){z=A.call(C,{hash:{},data:B})}else{A=(C&&C.elClass);z=typeof A===c?A.call(C,{hash:{},data:B}):A}return b(z)}function m(B,A){var z;z=q["if"].call(B,((z=((z=(B&&B.meta)),z==null||z===false?z:z.elClass)),z==null||z===false?z:z.tile),{hash:{},inverse:o.program(6,i,A),fn:o.program(4,k,A),data:A});if(z||z===0){return z}else{return""}}function k(B,A){var z;return b(((z=((z=((z=(B&&B.meta)),z==null||z===false?z:z.elClass)),z==null||z===false?z:z.tile)),typeof z===c?z.apply(B):z))}function i(A,z){return"tile--c"}function g(D,C){var z="",A,B;z+='data-link="';if(B=q.url){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.url);A=typeof B===c?B.call(D,{hash:{},data:C}):B}z+=b(A)+'"';return z}function x(A,z){return"has-foot"}function v(D,C){var A,B,z;A=(B=q.include||(D&&D.include),z={hash:{},data:C},B?B.call(D,"tile_snippet",z):p.call(D,"include","tile_snippet",z));if(A||A===0){return A}else{return""}}function u(E,D){var z="",B,C,A;z+='<div class="tile__foot '+b(((B=((B=((B=(E&&E.meta)),B==null||B===false?B:B.elClass)),B==null||B===false?B:B.tileFoot)),typeof B===c?B.apply(E):B))+'">';B=(C=q.include||(E&&E.include),A={hash:{},data:D},C?C.call(E,((B=((B=(E&&E.meta)),B==null||B===false?B:B.options)),B==null||B===false?B:B.footer),A):p.call(E,"include",((B=((B=(E&&E.meta)),B==null||B===false?B:B.options)),B==null||B===false?B:B.footer),A));if(B||B===0){z+=B}z+="</div>";return z}function t(D,C){var A,B,z;A=(B=q.include||(D&&D.include),z={hash:{},data:C},B?B.call(D,"date_badge",z):p.call(D,"include","date_badge",z));if(A||A===0){return A}else{return""}}r+='<div class="tile ';h=q["if"].call(s,(s&&s.elClass),{hash:{},inverse:o.program(3,m,y),fn:o.program(1,n,y),data:y});if(h||h===0){r+=h}r+=" tile--"+b(((h=((h=(s&&s.meta)),h==null||h===false?h:h.id)),typeof h===c?h.apply(s):h))+'" ';h=q["if"].call(s,(s&&s.url),{hash:{},inverse:o.noop,fn:o.program(8,g,y),data:y});if(h||h===0){r+=h}r+='><div class="tile__media '+b(((h=((h=((h=(s&&s.meta)),h==null||h===false?h:h.elClass)),h==null||h===false?h:h.tileMedia)),typeof h===c?h.apply(s):h))+'"><img src="'+b((a=q.imageProxy||(s&&s.imageProxy),e={hash:{},data:y},a?a.call(s,(s&&s.image),e):p.call(s,"imageProxy",(s&&s.image),e)))+'" alt="';if(a=q.title){h=a.call(s,{hash:{},data:y})}else{a=(s&&s.title);h=typeof a===c?a.call(s,{hash:{},data:y}):a}r+=b(h)+'" class="tile__media__img" /></div><div class="tile__body ';h=q["if"].call(s,((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.footer),{hash:{},inverse:o.noop,fn:o.program(10,x,y),data:y});if(h||h===0){r+=h}r+=" "+b(((h=((h=((h=(s&&s.meta)),h==null||h===false?h:h.elClass)),h==null||h===false?h:h.tileBody)),typeof h===c?h.apply(s):h))+'">';h=(a=q.include||(s&&s.include),e={hash:{},data:y},a?a.call(s,"tile_titles",e):p.call(s,"include","tile_titles",e));if(h||h===0){r+=h}h=q["if"].call(s,(s&&s.description),{hash:{},inverse:o.noop,fn:o.program(12,v,y),data:y});if(h||h===0){r+=h}h=q["if"].call(s,((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.footer),{hash:{},inverse:o.noop,fn:o.program(14,u,y),data:y});if(h||h===0){r+=h}h=q["if"].call(s,(s&&s.dateBadge),{hash:{},inverse:o.noop,fn:o.program(16,t,y),data:y});if(h||h===0){r+=h}r+="</div></div>";return r});this["DDG"]["templates"]["nlp_item"]=Handlebars.template(function(c,m,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,n,f="function",h=this.escapeExpression,k=b.helperMissing;g+='<div class="tile  tile--c  tile--qa  has-detail" data-link="';if(e=b.url){a=e.call(m,{hash:{},data:i})}else{e=(m&&m.url);a=typeof e===f?e.call(m,{hash:{},data:i}):e}g+=h(a)+'"><div class="tile__body  has-foot"><h6 class="tile__title  tile__title--3sm  tile__title--min">';if(e=b.heading){a=e.call(m,{hash:{},data:i})}else{e=(m&&m.heading);a=typeof e===f?e.call(m,{hash:{},data:i}):e}if(a||a===0){g+=a}g+='</h6><div class="tile__content  tile__content--qa  js-ellipsis  hide--mob">';if(e=b["abstract"]){a=e.call(m,{hash:{},data:i})}else{e=(m&&m["abstract"]);a=typeof e===f?e.call(m,{hash:{},data:i}):e}if(a||a===0){g+=a}g+='</div><div class="tile__foot">';a=(e=b.moreAt||(m&&m.moreAt),n={hash:{className:("tile__more-link")},data:i},e?e.call(m,(m&&m.url),(m&&m.source),n):k.call(m,"moreAt",(m&&m.url),(m&&m.source),n));if(a||a===0){g+=a}g+="</div></div></div>";return g});this["DDG"]["templates"]["places_item"]=Handlebars.template(function(m,z,x,r,F){this.compilerInfo=[4,">= 1.0.0"];x=this.merge(x,m.helpers);F=F||{};var y="",n,a,g,e="function",c=this.escapeExpression,v=x.helperMissing,u=this;function t(J,I){var G,H;if(H=x.elClass){G=H.call(J,{hash:{},data:I})}else{H=(J&&J.elClass);G=typeof H===e?H.call(J,{hash:{},data:I}):H}return c(G)}function s(I,H){var G;return c(((G=((G=((G=(I&&I.meta)),G==null||G===false?G:G.elClass)),G==null||G===false?G:G.tile)),typeof G===e?G.apply(I):G))}function q(L,K){var G="",I,J,H;G+='<div class="tile__media__wrapper"><img src="" data-src="'+c((J=x.imageProxy||(L&&L.imageProxy),H={hash:{},data:K},J?J.call(L,(L&&L.image),H):v.call(L,"imageProxy",(L&&L.image),H)))+'" alt="';if(J=x.title){I=J.call(L,{hash:{},data:K})}else{J=(L&&L.title);I=typeof J===e?J.call(L,{hash:{},data:K}):J}G+=c(I)+'" class="tile__media__img  js-lazyload" /></div>';return G}function p(H,G){return'<span class="ddgsi tile__media__no-img">@</span>'}function k(K,J){var G="",H,I;G+='<span class="tile__neighborhood">';if(I=x.neighborhoodOrCity){H=I.call(K,{hash:{},data:J})}else{I=(K&&K.neighborhoodOrCity);H=typeof I===e?I.call(K,{hash:{},data:J}):I}G+=c(H)+"</span>";return G}function E(K,J){var H,I,G;H=(I=x.include||(K&&K.include),G={hash:{},data:J},I?I.call(K,((H=((H=(K&&K.meta)),H==null||H===false?H:H.options)),H==null||H===false?H:H.item_footer),G):v.call(K,"include",((H=((H=(K&&K.meta)),H==null||H===false?H:H.options)),H==null||H===false?H:H.item_footer),G));if(H||H===0){return H}else{return""}}function D(J,I){var G="",H;H=x["if"].call(J,(J&&J.rating),{hash:{},inverse:u.noop,fn:u.program(14,C,I),data:I});if(H||H===0){G+=H}H=x["if"].call(J,(J&&J.reviews),{hash:{},inverse:u.noop,fn:u.program(16,B,I),data:I});if(H||H===0){G+=H}return G}function C(K,J){var H,I,G;H=(I=x.starRating||(K&&K.starRating),G={hash:{},data:J},I?I.call(K,(K&&K.rating),G):v.call(K,"starRating",(K&&K.rating),G));if(H||H===0){return H}else{return""}}function B(K,J){var H,I,G;H=(I=x.reviewCount||(K&&K.reviewCount),G={hash:{},data:J},I?I.call(K,(K&&K.reviews),"",true,G):v.call(K,"reviewCount",(K&&K.reviews),"",true,G));if(H||H===0){return H}else{return""}}function A(H,G){return"has-foot"}function o(L,K){var G="",I,J,H;G+='<span class="tile__price">';I=(J=x.priceSymbols||(L&&L.priceSymbols),H={hash:{},data:K},J?J.call(L,(L&&L.price),4,H):v.call(L,"priceSymbols",(L&&L.price),4,H));if(I||I===0){G+=I}G+="</span>";return G}function j(I,H){var G;G=x["if"].call(I,(I&&I.canMakePhoneCalls),{hash:{},inverse:u.program(25,h,H),fn:u.program(23,i,H),data:H});if(G||G===0){return G}else{return""}}function i(L,K){var G="",I,J,H;G+='<a href="tel:';if(J=x.phone){I=J.call(L,{hash:{},data:K})}else{J=(L&&L.phone);I=typeof J===e?J.call(L,{hash:{},data:K}):J}G+=c(I)+'" class="tile__segment tile__call js-tel-link"><div class="tile__segment__title">';I=(J=x.lp||(L&&L.lp),H={hash:{},data:K},J?J.call(L,"maps_places","Call",H):v.call(L,"lp","maps_places","Call",H));if(I||I===0){G+=I}G+='</div><div class="tile__phone">';if(J=x.phone){I=J.call(L,{hash:{},data:K})}else{J=(L&&L.phone);I=typeof J===e?J.call(L,{hash:{},data:K}):J}G+=c(I)+"</div></a>";return G}function h(L,K){var G="",I,J,H;G+='<div class="tile__segment"><div class="tile__segment__title">';I=(J=x.lp||(L&&L.lp),H={hash:{},data:K},J?J.call(L,"maps_places","Phone Number",H):v.call(L,"lp","maps_places","Phone Number",H));if(I||I===0){G+=I}G+='</div><a href="tel:';if(J=x.phone){I=J.call(L,{hash:{},data:K})}else{J=(L&&L.phone);I=typeof J===e?J.call(L,{hash:{},data:K}):J}G+=c(I)+'" class="tile__phone js-tel-link">';if(J=x.phone){I=J.call(L,{hash:{},data:K})}else{J=(L&&L.phone);I=typeof J===e?J.call(L,{hash:{},data:K}):J}G+=c(I)+"</a></div>";return G}function f(L,K){var G="",I,J,H;G+='<div class="tile__segment tile__directions js-directions-container"><a class="tile__directions__link tile__segment__title js-directions-link" href="';if(J=x.directions){I=J.call(L,{hash:{},data:K})}else{J=(L&&L.directions);I=typeof J===e?J.call(L,{hash:{},data:K}):J}G+=c(I)+'">';I=(J=x.lp||(L&&L.lp),H={hash:{},data:K},J?J.call(L,"maps_places","Directions",H):v.call(L,"lp","maps_places","Directions",H));if(I||I===0){G+=I}G+="</a></div>";return G}function b(L,K){var G="",I,J,H;G+='<div class="tile__foot">';I=(J=x.moreAt||(L&&L.moreAt),H={hash:{dynamicMoreAtText:(5),className:("tile--loc__more"),iconClassName:("tile--loc__more__icon"),iconPlaceholder:("true")},data:K},J?J.call(L,(L&&L.url),((I=(L&&L.meta)),I==null||I===false?I:I.sourceName),H):v.call(L,"moreAt",(L&&L.url),((I=(L&&L.meta)),I==null||I===false?I:I.sourceName),H));if(I||I===0){G+=I}G+="</div>";return G}y+='<div class="tile  tile--f  tile--loc ';n=x["if"].call(z,(z&&z.elClass),{hash:{},inverse:u.program(3,s,F),fn:u.program(1,t,F),data:F});if(n||n===0){y+=n}y+='"><div class="tile--f__main  tile--loc__main"><div class="tile__media">';n=x["if"].call(z,(z&&z.image),{hash:{},inverse:u.program(7,p,F),fn:u.program(5,q,F),data:F});if(n||n===0){y+=n}y+='</div><div class="tile__num">';if(a=x.num){n=a.call(z,{hash:{},data:F})}else{a=(z&&z.num);n=typeof a===e?a.call(z,{hash:{},data:F}):a}y+=c(n)+'</div><div class="tile__body"><h6 class="tile__title">'+c((a=x.ellipsis||(z&&z.ellipsis),g={hash:{},data:F},a?a.call(z,(z&&z.name),33,g):v.call(z,"ellipsis",(z&&z.name),33,g)))+"</h6>";n=x["if"].call(z,(z&&z.neighborhoodOrCity),{hash:{},inverse:u.noop,fn:u.program(9,k,F),data:F});if(n||n===0){y+=n}y+='<div class="tile__foot  tile__rating  one-line">';n=x["if"].call(z,((n=((n=(z&&z.meta)),n==null||n===false?n:n.options)),n==null||n===false?n:n.item_footer),{hash:{},inverse:u.program(13,D,F),fn:u.program(11,E,F),data:F});if(n||n===0){y+=n}y+='</div></div></div><div class="tile--f__alt  tile--loc__alt"><div class="tile__body  ';n=(a=x.and||(z&&z.and),g={hash:{},inverse:u.noop,fn:u.program(18,A,F),data:F},a?a.call(z,(z&&z.url),((n=(z&&z.meta)),n==null||n===false?n:n.sourceName),g):v.call(z,"and",(z&&z.url),((n=(z&&z.meta)),n==null||n===false?n:n.sourceName),g));if(n||n===0){y+=n}y+=' has-segments"><div class="tile__segment"><h6 class="tile__title"><a href="';if(a=x.url){n=a.call(z,{hash:{},data:F})}else{a=(z&&z.url);n=typeof a===e?a.call(z,{hash:{},data:F}):a}y+=c(n)+'" title="';if(a=x.name){n=a.call(z,{hash:{},data:F})}else{a=(z&&z.name);n=typeof a===e?a.call(z,{hash:{},data:F}):a}y+=c(n)+'">'+c((a=x.ellipsis||(z&&z.ellipsis),g={hash:{},data:F},a?a.call(z,(z&&z.name),33,g):v.call(z,"ellipsis",(z&&z.name),33,g)))+"</a></h6>";n=x["if"].call(z,(z&&z.price),{hash:{},inverse:u.noop,fn:u.program(20,o,F),data:F});if(n||n===0){y+=n}y+="</div>";n=x["if"].call(z,(z&&z.phone),{hash:{},inverse:u.noop,fn:u.program(22,j,F),data:F});if(n||n===0){y+=n}n=x["if"].call(z,(z&&z.address),{hash:{},inverse:u.noop,fn:u.program(27,f,F),data:F});if(n||n===0){y+=n}n=(a=x.and||(z&&z.and),g={hash:{},inverse:u.noop,fn:u.program(29,b,F),data:F},a?a.call(z,(z&&z.url),((n=(z&&z.meta)),n==null||n===false?n:n.sourceName),g):v.call(z,"and",(z&&z.url),((n=(z&&z.meta)),n==null||n===false?n:n.sourceName),g));if(n||n===0){y+=n}y+="</div></div></div>";return y});this["DDG"]["templates"]["products_item"]=Handlebars.template(function(g,u,s,m,B){this.compilerInfo=[4,">= 1.0.0"];s=this.merge(s,g.helpers);B=B||{};var t="",i,a,e,c="function",b=this.escapeExpression,q=this,r=s.helperMissing;function p(F,E){var C,D;if(D=s.elClass){C=D.call(F,{hash:{},data:E})}else{D=(F&&F.elClass);C=typeof D===c?D.call(F,{hash:{},data:E}):D}return b(C)}function o(E,D){var C;C=s["if"].call(E,((C=((C=(E&&E.meta)),C==null||C===false?C:C.elClass)),C==null||C===false?C:C.tile),{hash:{},inverse:q.program(6,k,D),fn:q.program(4,n,D),data:D});if(C||C===0){return C}else{return""}}function n(E,D){var C;return b(((C=((C=((C=(E&&E.meta)),C==null||C===false?C:C.elClass)),C==null||C===false?C:C.tile)),typeof C===c?C.apply(E):C))}function k(D,C){return"tile--c"}function h(D,C){return" has-rating"}function A(G,F){var D,E,C;D=(E=s.include||(G&&G.include),C={hash:{},data:F},E?E.call(G,((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.badge),C):r.call(G,"include",((D=((D=(G&&G.meta)),D==null||D===false?D:D.options)),D==null||D===false?D:D.badge),C));if(D||D===0){return D}else{return""}}function z(G,F){var D,E,C;D=(E=s.formatTitle||(G&&G.formatTitle),C={hash:{el:("h6"),className:("tile__title"),classNameSec:("tile__title--pr"),href:("url"),optSub:(true),ellipsis:(100)},data:F},E?E.call(G,(G&&G.heading),C):r.call(G,"formatTitle",(G&&G.heading),C));if(D||D===0){return D}else{return""}}function y(G,F){var D,E,C;D=(E=s.formatTitle||(G&&G.formatTitle),C={hash:{el:("h6"),className:("tile__title"),classNameSec:("tile__title--pr"),optSub:(true),ellipsis:(100)},data:F},E?E.call(G,(G&&G.heading),C):r.call(G,"formatTitle",(G&&G.heading),C));if(D||D===0){return D}else{return""}}function x(G,F){var C="",D,E;C+='<span class="tile--pr__price  price">';if(E=s.price){D=E.call(G,{hash:{},data:F})}else{E=(G&&G.price);D=typeof E===c?E.call(G,{hash:{},data:F}):E}C+=b(D)+"</span>";return C}function v(D,C){return'<span class="sep  tile__sep"></span>'}function j(H,G){var C="",E,F,D;C+='<span class="tile--pr__brand">';E=(F=s.lp||(H&&H.lp),D={hash:{},data:G},F?F.call(H,"made_by","by %s",(H&&H.brand),D):r.call(H,"lp","made_by","by %s",(H&&H.brand),D));if(E||E===0){C+=E}C+="</span>";return C}function f(H,G){var C="",E,F,D;C+='<div class="tile__tx  tile__rating  one-line">';E=(F=s.starsAndReviews||(H&&H.starsAndReviews),D={hash:{},data:G},F?F.call(H,(H&&H.rating),(H&&H.reviewCount),(H&&H.url_review),true,D):r.call(H,"starsAndReviews",(H&&H.rating),(H&&H.reviewCount),(H&&H.url_review),true,D));if(E||E===0){C+=E}C+="</div>";return C}t+='<div class="tile  tile--pr ';i=s["if"].call(u,(u&&u.elClass),{hash:{},inverse:q.program(3,o,B),fn:q.program(1,p,B),data:B});if(i||i===0){t+=i}t+=" has-detail  tile--";if(a=s.parentId){i=a.call(u,{hash:{},data:B})}else{a=(u&&u.parentId);i=typeof a===c?a.call(u,{hash:{},data:B}):a}t+=b(i)+" ";i=s["if"].call(u,((i=((i=(u&&u.meta)),i==null||i===false?i:i.options)),i==null||i===false?i:i.rating),{hash:{},inverse:q.noop,fn:q.program(8,h,B),data:B});if(i||i===0){t+=i}t+=' opt--t-xxs" data-link="';if(a=s.url){i=a.call(u,{hash:{},data:B})}else{a=(u&&u.url);i=typeof a===c?a.call(u,{hash:{},data:B}):a}t+=b(i)+'"><div class="tile__media  tile__media--pr"><img src="" data-src="';i=(a=s.imageProxy||(u&&u.imageProxy),e={hash:{},data:B},a?a.call(u,(u&&u.img),e):r.call(u,"imageProxy",(u&&u.img),e));if(i||i===0){t+=i}t+='" alt="';if(a=s.title){i=a.call(u,{hash:{},data:B})}else{a=(u&&u.title);i=typeof a===c?a.call(u,{hash:{},data:B}):a}t+=b(i)+'" class="tile__media__img  js-lazyload" />';i=(a=s.and||(u&&u.and),e={hash:{},inverse:q.noop,fn:q.program(10,A,B),data:B},a?a.call(u,(u&&u.showBadge),((i=((i=(u&&u.meta)),i==null||i===false?i:i.options)),i==null||i===false?i:i.badge),e):r.call(u,"and",(u&&u.showBadge),((i=((i=(u&&u.meta)),i==null||i===false?i:i.options)),i==null||i===false?i:i.badge),e));if(i||i===0){t+=i}t+='</div><div class="tile__body  tile__body--pr">';i=s["if"].call(u,(u&&u.url),{hash:{},inverse:q.program(14,y,B),fn:q.program(12,z,B),data:B});if(i||i===0){t+=i}t+='<div class="tile__tx  tile--pr__sub  one-line">';i=(a=s.and||(u&&u.and),e={hash:{},inverse:q.noop,fn:q.program(16,x,B),data:B},a?a.call(u,((i=((i=(u&&u.meta)),i==null||i===false?i:i.options)),i==null||i===false?i:i.price),(u&&u.price),e):r.call(u,"and",((i=((i=(u&&u.meta)),i==null||i===false?i:i.options)),i==null||i===false?i:i.price),(u&&u.price),e));if(i||i===0){t+=i}i=(a=s.and||(u&&u.and),e={hash:{},inverse:q.noop,fn:q.program(18,v,B),data:B},a?a.call(u,((i=((i=(u&&u.meta)),i==null||i===false?i:i.options)),i==null||i===false?i:i.price),((i=((i=(u&&u.meta)),i==null||i===false?i:i.options)),i==null||i===false?i:i.brand),(u&&u.price),(u&&u.brand),e):r.call(u,"and",((i=((i=(u&&u.meta)),i==null||i===false?i:i.options)),i==null||i===false?i:i.price),((i=((i=(u&&u.meta)),i==null||i===false?i:i.options)),i==null||i===false?i:i.brand),(u&&u.price),(u&&u.brand),e));if(i||i===0){t+=i}i=(a=s.and||(u&&u.and),e={hash:{},inverse:q.noop,fn:q.program(20,j,B),data:B},a?a.call(u,((i=((i=(u&&u.meta)),i==null||i===false?i:i.options)),i==null||i===false?i:i.brand),(u&&u.brand),e):r.call(u,"and",((i=((i=(u&&u.meta)),i==null||i===false?i:i.options)),i==null||i===false?i:i.brand),(u&&u.brand),e));if(i||i===0){t+=i}t+="</div>";i=s["if"].call(u,((i=((i=(u&&u.meta)),i==null||i===false?i:i.options)),i==null||i===false?i:i.rating),{hash:{},inverse:q.noop,fn:q.program(22,f,B),data:B});if(i||i===0){t+=i}t+="</div></div>";return t});this["DDG"]["templates"]["text_item"]=Handlebars.template(function(f,s,q,j,x){this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,f.helpers);x=x||{};var r="",h,a,e,c="function",b=this.escapeExpression,o=this,p=q.helperMissing;function n(B,A){var y,z;if(z=q.elClass){y=z.call(B,{hash:{},data:A})}else{z=(B&&B.elClass);y=typeof z===c?z.call(B,{hash:{},data:A}):z}return b(y)}function m(A,z){var y;y=q["if"].call(A,((y=((y=(A&&A.meta)),y==null||y===false?y:y.elClass)),y==null||y===false?y:y.tile),{hash:{},inverse:o.program(6,i,z),fn:o.program(4,k,z),data:z});if(y||y===0){return y}else{return""}}function k(A,z){var y;return b(((y=((y=((y=(A&&A.meta)),y==null||y===false?y:y.elClass)),y==null||y===false?y:y.tile)),typeof y===c?y.apply(A):y))}function i(z,y){return"tile--c"}function g(C,B){var y="",z,A;y+='data-link="';if(A=q.url){z=A.call(C,{hash:{},data:B})}else{A=(C&&C.url);z=typeof A===c?A.call(C,{hash:{},data:B}):A}y+=b(z)+'"';return y}function v(z,y){return"has-foot"}function u(D,C){var y="",A,B,z;y+='<div class="tile__foot '+b(((A=((A=((A=(D&&D.meta)),A==null||A===false?A:A.elClass)),A==null||A===false?A:A.tileFoot)),typeof A===c?A.apply(D):A))+'">';A=(B=q.include||(D&&D.include),z={hash:{},data:C},B?B.call(D,((A=((A=(D&&D.meta)),A==null||A===false?A:A.options)),A==null||A===false?A:A.footer),z):p.call(D,"include",((A=((A=(D&&D.meta)),A==null||A===false?A:A.options)),A==null||A===false?A:A.footer),z));if(A||A===0){y+=A}y+="</div>";return y}function t(C,B){var z,A,y;z=(A=q.include||(C&&C.include),y={hash:{},data:B},A?A.call(C,"date_badge",y):p.call(C,"include","date_badge",y));if(z||z===0){return z}else{return""}}r+='<div class="tile ';h=q["if"].call(s,(s&&s.elClass),{hash:{},inverse:o.program(3,m,x),fn:o.program(1,n,x),data:x});if(h||h===0){r+=h}r+=" tile--"+b(((h=((h=(s&&s.meta)),h==null||h===false?h:h.id)),typeof h===c?h.apply(s):h))+'" ';h=q["if"].call(s,(s&&s.url),{hash:{},inverse:o.noop,fn:o.program(8,g,x),data:x});if(h||h===0){r+=h}r+='><div class="tile__body ';h=q["if"].call(s,((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.footer),{hash:{},inverse:o.noop,fn:o.program(10,v,x),data:x});if(h||h===0){r+=h}r+=" "+b(((h=((h=((h=(s&&s.meta)),h==null||h===false?h:h.elClass)),h==null||h===false?h:h.tileBody)),typeof h===c?h.apply(s):h))+'">';h=(a=q.include||(s&&s.include),e={hash:{},data:x},a?a.call(s,"tile_titles",e):p.call(s,"include","tile_titles",e));if(h||h===0){r+=h}r+='<div class="tile__content '+b(((h=((h=((h=(s&&s.meta)),h==null||h===false?h:h.elClass)),h==null||h===false?h:h.tileSnippet)),typeof h===c?h.apply(s):h))+'">'+b((a=q.ellipsis||(s&&s.ellipsis),e={hash:{fallback:(100)},data:x},a?a.call(s,(s&&s.description),((h=(s&&s.meta)),h==null||h===false?h:h.snippetChars),e):p.call(s,"ellipsis",(s&&s.description),((h=(s&&s.meta)),h==null||h===false?h:h.snippetChars),e)))+"</div>";h=q["if"].call(s,((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.footer),{hash:{},inverse:o.noop,fn:o.program(12,u,x),data:x});if(h||h===0){r+=h}h=q["if"].call(s,(s&&s.dateBadge),{hash:{},inverse:o.noop,fn:o.program(14,t,x),data:x});if(h||h===0){r+=h}r+="</div></div>";return r});this["DDG"]["templates"]["tiles_item"]=Handlebars.template(function(f,m,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",b,g="function",i=this.escapeExpression,n=this;function c(s,r){var o="",p,q;o+="spice_";if(q=e.spice_name){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.spice_name);p=typeof q===g?q.call(s,{hash:{},data:r}):q}o+=i(p);return o}function a(r,q){var o,p;if(p=e.subcontent){o=p.call(r,{hash:{},data:q})}else{p=(r&&r.subcontent);o=typeof p===g?p.call(r,{hash:{},data:q}):p}if(o||o===0){return o}else{return""}}h+='<div class="tile  tile--s ';b=e["if"].call(m,(m&&m.spice_name),{hash:{},inverse:n.noop,fn:n.program(1,c,j),data:j});if(b||b===0){h+=b}h+='">';b=e["if"].call(m,(m&&m.subcontent),{hash:{},inverse:n.noop,fn:n.program(3,a,j),data:j});if(b||b===0){h+=b}h+="</div>";return h});this["DDG"]["templates"]["tiles_load_more"]=Handlebars.template(function(e,n,c,k,j){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);j=j||{};var h="",a,f,p,g="function",i=this.escapeExpression,o=this,m=c.helperMissing;function b(s,r){var q;return i(((q=((q=((q=(s&&s.meta)),q==null||q===false?q:q.elClass)),q==null||q===false?q:q.tile)),typeof q===g?q.apply(s):q))}h+='<div class="tile  tile--m  tile--m--';if(f=c.id){a=f.call(n,{hash:{},data:j})}else{f=(n&&n.id);a=typeof f===g?f.call(n,{hash:{},data:j}):f}h+=i(a)+"  ";a=c["if"].call(n,((a=((a=(n&&n.meta)),a==null||a===false?a:a.elClass)),a==null||a===false?a:a.tile),{hash:{},inverse:o.noop,fn:o.program(1,b,j),data:j});if(a||a===0){h+=a}h+='"><div class="tile__body  hide--mob"><i class="tile--m__icon  tile--m__icon--l">+</i><span class="tile--m__subtitle">';a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"additional","More",p):m.call(n,"lp","additional","More",p));if(a||a===0){h+=a}h+='</span></div><span class="tile--m--mob">';a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"expand_text","Show More",p):m.call(n,"lp","expand_text","Show More",p));if(a||a===0){h+=a}h+="</span>";if(f=c.loader){a=f.call(n,{hash:{},data:j})}else{f=(n&&n.loader);a=typeof f===g?f.call(n,{hash:{},data:j}):f}if(a||a===0){h+=a}h+="</div>";return h});this["DDG"]["templates"]["videos_item"]=Handlebars.template(function(f,o,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,r,h="function",j=this.escapeExpression,q=this,n=e.helperMissing;function c(x,v){var s="",t,u;s+='data-link="';if(u=e.url){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.url);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+'"';return s}function a(x,v){var s="",t,u;s+='<a href="';if(u=e.url){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.url);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+'">';return s}function p(t,s){return"</a>"}i+='<div class="tile  tile--c--w  tile--vid  has-detail  opt--t-xxs" ';b=e["if"].call(o,(o&&o.url),{hash:{},inverse:q.noop,fn:q.program(1,c,k),data:k});if(b||b===0){i+=b}i+='><div class="tile__media"><img src="" data-src="'+j((g=e.imageProxy||(o&&o.imageProxy),r={hash:{},data:k},g?g.call(o,((b=(o&&o.images)),b==null||b===false?b:b.medium),r):n.call(o,"imageProxy",((b=(o&&o.images)),b==null||b===false?b:b.medium),r)))+'" alt="';if(g=e.title){b=g.call(o,{hash:{},data:k})}else{g=(o&&o.title);b=typeof g===h?g.call(o,{hash:{},data:k}):g}i+=j(b)+'" class="tile__media__img  js-lazyload" /><div class="image-labels"><span class="image-labels__label">';if(g=e.duration){b=g.call(o,{hash:{},data:k})}else{g=(o&&o.duration);b=typeof g===h?g.call(o,{hash:{},data:k}):g}i+=j(b)+'</span></div></div><div class="tile__body"><h6 class="tile__title  tile__title--2">';b=e["if"].call(o,(o&&o.url),{hash:{},inverse:q.noop,fn:q.program(3,a,k),data:k});if(b||b===0){i+=b}i+=j((g=e.ellipsis||(o&&o.ellipsis),r={hash:{},data:k},g?g.call(o,(o&&o.title),55,r):n.call(o,"ellipsis",(o&&o.title),55,r)));b=e["if"].call(o,(o&&o.url),{hash:{},inverse:q.noop,fn:q.program(5,p,k),data:k});if(b||b===0){i+=b}i+="</h6><span>";b=(g=e.favicon||(o&&o.favicon),r={hash:{lazy:("1"),className:("tile__favicon")},data:k},g?g.call(o,(o&&o.url),r):n.call(o,"favicon",(o&&o.url),r));if(b||b===0){i+=b}i+='<span class="video-source">';if(g=e.provider){b=g.call(o,{hash:{},data:k})}else{g=(o&&o.provider);b=typeof g===h?g.call(o,{hash:{},data:k}):g}i+=j(b)+'</span></span><span class="tile__count">';if(g=e.viewCount){b=g.call(o,{hash:{},data:k})}else{g=(o&&o.viewCount);b=typeof g===h?g.call(o,{hash:{},data:k}):g}if(b||b===0){i+=b}i+="</span></div></div>";return i});this["DDG"]["templates"]["videos_item_bing"]=Handlebars.template(function(g,s,q,k,u){this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,g.helpers);u=u||{};var r="",h,a,e,c="function",b=this.escapeExpression,o=this,p=q.helperMissing;function n(A,z){var v="",x,y;v+='data-link="';if(y=q.url){x=y.call(A,{hash:{},data:z})}else{y=(A&&A.url);x=typeof y===c?y.call(A,{hash:{},data:z}):y}v+=b(x)+'"';return v}function m(A,z){var v="",x,y;v+='<span class="image-labels__label ddgsi ddgsi-';if(y=q.labelIcon){x=y.call(A,{hash:{},data:z})}else{y=(A&&A.labelIcon);x=typeof y===c?y.call(A,{hash:{},data:z}):y}v+=b(x)+'"></span>';return v}function j(A,z){var v="",x,y;v+='<span class="image-labels__label">';if(y=q.duration){x=y.call(A,{hash:{},data:z})}else{y=(A&&A.duration);x=typeof y===c?y.call(A,{hash:{},data:z}):y}v+=b(x)+"</span>";return v}function i(A,z){var v="",x,y;v+='<a href="';if(y=q.url){x=y.call(A,{hash:{},data:z})}else{y=(A&&A.url);x=typeof y===c?y.call(A,{hash:{},data:z}):y}v+=b(x)+'">';return v}function f(x,v){return"</a>"}function t(x,v){return"&bullet; "}r+='<div class="tile  tile--c--w  tile--vid  has-detail  opt--t-xxs" ';h=q["if"].call(s,(s&&s.url),{hash:{},inverse:o.noop,fn:o.program(1,n,u),data:u});if(h||h===0){r+=h}r+='><div class="tile__media"><img src="" data-src="'+b((a=q.imageProxy||(s&&s.imageProxy),e={hash:{},data:u},a?a.call(s,((h=(s&&s.images)),h==null||h===false?h:h.medium),e):p.call(s,"imageProxy",((h=(s&&s.images)),h==null||h===false?h:h.medium),e)))+'" alt="';if(a=q.title){h=a.call(s,{hash:{},data:u})}else{a=(s&&s.title);h=typeof a===c?a.call(s,{hash:{},data:u}):a}r+=b(h)+'" class="tile__media__img  js-lazyload" /><div class="image-labels">';h=q["if"].call(s,(s&&s.labelIcon),{hash:{},inverse:o.noop,fn:o.program(3,m,u),data:u});if(h||h===0){r+=h}h=q["if"].call(s,(s&&s.duration),{hash:{},inverse:o.noop,fn:o.program(5,j,u),data:u});if(h||h===0){r+=h}r+='</div></div><div class="tile__body"><h6 class="tile__title  tile__title--2">';h=q["if"].call(s,(s&&s.url),{hash:{},inverse:o.noop,fn:o.program(7,i,u),data:u});if(h||h===0){r+=h}r+=b((a=q.ellipsis||(s&&s.ellipsis),e={hash:{},data:u},a?a.call(s,(s&&s.title),55,e):p.call(s,"ellipsis",(s&&s.title),55,e)));h=q["if"].call(s,(s&&s.url),{hash:{},inverse:o.noop,fn:o.program(9,f,u),data:u});if(h||h===0){r+=h}r+='</h6><div class="tile__stats one-line t-m">';if(a=q.viewCount){h=a.call(s,{hash:{},data:u})}else{a=(s&&s.viewCount);h=typeof a===c?a.call(s,{hash:{},data:u}):a}if(h||h===0){r+=h}r+=' <span class="hide--screen-xs">';h=(a=q.and||(s&&s.and),e={hash:{},inverse:o.noop,fn:o.program(11,t,u),data:u},a?a.call(s,(s&&s.viewCount),(s&&s.publishedDate),e):p.call(s,"and",(s&&s.viewCount),(s&&s.publishedDate),e));if(h||h===0){r+=h}if(a=q.publishedDate){h=a.call(s,{hash:{},data:u})}else{a=(s&&s.publishedDate);h=typeof a===c?a.call(s,{hash:{},data:u}):a}r+=b(h)+'</span></div><div class="t-m">';h=(a=q.favicon||(s&&s.favicon),e={hash:{lazy:("1"),className:("tile__favicon")},data:u},a?a.call(s,(s&&s.url),e):p.call(s,"favicon",(s&&s.url),e));if(h||h===0){r+=h}r+=b((a=q.ellipsis||(s&&s.ellipsis),e={hash:{},data:u},a?a.call(s,(s&&s.provider),25,e):p.call(s,"ellipsis",(s&&s.provider),25,e)))+"</div></div></div>";return r});this["DDG"]["templates"]["base_item_detail"]=Handlebars.template(function(f,n,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",b,g="function",i=this.escapeExpression,m=e.helperMissing,p=this;function c(v,u){var q="",s,t,r;q+='<div class="detail__media detail__media--'+i(((s=((s=(v&&v.meta)),s==null||s===false?s:s.id)),typeof s===g?s.apply(v):s))+" "+i(((s=((s=((s=(v&&v.meta)),s==null||s===false?s:s.elClass)),s==null||s===false?s:s.detailMedia)),typeof s===g?s.apply(v):s))+'"><img class="detail__media__img '+i(((s=((s=((s=(v&&v.meta)),s==null||s===false?s:s.elClass)),s==null||s===false?s:s.detailImg)),typeof s===g?s.apply(v):s))+'" src="'+i((t=e.imageProxy||(v&&v.imageProxy),r={hash:{},data:u},t?t.call(v,(v&&v.image),r):m.call(v,"imageProxy",(v&&v.image),r)))+'" alt="';if(t=e.imageAlt){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.imageAlt);s=typeof t===g?t.call(v,{hash:{},data:u}):t}q+=i(s)+'" /></div>';return q}function a(t,s){var q,r;if(r=e.content){q=r.call(t,{hash:{},data:s})}else{r=(t&&t.content);q=typeof r===g?r.call(t,{hash:{},data:s}):r}if(q||q===0){return q}else{return""}}function o(u,t){var r,s,q;r=(s=e.include||(u&&u.include),q={hash:{},data:t},s?s.call(u,((r=((r=(u&&u.meta)),r==null||r===false?r:r.options)),r==null||r===false?r:r.content),q):m.call(u,"include",((r=((r=(u&&u.meta)),r==null||r===false?r:r.options)),r==null||r===false?r:r.content),q));if(r||r===0){return r}else{return""}}h+='<div class="detail__inner">';b=e["if"].call(n,(n&&n.image),{hash:{},inverse:p.noop,fn:p.program(1,c,j),data:j});if(b||b===0){h+=b}h+='<div class="detail__body detail__body--'+i(((b=((b=(n&&n.meta)),b==null||b===false?b:b.id)),typeof b===g?b.apply(n):b))+" "+i(((b=((b=((b=(n&&n.meta)),b==null||b===false?b:b.elClass)),b==null||b===false?b:b.detailBody)),typeof b===g?b.apply(n):b))+'"><div class="detail__body__content">';b=e["if"].call(n,(n&&n.content),{hash:{},inverse:p.program(5,o,j),fn:p.program(3,a,j),data:j});if(b||b===0){h+=b}h+="</div></div></div>";return h});this["DDG"]["templates"]["images_detail"]=Handlebars.template(function(f,s,q,j,t){this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,f.helpers);t=t||{};var r="",h,a,e,c="function",b=this.escapeExpression,o=this,p=q.helperMissing;function n(z,y){var u="",v,x;u+="<a ";v=q["if"].call(z,((v=(z&&z.detail)),v==null||v===false?v:v.width),{hash:{},inverse:o.noop,fn:o.program(2,m,y),data:y});if(v||v===0){u+=v}u+=' href="';if(x=q.image){v=x.call(z,{hash:{},data:y})}else{x=(z&&z.image);v=typeof x===c?x.call(z,{hash:{},data:y}):x}u+=b(v)+'" class="detail__media__img-link  js-detail-img  js-image-detail-link" target="_blank">';return u}function m(y,x){var u="",v;u+='style="width:'+b(((v=((v=(y&&y.detail)),v==null||v===false?v:v.width)),typeof v===c?v.apply(y):v))+";height:"+b(((v=((v=(y&&y.detail)),v==null||v===false?v:v.height)),typeof v===c?v.apply(y):v))+";top:"+b(((v=((v=(y&&y.detail)),v==null||v===false?v:v.top)),typeof v===c?v.apply(y):v))+';"';return u}function k(v,u){return"</a>"}function i(A,z){var u="",x,y,v;u+='<a href="';if(y=q.image){x=y.call(A,{hash:{},data:z})}else{y=(A&&A.image);x=typeof y===c?y.call(A,{hash:{},data:z}):y}u+=b(x)+'" target="_blank" class="c-detail__btn c-detail__btn--right btn js-image-detail-link">';x=(y=q.l||(A&&A.l),v={hash:{},data:z},y?y.call(A,"View File",v):p.call(A,"l","View File",v));if(x||x===0){u+=x}u+="</a>";return u}function g(A,z){var u="",x,y,v;u+='<a href="';if(y=q.image){x=y.call(A,{hash:{},data:z})}else{y=(A&&A.image);x=typeof y===c?y.call(A,{hash:{},data:z}):y}u+=b(x)+'" target="_blank" class="c-detail__btn c-detail__btn--bottom btn js-image-detail-link">';x=(y=q.l||(A&&A.l),v={hash:{},data:z},y?y.call(A,"View File",v):p.call(A,"l","View File",v));if(x||x===0){u+=x}u+="</a>";return u}r+='<div class="detail__inner"><div class="detail__media  detail__media--images"><div class="detail__media__img-wrapper  js-image-detail-wrapper">';h=q["if"].call(s,(s&&s.linkImage),{hash:{},inverse:o.noop,fn:o.program(1,n,t),data:t});if(h||h===0){r+=h}r+='<div style="width:'+b(((h=((h=(s&&s.detail)),h==null||h===false?h:h.transBgWidth)),typeof h===c?h.apply(s):h))+";height:"+b(((h=((h=(s&&s.detail)),h==null||h===false?h:h.transBgHeight)),typeof h===c?h.apply(s):h))+';" class="detail__media__img-bg  js-detail-img  js-detail-img-bg"></div><img src="'+b((a=q.imageProxy||(s&&s.imageProxy),e={hash:{},data:t},a?a.call(s,(s&&s.thumbnail),e):p.call(s,"imageProxy",(s&&s.thumbnail),e)))+'" ';h=q["if"].call(s,((h=(s&&s.detail)),h==null||h===false?h:h.width),{hash:{},inverse:o.noop,fn:o.program(2,m,t),data:t});if(h||h===0){r+=h}r+=' class="detail__media__img-thumbnail  js-detail-img  js-detail-img-thumb" /><img ';h=q["if"].call(s,((h=(s&&s.detail)),h==null||h===false?h:h.width),{hash:{},inverse:o.noop,fn:o.program(2,m,t),data:t});if(h||h===0){r+=h}r+=' alt="';if(a=q.title){h=a.call(s,{hash:{},data:t})}else{a=(s&&s.title);h=typeof a===c?a.call(s,{hash:{},data:t}):a}r+=b(h)+'" class="detail__media__img-highres  js-detail-img  js-detail-img-high" />';h=q["if"].call(s,(s&&s.linkImage),{hash:{},inverse:o.noop,fn:o.program(4,k,t),data:t});if(h||h===0){r+=h}r+='</div></div><div class="detail__body  detail__body--images"><div class="c-detail  detail__body__content"><h5 class="c-detail__title"><a href="';if(a=q.url){h=a.call(s,{hash:{},data:t})}else{a=(s&&s.url);h=typeof a===c?a.call(s,{hash:{},data:t}):a}r+=b(h)+'">';if(a=q.title){h=a.call(s,{hash:{},data:t})}else{a=(s&&s.title);h=typeof a===c?a.call(s,{hash:{},data:t}):a}r+=b(h)+'</a></h5><div class="c-detail__desc">';h=q["if"].call(s,(s&&s.isMobile),{hash:{},inverse:o.noop,fn:o.program(6,i,t),data:t});if(h||h===0){r+=h}r+='<p><a href="';if(a=q.url){h=a.call(s,{hash:{},data:t})}else{a=(s&&s.url);h=typeof a===c?a.call(s,{hash:{},data:t}):a}r+=b(h)+'">'+b((a=q.domain||(s&&s.domain),e={hash:{},data:t},a?a.call(s,(s&&s.url),e):p.call(s,"domain",(s&&s.url),e)))+'</a></p><div class="c-detail__filemeta">';if(a=q.width){h=a.call(s,{hash:{},data:t})}else{a=(s&&s.width);h=typeof a===c?a.call(s,{hash:{},data:t}):a}r+=b(h)+" &times; ";if(a=q.height){h=a.call(s,{hash:{},data:t})}else{a=(s&&s.height);h=typeof a===c?a.call(s,{hash:{},data:t}):a}r+=b(h)+"</div>";h=q["if"].call(s,(s&&s.isMobile),{hash:{},inverse:o.program(8,g,t),fn:o.noop,data:t});if(h||h===0){r+=h}r+="</div></div></div></div>";return r});this["DDG"]["templates"]["media_item_detail"]=Handlebars.template(function(f,o,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,h="function",j=this.escapeExpression,n=e.helperMissing,s=this;function c(z,y){var t="",v,x,u;t+='<div class="detail__media '+j(((v=((v=((v=(z&&z.meta)),v==null||v===false?v:v.elClass)),v==null||v===false?v:v.detailMedia)),typeof v===h?v.apply(z):v))+'"><img class="detail__media__img '+j(((v=((v=((v=(z&&z.meta)),v==null||v===false?v:v.elClass)),v==null||v===false?v:v.detailImg)),typeof v===h?v.apply(z):v))+'" src="'+j((x=e.imageProxy||(z&&z.imageProxy),u={hash:{},data:y},x?x.call(z,(z&&z.image),u):n.call(z,"imageProxy",(z&&z.image),u)))+'" alt="imageAlt" /></div>';return t}function a(z,y){var t="",v,x,u;t+='<span class="c-detail__title__sub '+j(((v=((v=((v=(z&&z.meta)),v==null||v===false?v:v.elClass)),v==null||v===false?v:v.detailAltSubtitle)),typeof v===h?v.apply(z):v))+'">';v=(x=e.formatSubtitle||(z&&z.formatSubtitle),u={hash:{},data:y},x?x.call(z,(z&&z.altSubtitle),u):n.call(z,"formatSubtitle",(z&&z.altSubtitle),u));if(v||v===0){t+=v}t+="</span>";return t}function r(z,y){var t="",v,x,u;t+='<span class="c-detail__subtitle '+j(((v=((v=((v=(z&&z.meta)),v==null||v===false?v:v.elClass)),v==null||v===false?v:v.detailSubtitle)),typeof v===h?v.apply(z):v))+'">';v=(x=e.formatSubtitle||(z&&z.formatSubtitle),u={hash:{},data:y},x?x.call(z,(z&&z.subtitle),u):n.call(z,"formatSubtitle",(z&&z.subtitle),u));if(v||v===0){t+=v}t+="</span>";return t}function q(z,y){var t="",v,x,u;t+='<div class="c-detail__desc '+j(((v=((v=((v=(z&&z.meta)),v==null||v===false?v:v.elClass)),v==null||v===false?v:v.detailSnippet)),typeof v===h?v.apply(z):v))+'">'+j((x=e.ellipsis||(z&&z.ellipsis),u={hash:{fallback:(155)},data:y},x?x.call(z,(z&&z.description),((v=(z&&z.meta)),v==null||v===false?v:v.snippetChars),u):n.call(z,"ellipsis",(z&&z.description),((v=(z&&z.meta)),v==null||v===false?v:v.snippetChars),u)))+"</div>";return t}function p(z,y){var t="",v,x,u;t+='<div class="c-detail__callout '+j(((v=((v=((v=(z&&z.meta)),v==null||v===false?v:v.elClass)),v==null||v===false?v:v.detailFoot)),typeof v===h?v.apply(z):v))+'">';v=(x=e.include||(z&&z.include),u={hash:{},data:y},x?x.call(z,((v=((v=(z&&z.meta)),v==null||v===false?v:v.options)),v==null||v===false?v:v.callout),u):n.call(z,"include",((v=((v=(z&&z.meta)),v==null||v===false?v:v.options)),v==null||v===false?v:v.callout),u));if(v||v===0){t+=v}t+="</div>";return t}i+='<div class="detail__inner">';b=e["if"].call(o,(o&&o.image),{hash:{},inverse:s.noop,fn:s.program(1,c,k),data:k});if(b||b===0){i+=b}i+='<div class="detail__body '+j(((b=((b=((b=(o&&o.meta)),b==null||b===false?b:b.elClass)),b==null||b===false?b:b.detailBody)),typeof b===h?b.apply(o):b))+'"><div class="c-detail detail__body__content"><h5 class="c-detail__title '+j(((b=((b=((b=(o&&o.meta)),b==null||b===false?b:b.elClass)),b==null||b===false?b:b.detailTitle)),typeof b===h?b.apply(o):b))+'">';if(g=e.title){b=g.call(o,{hash:{},data:k})}else{g=(o&&o.title);b=typeof g===h?g.call(o,{hash:{},data:k}):g}i+=j(b);b=e["if"].call(o,(o&&o.altSubtitle),{hash:{},inverse:s.noop,fn:s.program(3,a,k),data:k});if(b||b===0){i+=b}i+="</h5>";b=e["if"].call(o,(o&&o.subtitle),{hash:{},inverse:s.noop,fn:s.program(5,r,k),data:k});if(b||b===0){i+=b}b=e["if"].call(o,(o&&o.description),{hash:{},inverse:s.noop,fn:s.program(7,q,k),data:k});if(b||b===0){i+=b}b=e["if"].call(o,((b=((b=(o&&o.meta)),b==null||b===false?b:b.options)),b==null||b===false?b:b.callout),{hash:{},inverse:s.noop,fn:s.program(9,p,k),data:k});if(b||b===0){i+=b}i+="</div></div></div>";return i});this["DDG"]["templates"]["products_item_detail"]=Handlebars.template(function(g,s,q,k,v){this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,g.helpers);v=v||{};var r="",h,a,e,p=q.helperMissing,b=this.escapeExpression,c="function",o=this;function n(B,A){var x="",z,y;x+='<div class="detail__media  detail__media--pr"><img class="detail__media__img" src="'+b((z=q.imageProxy||(B&&B.imageProxy),y={hash:{},data:A},z?z.call(B,(B&&B.img_m),y):p.call(B,"imageProxy",(B&&B.img_m),y)))+'" /></div>';return x}function m(B,A){var x="",y,z;x+='<span class="c-detail__price  price  tx-clr--dk2">';if(z=q.price){y=z.call(B,{hash:{},data:A})}else{z=(B&&B.price);y=typeof z===c?z.call(B,{hash:{},data:A}):z}x+=b(y)+"</span>";return x}function j(y,x){return'<span class="sep  c-detail__sep"></span>'}function i(C,B){var x="",z,A,y;x+='<span class="c-detail__brand">';z=(A=q.lp||(C&&C.lp),y={hash:{},data:B},A?A.call(C,"made_by","by %s",(C&&C.brand),y):p.call(C,"lp","made_by","by %s",(C&&C.brand),y));if(z||z===0){x+=z}x+="</span>";return x}function f(B,A){var y,z,x;y=(z=q.include||(B&&B.include),x={hash:{},data:A},z?z.call(B,((y=((y=(B&&B.meta)),y==null||y===false?y:y.options)),y==null||y===false?y:y.subtitle_content),x):p.call(B,"include",((y=((y=(B&&B.meta)),y==null||y===false?y:y.options)),y==null||y===false?y:y.subtitle_content),x));if(y||y===0){return y}else{return""}}function u(C,B){var x="",z,A,y;x+='<p class="c-detail__rating">';z=(A=q.starsAndReviews||(C&&C.starsAndReviews),y={hash:{},data:B},A?A.call(C,(C&&C.rating),(C&&C.reviewCount),(C&&C.url_review),((z=((z=(C&&C.meta)),z==null||z===false?z:z.options)),z==null||z===false?z:z.hideReviewText),y):p.call(C,"starsAndReviews",(C&&C.rating),(C&&C.reviewCount),(C&&C.url_review),((z=((z=(C&&C.meta)),z==null||z===false?z:z.options)),z==null||z===false?z:z.hideReviewText),y));if(z||z===0){x+=z}x+="</p>";return x}function t(B,A){var y,z,x;y=(z=q.include||(B&&B.include),x={hash:{},data:A},z?z.call(B,((y=((y=(B&&B.meta)),y==null||y===false?y:y.options)),y==null||y===false?y:y.buy),x):p.call(B,"include",((y=((y=(B&&B.meta)),y==null||y===false?y:y.options)),y==null||y===false?y:y.buy),x));if(y||y===0){return y}else{return""}}r+='<div class="detail__inner">';h=q["if"].call(s,(s&&s.img_m),{hash:{},inverse:o.noop,fn:o.program(1,n,v),data:v});if(h||h===0){r+=h}r+='<div class="detail__body  detail__body--pr"><div class="c-detail  detail__body__content">';h=(a=q.formatTitle||(s&&s.formatTitle),e={hash:{href:((s&&s.url)),el:("h5"),className:("c-detail__title"),ellipsis:(120)},data:v},a?a.call(s,(s&&s.heading),e):p.call(s,"formatTitle",(s&&s.heading),e));if(h||h===0){r+=h}r+='<p class="c-detail__subtitle">';h=(a=q.and||(s&&s.and),e={hash:{},inverse:o.noop,fn:o.program(3,m,v),data:v},a?a.call(s,((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.price),(s&&s.price),e):p.call(s,"and",((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.price),(s&&s.price),e));if(h||h===0){r+=h}h=(a=q.and||(s&&s.and),e={hash:{},inverse:o.noop,fn:o.program(5,j,v),data:v},a?a.call(s,((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.price),((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.brand),(s&&s.price),(s&&s.brand),e):p.call(s,"and",((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.price),((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.brand),(s&&s.price),(s&&s.brand),e));if(h||h===0){r+=h}h=(a=q.and||(s&&s.and),e={hash:{},inverse:o.noop,fn:o.program(7,i,v),data:v},a?a.call(s,((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.brand),(s&&s.brand),e):p.call(s,"and",((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.brand),(s&&s.brand),e));if(h||h===0){r+=h}h=q["if"].call(s,((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.subtitle_content),{hash:{},inverse:o.noop,fn:o.program(9,f,v),data:v});if(h||h===0){r+=h}r+="</p>";h=q["if"].call(s,((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.rating),{hash:{},inverse:o.noop,fn:o.program(11,u,v),data:v});if(h||h===0){r+=h}r+='<p class="c-detail__desc  hide--screen-xs">';if(a=q["abstract"]){h=a.call(s,{hash:{},data:v})}else{a=(s&&s["abstract"]);h=typeof a===c?a.call(s,{hash:{},data:v}):a}if(h||h===0){r+=h}r+="</p>";h=q["if"].call(s,((h=((h=(s&&s.meta)),h==null||h===false?h:h.options)),h==null||h===false?h:h.buy),{hash:{},inverse:o.noop,fn:o.program(13,t,v),data:v});if(h||h===0){r+=h}r+="</div></div></div>";return r});this["DDG"]["templates"]["qa_detail"]=Handlebars.template(function(c,m,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,n,f="function",h=this.escapeExpression,k=b.helperMissing;g+='<div class="detail__inner"><div class="detail__body  detail__body--qa"><div class="c-detail detail__body__content  detail__body__content--qa"><h4 class="c-detail__title  detail__title--qa"><a href="';if(e=b.url){a=e.call(m,{hash:{},data:i})}else{e=(m&&m.url);a=typeof e===f?e.call(m,{hash:{},data:i}):e}g+=h(a)+'">';if(e=b.heading){a=e.call(m,{hash:{},data:i})}else{e=(m&&m.heading);a=typeof e===f?e.call(m,{hash:{},data:i}):e}if(a||a===0){g+=a}g+='</a></h4><div class="chomp--scroll">';if(e=b["abstract"]){a=e.call(m,{hash:{},data:i})}else{e=(m&&m["abstract"]);a=typeof e===f?e.call(m,{hash:{},data:i}):e}if(a||a===0){g+=a}g+='</div><p class="c-detail__more">';a=(e=b.moreAt||(m&&m.moreAt),n={hash:{},data:i},e?e.call(m,(m&&m.url),(m&&m.source),n):k.call(m,"moreAt",(m&&m.url),(m&&m.source),n));if(a||a===0){g+=a}g+="</p></div></div></div>";return g});this["DDG"]["templates"]["videos_detail"]=Handlebars.template(function(f,s,q,j,v){this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,f.helpers);v=v||{};var r="",h,a,e,c="function",b=this.escapeExpression,o=this,p=q.helperMissing;function n(A,z){var x="",y;x+='<p class="c-detail__user"><i class="c-detail__icon  c-detail__user__icon">u</i> ';y=q["if"].call(A,(A&&A.userURL),{hash:{},inverse:o.program(4,k,z),fn:o.program(2,m,z),data:z});if(y||y===0){x+=y}x+="</p>";return x}function m(B,A){var x="",y,z;x+="<a href='";if(z=q.userURL){y=z.call(B,{hash:{},data:A})}else{z=(B&&B.userURL);y=typeof z===c?z.call(B,{hash:{},data:A}):z}x+=b(y)+"'>";if(z=q.username){y=z.call(B,{hash:{},data:A})}else{z=(B&&B.username);y=typeof z===c?z.call(B,{hash:{},data:A}):z}x+=b(y)+"</a>";return x}function k(A,z){var x,y;if(y=q.username){x=y.call(A,{hash:{},data:z})}else{y=(A&&A.username);x=typeof y===c?y.call(A,{hash:{},data:z}):y}return b(x)}function i(B,A){var x="",y,z;x+='<p class="c-detail__count"><i class="c-detail__icon  c-detail__count__icon">i</i> ';if(z=q.viewCount){y=z.call(B,{hash:{},data:A})}else{z=(B&&B.viewCount);y=typeof z===c?z.call(B,{hash:{},data:A}):z}x+=b(y)+"</p>";return x}function g(B,A){var x="",y,z;x+='<p class="c-detail__date"><i class="c-detail__icon  c-detail__date__icon">&uArr;</i> ';if(z=q.publishedDate){y=z.call(B,{hash:{},data:A})}else{z=(B&&B.publishedDate);y=typeof z===c?z.call(B,{hash:{},data:A}):z}x+=b(y)+"</p>";return x}function u(C,B){var x="",z,A,y;x+='<h6 class="c-detail__links--title">';z=(A=q.lp||(C&&C.lp),y={hash:{},data:B},A?A.call(C,"access_song","Get this song on:",y):p.call(C,"lp","access_song","Get this song on:",y));if(z||z===0){x+=z}x+='</h6><p class="c-detail__links"><a href=\'/?q='+b(((z=((z=(C&&C.musicVideo)),z==null||z===false?z:z.spotifyURL)),typeof z===c?z.apply(C):z))+"' class='btn c-detail__links__btn'>";z=(A=q.favicon||(C&&C.favicon),y={hash:{className:("btn__icon"),w:("auto"),h:("auto")},data:B},A?A.call(C,"spotify",y):p.call(C,"favicon","spotify",y));if(z||z===0){x+=z}x+="Spotify</a><a href='/?q="+b(((z=((z=(C&&C.musicVideo)),z==null||z===false?z:z.amazonURL)),typeof z===c?z.apply(C):z))+"' class='btn c-detail__links__btn'>";z=(A=q.favicon||(C&&C.favicon),y={hash:{className:("btn__icon"),w:("auto"),h:("auto")},data:B},A?A.call(C,"amazon",y):p.call(C,"favicon","amazon",y));if(z||z===0){x+=z}x+="Amazon  </a><a style=\"display: none;\" href='' id=\"video-detail-itunes\" class='btn c-detail__links__btn' data-title='"+b(((z=((z=(C&&C.musicVideo)),z==null||z===false?z:z.title)),typeof z===c?z.apply(C):z))+"' data-artist='"+b(((z=((z=(C&&C.musicVideo)),z==null||z===false?z:z.artist)),typeof z===c?z.apply(C):z))+"' data-song='"+b(((z=((z=(C&&C.musicVideo)),z==null||z===false?z:z.song)),typeof z===c?z.apply(C):z))+"'>";z=(A=q.favicon||(C&&C.favicon),y={hash:{className:("btn__icon"),w:("auto"),h:("auto")},data:B},A?A.call(C,"apple",y):p.call(C,"favicon","apple",y));if(z||z===0){x+=z}x+="iTunes  </a></p>";return x}function t(C,B){var x="",z,A,y;x+='<p class="c-detail__more">';z=(A=q.moreAt||(C&&C.moreAt),y={hash:{className:(" "),iconClassName:("c-detail__icon"),iconUrl:((C&&C.faviconURL))},data:B},A?A.call(C,(C&&C.searchURL),(C&&C.provider),y):p.call(C,"moreAt",(C&&C.searchURL),(C&&C.provider),y));if(z||z===0){x+=z}x+="</p>";return x}r+='<div class="detail__inner"><div class="detail__media  detail__media--vid  js-video"><div class="detail__media__vid-wrap  js-video-media" style="background-image:url(\''+b((a=q.imageProxy||(s&&s.imageProxy),e={hash:{},data:v},a?a.call(s,((h=(s&&s.images)),h==null||h===false?h:h.medium),e):p.call(s,"imageProxy",((h=(s&&s.images)),h==null||h===false?h:h.medium),e)))+'\');"></div></div><div class="detail__body"><div class="c-detail  detail__body__content"><h5 class="c-detail__title"><a href=\'';if(a=q.url){h=a.call(s,{hash:{},data:v})}else{a=(s&&s.url);h=typeof a===c?a.call(s,{hash:{},data:v}):a}r+=b(h)+"' title=\"";if(a=q.title){h=a.call(s,{hash:{},data:v})}else{a=(s&&s.title);h=typeof a===c?a.call(s,{hash:{},data:v}):a}r+=b(h)+'">';if(a=q.title){h=a.call(s,{hash:{},data:v})}else{a=(s&&s.title);h=typeof a===c?a.call(s,{hash:{},data:v}):a}r+=b(h)+'</a></h5><div class="c-detail__desc">';h=q["if"].call(s,(s&&s.username),{hash:{},inverse:o.noop,fn:o.program(1,n,v),data:v});if(h||h===0){r+=h}h=q["if"].call(s,(s&&s.viewCount),{hash:{},inverse:o.noop,fn:o.program(6,i,v),data:v});if(h||h===0){r+=h}h=q["if"].call(s,(s&&s.publishedDate),{hash:{},inverse:o.noop,fn:o.program(8,g,v),data:v});if(h||h===0){r+=h}r+="</div>    ";h=q["if"].call(s,(s&&s.musicVideo),{hash:{},inverse:o.noop,fn:o.program(10,u,v),data:v});if(h||h===0){r+=h}h=q["if"].call(s,(s&&s.searchURL),{hash:{},inverse:o.noop,fn:o.program(12,t,v),data:v});if(h||h===0){r+=h}r+="</div></div></div>";return r});this["DDG"]["templates"]["videos_detail_embed"]=Handlebars.template(function(c,k,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,f="function",h=this.escapeExpression;g+='<iframe class="proxy_video_frame detail__media__vid" width="100%" height="100%" src="/video_frame?url=';if(e=b.embedURL){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.embedURL);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+'" frameborder="0" scrolling="no" allowfullscreen mozallowfullscreen webkitallowfullscreen></iframe>';return g});this["DDG"]["templates"]["videos_detail_privacy"]=Handlebars.template(function(f,k,e,i,h){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);h=h||{};var g="",b,j=e.helperMissing,m=this;function c(s,r){var n="",p,q,o;n+='<div class="overlay--video-privacy__icon"></div><h3 class="overlay__title  detail__media__privacy__header">';p=(q=e.l||(s&&s.l),o={hash:{},data:r},q?q.call(s,"YouTube Privacy Warning",o):j.call(s,"l","YouTube Privacy Warning",o));if(p||p===0){n+=p}n+='</h3><p class="overlay__text  overlay--video-privacy__text">';p=(q=e.l||(s&&s.l),o={hash:{},data:r},q?q.call(s,"YouTube (owned by Google) does not let you watch videos anonymously. As such, watching YouTube videos here will be tracked by YouTube/Google.",o):j.call(s,"l","YouTube (owned by Google) does not let you watch videos anonymously. As such, watching YouTube videos here will be tracked by YouTube/Google.",o));if(p||p===0){n+=p}n+='</p><ul class="overlay__btn-list"><li class="overlay__btn-list__li"><a class="btn  btn--wire  overlay__btn  js-video-privacy-watch" href="#" title="';p=(q=e.l||(s&&s.l),o={hash:{},data:r},q?q.call(s,"Watch Here",o):j.call(s,"l","Watch Here",o));if(p||p===0){n+=p}n+='">';p=(q=e.l||(s&&s.l),o={hash:{},data:r},q?q.call(s,"Watch Here",o):j.call(s,"l","Watch Here",o));if(p||p===0){n+=p}n+='</a></li><li class="overlay__btn-list__li"><a class="btn  btn--wire  overlay__btn  js-video-privacy-leave" href="#" title="';p=(q=e.l||(s&&s.l),o={hash:{},data:r},q?q.call(s,"Watch on YouTube",o):j.call(s,"l","Watch on YouTube",o));if(p||p===0){n+=p}n+='">';p=(q=e.l||(s&&s.l),o={hash:{},data:r},q?q.call(s,"Watch on YouTube",o):j.call(s,"l","Watch on YouTube",o));if(p||p===0){n+=p}n+='</a></li></ul><label class="overlay--video-privacy__remember  js-video-privacy-remember-label"><input type="checkbox" class="js-video-privacy-remember" type="checkbox" checked="checked" />';p=(q=e.l||(s&&s.l),o={hash:{},data:r},q?q.call(s,"Remember my choice (this can be changed in %sSettings%s)",'<a href="/settings#privacy" title="{{{l "Open Settings"}}}">',"</a>",o):j.call(s,"l","Remember my choice (this can be changed in %sSettings%s)",'<a href="/settings#privacy" title="{{{l "Open Settings"}}}">',"</a>",o));if(p||p===0){n+=p}n+="</label>";return n}function a(s,r){var n="",p,q,o;n+='<p class="overlay__text overlay--video-privacy__text">';p=(q=e.l||(s&&s.l),o={hash:{},data:r},q?q.call(s,"This video is not yet able to be watched here. You can watch it on %s.",(s&&s.publisher),o):j.call(s,"l","This video is not yet able to be watched here. You can watch it on %s.",(s&&s.publisher),o));if(p||p===0){n+=p}n+='</p><a class="btn btn--wire overlay__btn overlay__btn--single js-video-privacy-leave" href="#" title="';p=(q=e.l||(s&&s.l),o={hash:{},data:r},q?q.call(s,"Watch on %s",(s&&s.publisher),o):j.call(s,"l","Watch on %s",(s&&s.publisher),o));if(p||p===0){n+=p}n+='">';p=(q=e.l||(s&&s.l),o={hash:{},data:r},q?q.call(s,"Watch on %s",(s&&s.publisher),o):j.call(s,"l","Watch on %s",(s&&s.publisher),o));if(p||p===0){n+=p}n+="</a>";return n}g+='<div class="overlay  overlay--video-privacy"><div class="overlay__wrap"><div class="overlay__content">';b=e["if"].call(k,(k&&k.embedURL),{hash:{},inverse:m.program(3,a,h),fn:m.program(1,c,h),data:h});if(b||b===0){g+=b}g+="</div></div></div>";return g});this["DDG"]["templates"]["attribution"]=Handlebars.template(function(c,k,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,f="function",h=this.escapeExpression;g+='<span class="modal-trig  ';if(e=b.className){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.className);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+'  hide--screen-s  hide--mob"><a class="attribution--link  js-attribution-link"><span class="attribution--link__icon  ddgsi">I</span></a></span>';return g});this["DDG"]["templates"]["attribution_modal"]=Handlebars.template(function(g,p,f,n,m){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,g.helpers);m=m||{};var j="",b,h,r,o=f.helperMissing,i="function",k=this.escapeExpression,q=this;function e(v,u){var s="",t;s+='<hr class="attribution__hr"/>';t=f.each.call(v,(v&&v.devs),{hash:{},inverse:q.noop,fn:q.program(2,c,u),data:u});if(t||t===0){s+=t}return s}function c(u,t){var s;s=f["if"].call(u,(u&&u.show),{hash:{},inverse:q.noop,fn:q.program(3,a,t),data:t});if(s||s===0){return s}else{return""}}function a(y,x){var s="",u,v,t;s+='<div class="tx-clr--slate-light">';u=(v=f.lp||(y&&y.lp),t={hash:{},data:x},v?v.call(y,"attribution","Developer",t):o.call(y,"lp","attribution","Developer",t));if(u||u===0){s+=u}s+=': <a href="'+k(((u=(y&&y.url)),typeof u===i?u.apply(y):u))+'" class="tx-clr--slate">'+k(((u=(y&&y.name)),typeof u===i?u.apply(y):u))+"</a></div>";return s}j+='<div class="modal  modal--popout  modal--popout--';if(h=f.direction){b=h.call(p,{hash:{},data:m})}else{h=(p&&p.direction);b=typeof h===i?h.call(p,{hash:{},data:m}):h}j+=k(b)+'  modal--popout--lg"><div class="modal__overlay js-modal-close"></div><div class="modal__wrap"><div class="modal__box"><div class="modal__body"><div class="attribution"><p class="tx-clr--slate">';b=(h=f.lp||(p&&p.lp),r={hash:{},data:m},h?h.call(p,"attribution","This Instant Answer was made by the %sDuckDuckHack%s Community.","","",r):o.call(p,"lp","attribution","This Instant Answer was made by the %sDuckDuckHack%s Community.","","",r));if(b||b===0){j+=b}j+="</p>";b=f["if"].call(p,(p&&p.devs),{hash:{},inverse:q.noop,fn:q.program(1,e,m),data:m});if(b||b===0){j+=b}j+="</div></div></div></div></div>";return j});this["DDG"]["templates"]["chomp_link"]=Handlebars.template(function(e,n,c,k,j){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);j=j||{};var h="",a,f,p,g="function",i=this.escapeExpression,o=this,m=c.helperMissing;function b(r,q){return"sep--after"}h+='<a class="';if(f=c.className){a=f.call(n,{hash:{},data:j})}else{f=(n&&n.className);a=typeof f===g?f.call(n,{hash:{},data:j}):f}h+=i(a)+"  chomp--link  js-chomp-link  ";a=c["if"].call(n,(n&&n.sep),{hash:{},inverse:o.noop,fn:o.program(1,b,j),data:j});if(a||a===0){h+=a}h+='"><i class="chomp--link__icn"></i><span class="chomp--link__mr">';a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"expand_text","Show More",p):m.call(n,"lp","expand_text","Show More",p));if(a||a===0){h+=a}h+='</span><span class="chomp--link__ls">';a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"expand_text","Show Less",p):m.call(n,"lp","expand_text","Show Less",p));if(a||a===0){h+=a}h+="</span></a>";return h});this["DDG"]["templates"]["date_badge"]=Handlebars.template(function(f,k,e,j,i){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);i=i||{};var a,g="function",h=this.escapeExpression,m=this;function c(r,q){var o="",p;o+='<div class="date-badge">';p=e["if"].call(r,(r&&r.text),{hash:{},inverse:m.program(4,n,q),fn:m.program(2,b,q),data:q});if(p||p===0){o+=p}o+="</div>";return o}function b(s,r){var o="",p,q;o+='<span class="date-badge__text">';if(q=e.text){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.text);p=typeof q===g?q.call(s,{hash:{},data:r}):q}o+=h(p)+"</span>";return o}function n(s,r){var o="",p,q;o+='<span class="date-badge__month">';if(q=e.month){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.month);p=typeof q===g?q.call(s,{hash:{},data:r}):q}o+=h(p)+'</span><span class="date-badge__day">';if(q=e.day){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.day);p=typeof q===g?q.call(s,{hash:{},data:r}):q}o+=h(p)+"</span>";return o}a=e["with"].call(k,(k&&k.dateBadge),{hash:{},inverse:m.noop,fn:m.program(1,c,i),data:i});if(a||a===0){return a}else{return""}});this["DDG"]["templates"]["infobox"]=Handlebars.template(function(e,s,q,j,x){this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,e.helpers);x=x||{};var r="",f,b="function",a=this.escapeExpression,o=this,p=q.helperMissing;function n(B,A){var y="",z;z=q["if"].call(B,(B&&B.heading),{hash:{},inverse:o.noop,fn:o.program(2,m,A),data:A});if(z||z===0){y+=z}z=q["if"].call(B,(B&&B.url),{hash:{},inverse:o.program(13,u,A),fn:o.program(4,k,A),data:A});if(z||z===0){y+=z}return y}function m(C,B){var y="",z,A;y+='<h6 class="info  info--head">';if(A=q.heading){z=A.call(C,{hash:{},data:B})}else{A=(C&&C.heading);z=typeof A===b?A.call(C,{hash:{},data:B}):A}y+=a(z)+"</h6>";return y}function k(B,A){var y="",z;y+='<div class="info  one-line">';z=q["if"].call(B,(B&&B.label),{hash:{},inverse:o.program(11,v,A),fn:o.program(5,i,A),data:A});if(z||z===0){y+=z}y+=" </div>";return y}function i(D,C){var y="",A,B,z;y+='<a class="tile--info__link" href="'+a((B=q.makeRelative||(D&&D.makeRelative),z={hash:{},data:C},B?B.call(D,(D&&D.url),z):p.call(D,"makeRelative",(D&&D.url),z)))+'"><span class="info__label">';if(B=q.label){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.label);A=typeof B===b?B.call(D,{hash:{},data:C}):B}y+=a(A)+'</span><span class="info__value">';A=q["if"].call(D,((A=(D&&D.value)),A==null||A===false?A:A.content),{hash:{},inverse:o.program(9,c,C),fn:o.program(6,h,C),data:C});if(A||A===0){y+=A}y+="</span></a>";return y}function h(A,z){var y;y=q.each.call(A,((y=(A&&A.value)),y==null||y===false?y:y.content),{hash:{},inverse:o.noop,fn:o.program(7,g,z),data:z});if(y||y===0){return y}else{return""}}function g(C,B){var y="",z,A;y+='<span class="info__value__nested"><span class="info__value__nested__label">';if(A=q.label){z=A.call(C,{hash:{},data:B})}else{A=(C&&C.label);z=typeof A===b?A.call(C,{hash:{},data:B}):A}y+=a(z)+":</span> ";if(A=q.value){z=A.call(C,{hash:{},data:B})}else{A=(C&&C.value);z=typeof A===b?A.call(C,{hash:{},data:B}):A}y+=a(z)+"</span>";return y}function c(B,A){var y,z;if(z=q.value){y=z.call(B,{hash:{},data:A})}else{z=(B&&B.value);y=typeof z===b?z.call(B,{hash:{},data:A}):z}return a(y)}function v(D,C){var y="",A,B,z;y+='<a class="tile--info__link" href="'+a((B=q.makeRelative||(D&&D.makeRelative),z={hash:{},data:C},B?B.call(D,(D&&D.url),z):p.call(D,"makeRelative",(D&&D.url),z)))+'">';if(B=q.urlTitle){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.urlTitle);A=typeof B===b?B.call(D,{hash:{},data:C}):B}if(A||A===0){y+=A}y+="</a>";return y}function u(A,z){var y;y=q["if"].call(A,(A&&A.label),{hash:{},inverse:o.noop,fn:o.program(14,t,z),data:z});if(y||y===0){return y}else{return""}}function t(C,B){var y="",z,A;y+='<div class="info"><span class="info__label">';if(A=q.label){z=A.call(C,{hash:{},data:B})}else{A=(C&&C.label);z=typeof A===b?A.call(C,{hash:{},data:B}):A}y+=a(z)+'</span><span class="info__value">';z=q["if"].call(C,((z=(C&&C.value)),z==null||z===false?z:z.content),{hash:{},inverse:o.program(9,c,B),fn:o.program(6,h,B),data:B});if(z||z===0){y+=z}y+="</span></div>";return y}r+='<div class="zci__aux"><div class="tile  tile--info  js-infobox-tile">';f=q.each.call(s,(s&&s.data),{hash:{},inverse:o.noop,fn:o.program(1,n,x),data:x});if(f||f===0){r+=f}r+='<div class="tile__expand  tile--info__expand  is-hidden  js-tile-expand"></div></div></div>';return r});this["DDG"]["templates"]["more_at"]=Handlebars.template(function(f,o,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,n=e.helperMissing,h="function",j=this.escapeExpression,p=this;function c(u,t){var r,s,q;r=(s=e.favicon||(u&&u.favicon),q={hash:{className:((u&&u.iconClassName))},data:t},s?s.call(u,(u&&u.sourceUrl),q):n.call(u,"favicon",(u&&u.sourceUrl),q));if(r||r===0){return r}else{return""}}function a(v,u){var q="",s,t,r;q+='<img class="';if(t=e.iconClassName){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.iconClassName);s=typeof t===h?t.call(v,{hash:{},data:u}):t}q+=j(s)+'" src="'+j((t=e.imageProxy||(v&&v.imageProxy),r={hash:{},data:u},t?t.call(v,(v&&v.sourceIconUrl),r):n.call(v,"imageProxy",(v&&v.sourceIconUrl),r)))+'" />';return q}i+='<a href="';if(g=e.sourceUrl){b=g.call(o,{hash:{},data:k})}else{g=(o&&o.sourceUrl);b=typeof g===h?g.call(o,{hash:{},data:k}):g}i+=j(b)+'" class="';if(g=e.className){b=g.call(o,{hash:{},data:k})}else{g=(o&&o.className);b=typeof g===h?g.call(o,{hash:{},data:k}):g}i+=j(b)+'">';b=e["if"].call(o,(o&&o.sourceIcon),{hash:{},inverse:p.noop,fn:p.program(1,c,k),data:k});if(b||b===0){i+=b}b=e["if"].call(o,(o&&o.sourceIconUrl),{hash:{},inverse:p.noop,fn:p.program(3,a,k),data:k});if(b||b===0){i+=b}if(g=e.moreAtText){b=g.call(o,{hash:{},data:k})}else{g=(o&&o.moreAtText);b=typeof g===h?g.call(o,{hash:{},data:k}):g}if(b||b===0){i+=b}i+="</a>";return i});this["DDG"]["templates"]["more_at_text"]=Handlebars.template(function(f,k,e,j,i){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);i=i||{};var b,g="function",h=this.escapeExpression,m=this;function c(r,q){var o,p;if(p=e.sourceName){o=p.call(r,{hash:{},data:q})}else{p=(r&&r.sourceName);o=typeof p===g?p.call(r,{hash:{},data:q}):p}return h(o)}function a(q,p){var o;o=e["with"].call(q,(q&&q.sourceLogo),{hash:{},inverse:m.noop,fn:m.program(4,n,p),data:p});if(o||o===0){return o}else{return""}}function n(s,r){var o="",p,q;o+='<img class="zci__more-at__logo" src="';if(q=e.url){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.url);p=typeof q===g?q.call(s,{hash:{},data:r}):q}o+=h(p)+'" width="';if(q=e.width){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.width);p=typeof q===g?q.call(s,{hash:{},data:r}):q}o+=h(p)+'" height="';if(q=e.height){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.height);p=typeof q===g?q.call(s,{hash:{},data:r}):q}o+=h(p)+'" />';return o}b=e.unless.call(k,(k&&k.sourceLogo),{hash:{},inverse:m.program(3,a,i),fn:m.program(1,c,i),data:i});if(b||b===0){return b}else{return""}});this["DDG"]["templates"]["no_ia_results"]=Handlebars.template(function(f,n,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",b,g="function",i=this.escapeExpression,m=e.helperMissing,o=this;function c(s,r){var p,q;if(q=e.message){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.message);p=typeof q===g?q.call(s,{hash:{},data:r}):q}return i(p)}function a(t,s){var q,r,p;q=(r=e.l||(t&&t.l),p={hash:{},data:s},r?r.call(t,"Sorry, no results here.",p):m.call(t,"l","Sorry, no results here.",p));if(q||q===0){return q}else{return""}}h+='<div class="zci__no-results  t-s--screen-xs"><span class="zci__no-results__txt">';b=e["if"].call(n,(n&&n.message),{hash:{},inverse:o.program(3,a,j),fn:o.program(1,c,j),data:j});if(b||b===0){h+=b}h+="</span></div>";return h});this["DDG"]["templates"]["places_detail_rating_foursquare"]=Handlebars.template(function(e,m,c,k,j){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);j=j||{};var h="",a,f,g="function",i=this.escapeExpression,n=this;function b(s,r){var o="",p,q;o+='<a class="review-count review-count--foursquare" href="';if(q=c.url){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.url);p=typeof q===g?q.call(s,{hash:{},data:r}):q}o+=i(p)+'"><span class="review-count__icon  ddgsi">O</span>';if(q=c.reviews){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.reviews);p=typeof q===g?q.call(s,{hash:{},data:r}):q}o+=i(p)+"</a>";return o}h+='<span class="tile__rating__foursquare  ';if(f=c.ratingClass){a=f.call(m,{hash:{},data:j})}else{f=(m&&m.ratingClass);a=typeof f===g?f.call(m,{hash:{},data:j}):f}h+=i(a)+'  badge--txt">';if(f=c.rating){a=f.call(m,{hash:{},data:j})}else{f=(m&&m.rating);a=typeof f===g?f.call(m,{hash:{},data:j}):f}h+=i(a)+"</span>";a=c["if"].call(m,(m&&m.reviews),{hash:{},inverse:n.noop,fn:n.program(1,b,j),data:j});if(a||a===0){h+=a}return h});this["DDG"]["templates"]["places_detail_rating_yelp"]=Handlebars.template(function(e,m,c,j,i){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);i=i||{};var g="",a,f,o,k=c.helperMissing,h=this.escapeExpression,n=this;function b(t,s){var q,r,p;q=(r=c.reviewCount||(t&&t.reviewCount),p={hash:{},data:s},r?r.call(t,(t&&t.reviews),(t&&t.url),p):k.call(t,"reviewCount",(t&&t.reviews),(t&&t.url),p));if(q||q===0){return q}else{return""}}g+='<img src="'+h((f=c.imageProxy||(m&&m.imageProxy),o={hash:{},data:i},f?f.call(m,(m&&m.ratingImageURL),o):k.call(m,"imageProxy",(m&&m.ratingImageURL),o)))+'" class="tile__rating__yelp-stars" />';a=c["if"].call(m,(m&&m.reviews),{hash:{},inverse:n.noop,fn:n.program(1,b,i),data:i});if(a||a===0){g+=a}return g});this["DDG"]["templates"]["places_item_footer_foursquare"]=Handlebars.template(function(e,m,c,k,j){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);j=j||{};var h="",a,f,g="function",i=this.escapeExpression,n=this;function b(s,r){var o="",p,q;o+='<span class="review-count review-count--foursquare"><span class="review-count__icon  ddgsi">O</span>';if(q=c.reviews){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.reviews);p=typeof q===g?q.call(s,{hash:{},data:r}):q}o+=i(p)+"</span>";return o}h+='<span class="tile__rating__foursquare  ';if(f=c.ratingClass){a=f.call(m,{hash:{},data:j})}else{f=(m&&m.ratingClass);a=typeof f===g?f.call(m,{hash:{},data:j}):f}h+=i(a)+'  badge--txt">';if(f=c.rating){a=f.call(m,{hash:{},data:j})}else{f=(m&&m.rating);a=typeof f===g?f.call(m,{hash:{},data:j}):f}h+=i(a)+"</span>";a=c["if"].call(m,(m&&m.reviews),{hash:{},inverse:n.noop,fn:n.program(1,b,j),data:j});if(a||a===0){h+=a}return h});this["DDG"]["templates"]["places_item_footer_yelp"]=Handlebars.template(function(e,m,c,j,i){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);i=i||{};var g="",a,f,o,k=c.helperMissing,h=this.escapeExpression,n=this;function b(t,s){var q,r,p;q=(r=c.reviewCount||(t&&t.reviewCount),p={hash:{},data:s},r?r.call(t,(t&&t.reviews),"",true,p):k.call(t,"reviewCount",(t&&t.reviews),"",true,p));if(q||q===0){return q}else{return""}}g+='<img src="'+h((f=c.imageProxy||(m&&m.imageProxy),o={hash:{},data:i},f?f.call(m,(m&&m.ratingImageURL),o):k.call(m,"imageProxy",(m&&m.ratingImageURL),o)))+'" class="tile__rating__yelp-stars" />';a=c["if"].call(m,(m&&m.reviews),{hash:{},inverse:n.noop,fn:n.program(1,b,i),data:i});if(a||a===0){g+=a}return g});this["DDG"]["templates"]["play_button"]=Handlebars.template(function(c,k,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,f="function",h=this.escapeExpression;g+='<div class="play-btn js-play-btn" data-url="';if(e=b.url){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.url);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+'"><span class="play-btn__icn  ddgsi  js-play-btn-icn">►</span><span class="play-btn__err  is-hidden  js-play-btn-err"></span></div>';return g});this["DDG"]["templates"]["products_amazon_badge"]=Handlebars.template(function(e,f,b,a,c){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,e.helpers);c=c||{};return'<span class="tile--pr__badge  badge  badge--prime"></span>'});this["DDG"]["templates"]["products_amazon_buy"]=Handlebars.template(function(c,m,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,n,f="function",h=this.escapeExpression,k=b.helperMissing;g+='    <span class="detail__callout--pr"><a href="';if(e=b.url){a=e.call(m,{hash:{},data:i})}else{e=(m&&m.url);a=typeof e===f?e.call(m,{hash:{},data:i}):e}g+=h(a)+'" class="btn btn--primary">';a=(e=b.l||(m&&m.l),n={hash:{},data:i},e?e.call(m,"More at",n):k.call(m,"l","More at",n));if(a||a===0){g+=a}g+=" "+h(((a=((a=(m&&m.meta)),a==null||a===false?a:a.sourceName)),typeof a===f?a.apply(m):a))+"</a></span>";return g});this["DDG"]["templates"]["record"]=Handlebars.template(function(f,o,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,s,r=this,h="function",j=this.escapeExpression,n=e.helperMissing;function c(u,t){return"record--keyspacing"}function a(u,t){return"record--highlight"}function q(A,y,z){var t="",v,x,u;t+='<tr class="record__row  ';v=e["if"].call(A,((v=((v=(z&&z.meta)),v==null||v===false?v:v.options)),v==null||v===false?v:v.rowHighlight),{hash:{},inverse:r.noop,fn:r.program(6,p,y),data:y});if(v||v===0){t+=v}t+='"><td class="record__cell  record__cell--key">';if(x=e.key){v=x.call(A,{hash:{},data:y})}else{x=(A&&A.key);v=typeof x===h?x.call(A,{hash:{},data:y}):x}t+=j(v)+'</td><td class="record__cell  record__cell--value">'+j((x=e.ellipsis||(A&&A.ellipsis),u={hash:{},data:y},x?x.call(A,(A&&A.value),350,u):n.call(A,"ellipsis",(A&&A.value),350,u)))+"</td></tr>";return t}function p(u,t){return"record__row--highlight"}i+='<div class="record  ';b=e["if"].call(o,((b=((b=(o&&o.meta)),b==null||b===false?b:b.options)),b==null||b===false?b:b.keySpacing),{hash:{},inverse:r.noop,fn:r.program(1,c,k),data:k});if(b||b===0){i+=b}i+="  ";b=e["if"].call(o,((b=((b=(o&&o.meta)),b==null||b===false?b:b.options)),b==null||b===false?b:b.rowHighlight),{hash:{},inverse:r.noop,fn:r.program(3,a,k),data:k});if(b||b===0){i+=b}i+='"><table class="record__body">';b=(g=e["table-each"]||(o&&o["table-each"]),s={hash:{},inverse:r.noop,fn:r.programWithDepth(5,q,k,o),data:k},g?g.call(o,o,s):n.call(o,"table-each",o,s));if(b||b===0){i+=b}i+="</table></div>";return i});this["DDG"]["templates"]["sports_score"]=Handlebars.template(function(g,v,t,o,D){this.compilerInfo=[4,">= 1.0.0"];t=this.merge(t,g.helpers);D=D||{};var u="",j,a,e,c="function",b=this.escapeExpression,s=t.helperMissing,r=this;function q(I,H){var E="",F,G;E+='<span class="c-score__clock"><span class="c-score__clock__icon ddgsi-clock"></span>';if(G=t.clock){F=G.call(I,{hash:{},data:H})}else{G=(I&&I.clock);F=typeof G===c?G.call(I,{hash:{},data:H}):G}E+=b(F)+"</span>";return E}function p(H,G){var F,E;return b((F=t.momentDate||(H&&H.momentDate),E={hash:{},data:G},F?F.call(H,(H&&H.start_time),E):s.call(H,"momentDate",(H&&H.start_time),E)))}function n(H,G){var E="",F;F=t.each.call(H,((F=((F=(H&&H.score)),F==null||F===false?F:F.away)),F==null||F===false?F:F.sequence),{hash:{},inverse:r.noop,fn:r.program(6,m,G),data:G});if(F||F===0){E+=F}F=t["if"].call(H,(H&&H.current_count),{hash:{},inverse:r.noop,fn:r.program(8,i,G),data:G});if(F||F===0){E+=F}return E}function m(I,H){var E="",F,G;E+='<div class="c-score__item  c-score__item--';if(G=t.type){F=G.call(I,{hash:{},data:H})}else{G=(I&&I.type);F=typeof G===c?G.call(I,{hash:{},data:H}):G}E+=b(F)+'">';if(G=t.number){F=G.call(I,{hash:{},data:H})}else{G=(I&&I.number);F=typeof G===c?G.call(I,{hash:{},data:H}):G}E+=b(F)+"</div>";return E}function i(F,E){return'<div class="c-score__head__total">Total</div>'}function C(I,H){var E="",F,G;E+='<div class="c-score__team"><div class="c-score__team__logo">';F=t["if"].call(I,(I&&I.image),{hash:{},inverse:r.program(13,A,H),fn:r.program(11,B,H),data:H});if(F||F===0){E+=F}E+='</div><div class="c-score__team__name"><span class="c-score__team__market">';if(G=t.location){F=G.call(I,{hash:{},data:H})}else{G=(I&&I.location);F=typeof G===c?G.call(I,{hash:{},data:H}):G}E+=b(F)+'</span><span class="c-score__team__nick">';if(G=t.name){F=G.call(I,{hash:{},data:H})}else{G=(I&&I.name);F=typeof G===c?G.call(I,{hash:{},data:H}):G}E+=b(F)+"</span></div></div>";return E}function B(I,H){var E="",F,G;E+='<img class="c-score__team__img" src="';if(G=t.image){F=G.call(I,{hash:{},data:H})}else{G=(I&&I.image);F=typeof G===c?G.call(I,{hash:{},data:H}):G}E+=b(F)+'">';return E}function A(F,E){return'<span class="c-score__team__logo__ph">u</span>'}function z(H,G){var E="",F;F=t.each.call(H,((F=((F=(H&&H.score)),F==null||F===false?F:F.away)),F==null||F===false?F:F.sequence),{hash:{},inverse:r.noop,fn:r.program(16,y,G),data:G});if(F||F===0){E+=F}F=t["if"].call(H,(H&&H.current_count),{hash:{},inverse:r.noop,fn:r.program(18,x,G),data:G});if(F||F===0){E+=F}return E}function y(I,H){var E="",F,G;E+='<div class="c-score__item  c-score__item--';if(G=t.type){F=G.call(I,{hash:{},data:H})}else{G=(I&&I.type);F=typeof G===c?G.call(I,{hash:{},data:H}):G}E+=b(F)+'">';if(G=t.points){F=G.call(I,{hash:{},data:H})}else{G=(I&&I.points);F=typeof G===c?G.call(I,{hash:{},data:H}):G}E+=b(F)+"</div>";return E}function x(I,H){var E="",F,G;E+='<div class="c-score__line__total">';if(G=t.away_total){F=G.call(I,{hash:{},data:H})}else{G=(I&&I.away_total);F=typeof G===c?G.call(I,{hash:{},data:H}):G}E+=b(F)+"</div>";return E}function k(H,G){var E="",F;F=t.each.call(H,((F=((F=(H&&H.score)),F==null||F===false?F:F.home)),F==null||F===false?F:F.sequence),{hash:{},inverse:r.noop,fn:r.program(16,y,G),data:G});if(F||F===0){E+=F}F=t["if"].call(H,(H&&H.current_count),{hash:{},inverse:r.noop,fn:r.program(21,h,G),data:G});if(F||F===0){E+=F}return E}function h(I,H){var E="",F,G;E+='<div class="c-score__line__total">';if(G=t.home_total){F=G.call(I,{hash:{},data:H})}else{G=(I&&I.home_total);F=typeof G===c?G.call(I,{hash:{},data:H}):G}E+=b(F)+"</div>";return E}function f(I,H){var E="",G,F;E+='<span class="c-score__foot__info">Last updated '+b((G=t.momentTime||(I&&I.momentTime),F={hash:{},data:H},G?G.call(I,(I&&I.updated),F):s.call(I,"momentTime",(I&&I.updated),F)))+"</span>";return E}u+='<div class="c-score"><div class="c-score__head"><div class="c-score__head__date">';j=t["if"].call(v,(v&&v.clock),{hash:{},inverse:r.program(3,p,D),fn:r.program(1,q,D),data:D});if(j||j===0){u+=j}u+="</div>";j=t["if"].call(v,(v&&v.score),{hash:{},inverse:r.noop,fn:r.program(5,n,D),data:D});if(j||j===0){u+=j}u+='</div><div class="c-score__line  c-score__line--vs1"><div class="c-score__line__name">';j=t["with"].call(v,(v&&v.away_team),{hash:{},inverse:r.noop,fn:r.program(10,C,D),data:D});if(j||j===0){u+=j}u+="</div>";j=t["if"].call(v,(v&&v.score),{hash:{},inverse:r.noop,fn:r.program(15,z,D),data:D});if(j||j===0){u+=j}u+='</div><div class="c-score__line  c-score__line--vs2" data-vs="@"><div class="c-score__line__name">';j=t["with"].call(v,(v&&v.home_team),{hash:{},inverse:r.noop,fn:r.program(10,C,D),data:D});if(j||j===0){u+=j}u+="</div>";j=t["if"].call(v,(v&&v.score),{hash:{},inverse:r.noop,fn:r.program(20,k,D),data:D});if(j||j===0){u+=j}u+='</div><div class="c-score__foot"><div class="c-score__foot__main"><div class="c-score__venue">@ '+b(((j=((j=(v&&v.venue)),j==null||j===false?j:j.market)),typeof j===c?j.apply(v):j))+'<span class="c-score__venue__name"> - '+b(((j=((j=(v&&v.venue)),j==null||j===false?j:j.name)),typeof j===c?j.apply(v):j))+'</span></div><div class="c-score__foot__more  c-score__opt">';j=(a=t.and||(v&&v.and),e={hash:{},inverse:r.noop,fn:r.program(23,f,D),data:D},a?a.call(v,(v&&v.updated),((j=((j=(v&&v.score)),j==null||j===false?j:j.away)),j==null||j===false?j:j.sequence),e):s.call(v,"and",(v&&v.updated),((j=((j=(v&&v.score)),j==null||j===false?j:j.away)),j==null||j===false?j:j.sequence),e));if(j||j===0){u+=j}u+="</div></div></div></div>";return u});this["DDG"]["templates"]["stars"]=Handlebars.template(function(c,k,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,f="function",h=this.escapeExpression;g+='<span class="stars  stars--';if(e=b.rating){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.rating);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+'"><i class="star  stars__1"></i><i class="star  stars__2"></i><i class="star  stars__3"></i><i class="star  stars__4"></i><i class="star  stars__5"></i></span>';return g});this["DDG"]["templates"]["subtitle"]=Handlebars.template(function(f,k,e,j,i){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);i=i||{};var a,g="function",h=this.escapeExpression,o=this;function c(t,s){var q="",r;r=e["if"].call(t,(s==null||s===false?s:s.index),{hash:{},inverse:o.noop,fn:o.program(2,b,s),data:s});if(r||r===0){q+=r}r=e["if"].call(t,(t&&t.href),{hash:{},inverse:o.program(7,m,s),fn:o.program(4,p,s),data:s});if(r||r===0){q+=r}return q}function b(r,q){return'<span class="sep"></span>'}function p(u,t){var q="",r,s;q+='<a href="';if(s=e.href){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.href);r=typeof s===g?s.call(u,{hash:{},data:t}):s}q+=h(r)+'"';r=e["if"].call(u,(u&&u.className),{hash:{},inverse:o.noop,fn:o.program(5,n,t),data:t});if(r||r===0){q+=r}q+=">";if(s=e.text){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.text);r=typeof s===g?s.call(u,{hash:{},data:t}):s}q+=h(r)+"</a>";return q}function n(u,t){var q="",r,s;q+=' class="';if(s=e.className){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.className);r=typeof s===g?s.call(u,{hash:{},data:t}):s}q+=h(r)+'"';return q}function m(r,q){return h((typeof r===g?r.apply(r):r))}a=e.each.call(k,(k&&k.components),{hash:{},inverse:o.noop,fn:o.program(1,c,i),data:i});if(a||a===0){return a}else{return""}});this["DDG"]["templates"]["tile_body"]=Handlebars.template(function(f,s,q,j,t){this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,f.helpers);t=t||{};var r="",g,a,e,c="function",b=this.escapeExpression,o=this,p=q.helperMissing;function n(y,x){var u="",v;u+="has-foot ";v=q["if"].call(y,(y&&y.footLines),{hash:{},inverse:o.noop,fn:o.program(2,m,x),data:x});if(v||v===0){u+=v}return u}function m(z,y){var u="",v,x;u+="has-foot--";if(x=q.footLines){v=x.call(z,{hash:{},data:y})}else{x=(z&&z.footLines);v=typeof x===c?x.call(z,{hash:{},data:y}):x}u+=b(v);return u}function k(z,y){var v,x,u;v=(x=q.include||(z&&z.include),u={hash:{},data:y},x?x.call(z,"tile_snippet",u):p.call(z,"include","tile_snippet",u));if(v||v===0){return v}else{return""}}function i(A,z){var u="",x,y,v;u+='<div class="tile__foot ';x=q["if"].call(A,(A&&A.footLines),{hash:{},inverse:o.noop,fn:o.program(7,h,z),data:z});if(x||x===0){u+=x}u+='">';x=(y=q.include||(A&&A.include),v={hash:{},data:z},y?y.call(A,(A&&A.footer_content),v):p.call(A,"include",(A&&A.footer_content),v));if(x||x===0){u+=x}u+="</div>";return u}function h(z,y){var u="",v,x;u+="tile__foot--";if(x=q.footLines){v=x.call(z,{hash:{},data:y})}else{x=(z&&z.footLines);v=typeof x===c?x.call(z,{hash:{},data:y}):x}u+=b(v);return u}r+='<div class="tile__body ';g=q["if"].call(s,(s&&s.footer_content),{hash:{},inverse:o.noop,fn:o.program(1,n,t),data:t});if(g||g===0){r+=g}r+='">';g=(a=q.include||(s&&s.include),e={hash:{},data:t},a?a.call(s,"tile_titles",e):p.call(s,"include","tile_titles",e));if(g||g===0){r+=g}g=q["if"].call(s,(s&&s.description),{hash:{},inverse:o.noop,fn:o.program(4,k,t),data:t});if(g||g===0){r+=g}g=q["if"].call(s,(s&&s.footer_content),{hash:{},inverse:o.noop,fn:o.program(6,i,t),data:t});if(g||g===0){r+=g}r+="</div>";return r});this["DDG"]["templates"]["tile_snippet"]=Handlebars.template(function(f,o,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,q,h="function",j=this.escapeExpression,p=this,n=e.helperMissing;function c(s,r){return" tile__content--sm "}function a(t,s){var r;return j(((r=((r=((r=(t&&t.meta)),r==null||r===false?r:r.elClass)),r==null||r===false?r:r.tileSnippet)),typeof r===h?r.apply(t):r))}i+='<div class="tile__content ';b=e.unless.call(o,((b=((b=(o&&o.meta)),b==null||b===false?b:b.elClass)),b==null||b===false?b:b.tileSnippet),{hash:{},inverse:p.program(3,a,k),fn:p.program(1,c,k),data:k});if(b||b===0){i+=b}i+='">'+j((g=e.ellipsis||(o&&o.ellipsis),q={hash:{fallback:(55)},data:k},g?g.call(o,(o&&o.description),((b=(o&&o.meta)),b==null||b===false?b:b.snippetChars),q):n.call(o,"ellipsis",(o&&o.description),((b=(o&&o.meta)),b==null||b===false?b:b.snippetChars),q)))+"</div>";return i});this["DDG"]["templates"]["tile_titles"]=Handlebars.template(function(f,r,p,j,x){this.compilerInfo=[4,">= 1.0.0"];p=this.merge(p,f.helpers);x=x||{};var q="",g,a,o=p.helperMissing,b=this.escapeExpression,c="function",n=this;function m(D,C){var y="",A,B,z;y+='<img src="'+b((B=p.imageProxy||(D&&D.imageProxy),z={hash:{},data:C},B?B.call(D,(D&&D.icon),z):o.call(D,"imageProxy",(D&&D.icon),z)))+'" alt="';if(B=p.title){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.title);A=typeof B===c?B.call(D,{hash:{},data:C}):B}y+=b(A)+'" class="tile__icon" />';return y}function k(C,B){var y="",z,A;y+='<span class="tile__icon  tile__icon--pin">';if(A=p.num){z=A.call(C,{hash:{},data:B})}else{A=(C&&C.num);z=typeof A===c?A.call(C,{hash:{},data:B}):A}y+=b(z)+"</span>";return y}function i(z,y){return"with-sub"}function h(z,y){return"has-sub--a"}function e(C,B){var y="",z,A;y+='a href="';if(A=p.url){z=A.call(C,{hash:{},data:B})}else{A=(C&&C.url);z=typeof A===c?A.call(C,{hash:{},data:B}):A}y+=b(z)+'"';return y}function v(z,y){return"span"}function u(z,y){return"a"}function t(D,C){var y="",A,B,z;y+='<span class="tile__title__sub '+b(((A=((A=((A=(D&&D.meta)),A==null||A===false?A:A.elClass)),A==null||A===false?A:A.tileAltSubtitle)),typeof A===c?A.apply(D):A))+" ";if(B=p.altSubClass){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.altSubClass);A=typeof B===c?B.call(D,{hash:{},data:C}):B}y+=b(A)+'">';A=(B=p.formatSubtitle||(D&&D.formatSubtitle),z={hash:{},data:C},B?B.call(D,(D&&D.altSubtitle),z):o.call(D,"formatSubtitle",(D&&D.altSubtitle),z));if(A||A===0){y+=A}y+="</span>";return y}function s(D,C){var y="",A,B,z;y+='<span class="tile__sub '+b(((A=((A=((A=(D&&D.meta)),A==null||A===false?A:A.elClass)),A==null||A===false?A:A.tileSubtitle)),typeof A===c?A.apply(D):A))+" ";if(B=p.subClass){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.subClass);A=typeof B===c?B.call(D,{hash:{},data:C}):B}y+=b(A)+'">';A=(B=p.formatSubtitle||(D&&D.formatSubtitle),z={hash:{},data:C},B?B.call(D,(D&&D.subtitle),z):o.call(D,"formatSubtitle",(D&&D.subtitle),z));if(A||A===0){y+=A}y+="</span>";return y}g=p["if"].call(r,(r&&r.icon),{hash:{},inverse:n.noop,fn:n.program(1,m,x),data:x});if(g||g===0){q+=g}g=p["if"].call(r,(r&&r.showPin),{hash:{},inverse:n.noop,fn:n.program(3,k,x),data:x});if(g||g===0){q+=g}q+='<h5 class="tile__title ';g=p["if"].call(r,(r&&r.subtitle),{hash:{},inverse:n.noop,fn:n.program(5,i,x),data:x});if(g||g===0){q+=g}q+=" ";g=p["if"].call(r,(r&&r.altSubtitle),{hash:{},inverse:n.noop,fn:n.program(7,h,x),data:x});if(g||g===0){q+=g}q+=" "+b(((g=((g=((g=(r&&r.meta)),g==null||g===false?g:g.elClass)),g==null||g===false?g:g.tileTitle)),typeof g===c?g.apply(r):g))+" ";if(a=p.titleClass){g=a.call(r,{hash:{},data:x})}else{a=(r&&r.titleClass);g=typeof a===c?a.call(r,{hash:{},data:x}):a}q+=b(g)+'"><';g=p["if"].call(r,(r&&r.url),{hash:{},inverse:n.program(11,v,x),fn:n.program(9,e,x),data:x});if(g||g===0){q+=g}q+=' class="tile__title__main">';if(a=p.title){g=a.call(r,{hash:{},data:x})}else{a=(r&&r.title);g=typeof a===c?a.call(r,{hash:{},data:x}):a}q+=b(g)+"</";g=p["if"].call(r,(r&&r.url),{hash:{},inverse:n.program(11,v,x),fn:n.program(13,u,x),data:x});if(g||g===0){q+=g}q+=">";g=p["if"].call(r,(r&&r.altSubtitle),{hash:{},inverse:n.noop,fn:n.program(15,t,x),data:x});if(g||g===0){q+=g}q+="</h5>";g=p["if"].call(r,(r&&r.subtitle),{hash:{},inverse:n.noop,fn:n.program(17,s,x),data:x});if(g||g===0){q+=g}return q});this["DDG"]["templates"]["title"]=Handlebars.template(function(f,n,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,h="function",j=this.escapeExpression,r=this;function c(u,t){return"has-sub"}function a(y,x){var t="",u,v;t+='<a href="';if(v=e.href){u=v.call(y,{hash:{},data:x})}else{v=(y&&y.href);u=typeof v===h?v.call(y,{hash:{},data:x}):v}t+=j(u)+'" ';u=e["if"].call(y,(y&&y.hrefTitle),{hash:{},inverse:r.noop,fn:r.program(4,s,x),data:x});if(u||u===0){t+=u}t+=">";return t}function s(y,x){var t="",u,v;t+='title="';if(v=e.hrefTitle){u=v.call(y,{hash:{},data:x})}else{v=(y&&y.hrefTitle);u=typeof v===h?v.call(y,{hash:{},data:x}):v}t+=j(u)+'"';return t}function q(u,t){return"</a>"}function p(y,x){var t="",u,v;t+='<span class="';if(v=e.className){u=v.call(y,{hash:{},data:x})}else{v=(y&&y.className);u=typeof v===h?v.call(y,{hash:{},data:x}):v}t+=j(u)+"__sub ";u=e["if"].call(y,(y&&y.optSub),{hash:{},inverse:r.noop,fn:r.program(9,o,x),data:x});if(u||u===0){t+=u}t+='">';if(v=e.subTitle){u=v.call(y,{hash:{},data:x})}else{v=(y&&y.subTitle);u=typeof v===h?v.call(y,{hash:{},data:x}):v}if(u||u===0){t+=u}t+="</span>";return t}function o(u,t){return"opt"}i+="<";if(g=e.tagName){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.tagName);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+' class="';if(g=e.className){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.className);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+" ";if(g=e.classNameSec){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.classNameSec);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+" ";b=e["if"].call(n,(n&&n.subTitle),{hash:{},inverse:r.noop,fn:r.program(1,c,k),data:k});if(b||b===0){i+=b}i+='">';b=e["if"].call(n,(n&&n.href),{hash:{},inverse:r.noop,fn:r.program(3,a,k),data:k});if(b||b===0){i+=b}if(g=e.title){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.title);b=typeof g===h?g.call(n,{hash:{},data:k}):g}if(b||b===0){i+=b}b=e["if"].call(n,(n&&n.href),{hash:{},inverse:r.noop,fn:r.program(6,q,k),data:k});if(b||b===0){i+=b}b=e["if"].call(n,(n&&n.subTitle),{hash:{},inverse:r.noop,fn:r.program(8,p,k),data:k});if(b||b===0){i+=b}i+="</";if(g=e.tagName){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.tagName);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+">";return i});this["DDG"]=this["DDG"]||{};this["DDG"]["templates"]=this["DDG"]["templates"]||{};this["DDG"]["templates"]["about_header"]=Handlebars.template(function(f,m,e,j,i){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);i=i||{};var g="",b,k=e.helperMissing,h=this.escapeExpression,n=this;function c(p,o){return"module__header--with-image"}function a(t,s){var o="",q,r,p;o+='<div class="module__header__image js-about-header-image" style="background-image:url(\''+h((r=e.imageProxy||(t&&t.imageProxy),p={hash:{},data:s},r?r.call(t,(t&&t.imageURL),p):k.call(t,"imageProxy",(t&&t.imageURL),p)))+'\');"><img class="module__header__image__img" src="'+h((r=e.imageProxy||(t&&t.imageProxy),p={hash:{},data:s},r?r.call(t,(t&&t.imageURL),p):k.call(t,"imageProxy",(t&&t.imageURL),p)))+'" /><span class="label module__header__image__more">';q=(r=e.l||(t&&t.l),p={hash:{},data:s},r?r.call(t,"More Images",p):k.call(t,"l","More Images",p));if(q||q===0){o+=q}o+="</span></div>";return o}g+='<div class="module__header ';b=e["if"].call(m,(m&&m.imageURL),{hash:{},inverse:n.noop,fn:n.program(1,c,i),data:i});if(b||b===0){g+=b}g+='">';b=e["if"].call(m,(m&&m.imageURL),{hash:{},inverse:n.noop,fn:n.program(3,a,i),data:i});if(b||b===0){g+=b}g+='<div class="module__header__map js-about-header-map"></div><div class="module__header__shadow"></div></div>';return g});this["DDG"]["templates"]["about_infobox"]=Handlebars.template(function(g,n,f,m,k){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,g.helpers);k=k||{};var i="",b,h="function",j=this.escapeExpression,r=this;function e(u,t){var s;s=f["if"].call(u,(u&&u.label),{hash:{},inverse:r.noop,fn:r.program(2,c,t),data:t});if(s||s===0){return s}else{return""}}function c(x,v){var s="",t,u;s+='<div class="about-info-box__info-row';t=f.unless.call(x,(x&&x.visible),{hash:{},inverse:r.noop,fn:r.program(3,a,v),data:v});if(t||t===0){s+=t}s+='"><span class="about-info-box__info-label">';if(u=f.label){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.label);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+":</span>";t=f["if"].call(x,((t=(x&&x.value)),t==null||t===false?t:t.content),{hash:{},inverse:r.program(8,o,v),fn:r.program(5,q,v),data:v});if(t||t===0){s+=t}s+="</div>";return s}function a(t,s){return" is-hidden"}function q(u,t){var s;s=f.each.call(u,((s=(u&&u.value)),s==null||s===false?s:s.content),{hash:{},inverse:r.noop,fn:r.program(6,p,t),data:t});if(s||s===0){return s}else{return""}}function p(x,v){var s="",t,u;s+='<div class="about-info-box__sub-info"><span class="about-info-box__info-label">';if(u=f.label){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.label);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+':</span><span class="about-info-box__info-value">';if(u=f.value){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.value);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+"</span></div>";return s}function o(x,v){var s="",t,u;s+='<span class="about-info-box__info-value">';if(u=f.value){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.value);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+"</span>";return s}i+='<div class="about-info-box">';b=f.each.call(n,(n&&n.items),{hash:{},inverse:r.noop,fn:r.program(1,e,k),data:k});if(b||b===0){i+=b}i+="</div>";return i});this["DDG"]["templates"]["about_item"]=Handlebars.template(function(e,r,p,j,y){this.compilerInfo=[4,">= 1.0.0"];p=this.merge(p,e.helpers);y=y||{};var q="",g,a,o=p.helperMissing,c="function",b=this.escapeExpression,n=this;function m(E,D){var z="",B,C,A;z+='<div class="dir-btn"><div class="dir-btn__link btn js-about-item-directions">';B=(C=p.lp||(E&&E.lp),A={hash:{},data:D},C?C.call(E,"directions","Directions",A):o.call(E,"lp","directions","Directions",A));if(B||B===0){z+=B}z+="</div></div>";return z}function k(E,D){var z="",B,C,A;z+='<a href="';if(C=p.AbstractURL){B=C.call(E,{hash:{},data:D})}else{C=(E&&E.AbstractURL);B=typeof C===c?C.call(E,{hash:{},data:D}):C}z+=b(B)+'" class="module__clickable-header js-about-item-clickable-header"><div class="module__link module__link--blue module__link--two-line tx--bold">';if(C=p.title){B=C.call(E,{hash:{},data:D})}else{C=(E&&E.title);B=typeof C===c?C.call(E,{hash:{},data:D}):C}z+=b(B)+'</div><div class="module__link module__link--url">';B=(C=p.favicon||(E&&E.favicon),A={hash:{},data:D},C?C.call(E,(E&&E.AbstractURL),A):o.call(E,"favicon",(E&&E.AbstractURL),A));if(B||B===0){z+=B}if(C=p.AbstractURL){B=C.call(E,{hash:{},data:D})}else{C=(E&&E.AbstractURL);B=typeof C===c?C.call(E,{hash:{},data:D}):C}z+=b(B)+"</div></a>";return z}function i(B,A){var z;z=p["if"].call(B,(B&&B.Image),{hash:{},inverse:n.noop,fn:n.program(6,h,A),data:A});if(z||z===0){return z}else{return""}}function h(E,D){var z="",B,C,A;z+='<a class="module__image" href="';if(C=p.AbstractURL){B=C.call(E,{hash:{},data:D})}else{C=(E&&E.AbstractURL);B=typeof C===c?C.call(E,{hash:{},data:D}):C}z+=b(B)+'" class="js-about-item-link" title="';B=(C=p.l||(E&&E.l),A={hash:{},data:D},C?C.call(E,"More at %s ",(E&&E.moreAtText),A):o.call(E,"l","More at %s ",(E&&E.moreAtText),A));if(B||B===0){z+=B}z+='"><img src="';if(C=p.Image){B=C.call(E,{hash:{},data:D})}else{C=(E&&E.Image);B=typeof C===c?C.call(E,{hash:{},data:D}):C}if(B||B===0){z+=B}z+='" align="right" class="module--about__img"></a>';return z}function f(D,C){var z="",A,B;z+='<div class="module__title js-about-item-title"><span class="module__title__link">';if(B=p.title){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.title);A=typeof B===c?B.call(D,{hash:{},data:C}):B}z+=b(A)+"</span></div>";return z}function x(D,C){var z="",A,B;z+='<span class="module__title__sub">';if(B=p.subTitle){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.subTitle);A=typeof B===c?B.call(D,{hash:{},data:C}):B}z+=b(A)+"</span>";return z}function v(E,D){var z="",B,C,A;z+='<a href="';if(C=p.OfficialUrl){B=C.call(E,{hash:{},data:D})}else{C=(E&&E.OfficialUrl);B=typeof C===c?C.call(E,{hash:{},data:D}):C}z+=b(B)+'" class="module__official-url js-about-item-link"';B=p["if"].call(E,(E&&E.isMapExpanded),{hash:{},inverse:n.noop,fn:n.program(13,u,D),data:D});if(B||B===0){z+=B}z+=">"+b((C=p.domainWithPath||(E&&E.domainWithPath),A={hash:{},data:D},C?C.call(E,(E&&E.OfficialUrl),A):o.call(E,"domainWithPath",(E&&E.OfficialUrl),A)))+"</a>";return z}function u(A,z){return' target="_blank" rel="noopener"'}function t(A,z){return" module__text--no-padding"}function s(E,D){var z="",B,C,A;z+='<a href="';if(C=p.AbstractURL){B=C.call(E,{hash:{},data:D})}else{C=(E&&E.AbstractURL);B=typeof C===c?C.call(E,{hash:{},data:D}):C}z+=b(B)+'" class="module__more-at-bottom is-hidden js-about-item-more-at-bottom">';B=(C=p.favicon||(E&&E.favicon),A={hash:{},data:D},C?C.call(E,(E&&E.AbstractURL),A):o.call(E,"favicon",(E&&E.AbstractURL),A));if(B||B===0){z+=B}B=(C=p.l||(E&&E.l),A={hash:{},data:D},C?C.call(E,"More at %s ",(E&&E.moreAtText),A):o.call(E,"l","More at %s ",(E&&E.moreAtText),A));if(B||B===0){z+=B}z+="</a>";return z}q+='<div class="module__body js-about-item">';g=p["if"].call(r,(r&&r.showDirectionsButton),{hash:{},inverse:n.noop,fn:n.program(1,m,y),data:y});if(g||g===0){q+=g}g=p["if"].call(r,(r&&r.hasClickableHeader),{hash:{},inverse:n.noop,fn:n.program(3,k,y),data:y});if(g||g===0){q+=g}g=p.unless.call(r,(r&&r.headerImage),{hash:{},inverse:n.noop,fn:n.program(5,i,y),data:y});if(g||g===0){q+=g}g=p.unless.call(r,(r&&r.hasClickableHeader),{hash:{},inverse:n.noop,fn:n.program(8,f,y),data:y});if(g||g===0){q+=g}g=p["if"].call(r,(r&&r.subTitle),{hash:{},inverse:n.noop,fn:n.program(10,x,y),data:y});if(g||g===0){q+=g}g=p["if"].call(r,(r&&r.OfficialUrl),{hash:{},inverse:n.noop,fn:n.program(12,v,y),data:y});if(g||g===0){q+=g}q+='<div class="module__text';g=p["if"].call(r,(r&&r.hasClickableHeader),{hash:{},inverse:n.noop,fn:n.program(15,t,y),data:y});if(g||g===0){q+=g}q+='"><span class="js-about-item-abstr"></span><a href="';if(a=p.AbstractURL){g=a.call(r,{hash:{},data:y})}else{a=(r&&r.AbstractURL);g=typeof a===c?a.call(r,{hash:{},data:y}):a}q+=b(g)+'" class="module__more-at is-hidden js-about-item-more-at-inline tx--bold"';g=p["if"].call(r,(r&&r.isMapExpanded),{hash:{},inverse:n.noop,fn:n.program(13,u,y),data:y});if(g||g===0){q+=g}q+=">";if(a=p.moreAtText){g=a.call(r,{hash:{},data:y})}else{a=(r&&r.moreAtText);g=typeof a===c?a.call(r,{hash:{},data:y}):a}q+=b(g)+"</a>";g=p.unless.call(r,(r&&r.hasClickableHeader),{hash:{},inverse:n.noop,fn:n.program(17,s,y),data:y});if(g||g===0){q+=g}q+="</div></div>";return q});this["DDG"]["templates"]["about_module"]=Handlebars.template(function(f,m,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",b,n=this,g="function",i=this.escapeExpression;function c(q,p){return" has-content-height"}function a(s,r){var p="",q;p+='<div class="module__toggle js-about-module-toggle"';q=e.unless.call(s,(s&&s.hasContentHeight),{hash:{},inverse:n.noop,fn:n.program(4,o,r),data:r});if(q||q===0){p+=q}p+='><div class="module__toggle--more js-about-module-more"><span class="module__toggle__chevron">v</span></div><div class="module__toggle--less js-about-module-less"><span class="module__toggle__chevron module__toggle__chevron--collapse">v</span></div></div>';return p}function o(q,p){return' aria-hidden="true"'}h+='<div class="module module--about module--zci-'+i(((b=((b=(m&&m.meta)),b==null||b===false?b:b.id)),typeof b===g?b.apply(m):b))+" js-module--"+i(((b=((b=(m&&m.meta)),b==null||b===false?b:b.id)),typeof b===g?b.apply(m):b))+" js-about-module";b=e["if"].call(m,(m&&m.hasContentHeight),{hash:{},inverse:n.noop,fn:n.program(1,c,j),data:j});if(b||b===0){h+=b}h+='"><div class="module__content js-about-module-content"></div>';b=e.unless.call(m,(m&&m.isMapExpanded),{hash:{},inverse:n.noop,fn:n.program(3,a,j),data:j});if(b||b===0){h+=b}h+="</div>";return h});this["DDG"]["templates"]["about_profiles"]=Handlebars.template(function(e,m,c,j,i){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);i=i||{};var g="",a,f="function",h=this.escapeExpression,k=c.helperMissing,n=this;function b(t,s){var o="",q,r,p;o+='<li class="about-profiles__item"><a class="about-profiles__link module__link js-about-profile-link" href="';if(r=c.url){q=r.call(t,{hash:{},data:s})}else{r=(t&&t.url);q=typeof r===f?r.call(t,{hash:{},data:s}):r}o+=h(q)+'" title="';if(r=c.name){q=r.call(t,{hash:{},data:s})}else{r=(t&&t.name);q=typeof r===f?r.call(t,{hash:{},data:s}):r}o+=h(q)+'"><img class="about-profiles__img" src="';q=(r=c.imageProxy||(t&&t.imageProxy),p={hash:{},data:s},r?r.call(t,(t&&t.iconURL),p):k.call(t,"imageProxy",(t&&t.iconURL),p));if(q||q===0){o+=q}o+='" />';if(r=c.name){q=r.call(t,{hash:{},data:s})}else{r=(t&&t.name);q=typeof r===f?r.call(t,{hash:{},data:s}):r}o+=h(q)+"</a></li>";return o}g+='<ul class="about-profiles">';a=c.each.call(m,(m&&m.links),{hash:{},inverse:n.noop,fn:n.program(1,b,i),data:i});if(a||a===0){g+=a}g+="</ul>";return g});this["DDG"]["templates"]["ad_badge"]=Handlebars.template(function(c,k,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,f="function",h=this.escapeExpression;g+='<span class="badge--ad-wrap badge--ad-wrap--';if(e=b.context){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.context);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+'">&nbsp;<span class="badge--ad js-badge--ad">';if(e=b.label){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.label);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+"</span></span>";return g});this["DDG"]["templates"]["ad_badge_tooltip"]=Handlebars.template(function(c,m,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,n,k=b.helperMissing,f="function",h=this.escapeExpression;g+='<div class="badge--ad__tooltip is-hidden js-ad-badge-tooltip"><div class="badge--ad__tooltip__triangle-outer js-ad-badge-tooltip-triangle-outer"></div><div class="badge--ad__tooltip__triangle-inner js-ad-badge-tooltip-triangle-inner"></div>';a=(e=b.lp||(m&&m.lp),n={hash:{},data:i},e?e.call(m,"Ads GDPR, internal use only. Do not change","Viewing ads is privacy protected by DuckDuckGo. Ad clicks are managed by Microsoft's ad network",n):k.call(m,"lp","Ads GDPR, internal use only. Do not change","Viewing ads is privacy protected by DuckDuckGo. Ad clicks are managed by Microsoft's ad network",n));if(a||a===0){g+=a}g+=' (<a href="';if(e=b.helpPageURL){a=e.call(m,{hash:{},data:i})}else{e=(m&&m.helpPageURL);a=typeof e===f?e.call(m,{hash:{},data:i}):e}g+=h(a)+'" class="badge--ad__tooltip-link">';a=(e=b.lp||(m&&m.lp),n={hash:{},data:i},e?e.call(m,"Ads GDPR, internal use only. Do not change","More Info",n):k.call(m,"lp","Ads GDPR, internal use only. Do not change","More Info",n));if(a||a===0){g+=a}g+="</a>).</div>";return g});this["DDG"]["templates"]["address_detail"]=Handlebars.template(function(f,o,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,s,h="function",j=this.escapeExpression,q=this,n=e.helperMissing;function c(u,t){return"address-detail--apple-device"}function a(v,u){var t;t=e.each.call(v,(v&&v.addressLines),{hash:{},inverse:q.noop,fn:q.program(4,r,u),data:u});if(t||t===0){return t}else{return""}}function r(v,u){var t="";t+='<p class="address-detail__address js-address-detail-address">'+j((typeof v===h?v.apply(v):v))+"</p>";return t}function p(y,x){var t="",u,v;t+='<p class="address-detail__latlon js-address-detail-address">';if(v=e.displayLatLon){u=v.call(y,{hash:{},data:x})}else{v=(y&&y.displayLatLon);u=typeof v===h?v.call(y,{hash:{},data:x}):v}t+=j(u)+"</p>";return t}i+='<div class="address-detail ';b=e["if"].call(o,(o&&o.mapkitAppleDevice),{hash:{},inverse:q.noop,fn:q.program(1,c,k),data:k});if(b||b===0){i+=b}i+='"><div class="module__title address-detail__title js-address-detail-title"><div class="address-detail__links"><h1 class="address-detail__name js-address-detail-address">';if(g=e.name){b=g.call(o,{hash:{},data:k})}else{g=(o&&o.name);b=typeof g===h?g.call(o,{hash:{},data:k}):g}i+=j(b)+"</h1>";b=e["if"].call(o,(o&&o.addressLines),{hash:{},inverse:q.noop,fn:q.program(3,a,k),data:k});if(b||b===0){i+=b}b=e["if"].call(o,(o&&o.displayLatLon),{hash:{},inverse:q.noop,fn:q.program(6,p,k),data:k});if(b||b===0){i+=b}i+='</div></div><div class="dir-btn"><div class="dir-btn__link btn btn--primary js-address-detail-directions">';b=(g=e.lp||(o&&o.lp),s={hash:{},data:k},g?g.call(o,"directions","Directions",s):n.call(o,"lp","directions","Directions",s));if(b||b===0){i+=b}i+="</div></div></div>";return i});this["DDG"]["templates"]["answerbar_tabs"]=Handlebars.template(function(e,f,b,a,c){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,e.helpers);c=c||{};return'<div class="zcm"><ul class="zcm__menu zcm__constant" id="duckbar_static"></ul><ul class="zcm__menu zcm__dynamic" id="duckbar_new"><span id="duckbar_dynamic_sep" class="zcm__sep--h sep--before is-hidden"></span></ul><ul class="zcm__menu zcm__dropdowns js-duckbar-dropdowns" id="duckbar_dropdowns"><span class="zcm__sep--h sep--before is-hidden js-duckbar-dropdowns-separator"></span></ul></div>'});this["DDG"]["templates"]["carousel_module"]=Handlebars.template(function(f,r,p,j,y){this.compilerInfo=[4,">= 1.0.0"];p=this.merge(p,f.helpers);y=y||{};var q="",g,a,c="function",b=this.escapeExpression,n=this,o=p.helperMissing;function m(A,z){return" has-main-source"}function k(A,z){return" bing"}function i(A,z){return" has-hidden-vertical"}function h(D,C){var z="",A,B;z+=" has-grid grid-";if(B=p.gridColumns){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.gridColumns);A=typeof B===c?B.call(D,{hash:{},data:C}):B}z+=b(A)+"-cols";return z}function e(A,z){return" is-slotted-first"}function x(C,B){var z,A;if(A=p.carouselHeaderText){z=A.call(C,{hash:{},data:B})}else{A=(C&&C.carouselHeaderText);z=typeof A===c?A.call(C,{hash:{},data:B}):A}return b(z)}function v(B,A){var z;return b(((z=((z=(B&&B.meta)),z==null||z===false?z:z.primaryText)),typeof z===c?z.apply(B):z))}function u(E,D){var z="",B,C,A;z+='<div class="module--carousel__main-source">';B=p["if"].call(E,(E&&E.isAffiliate),{hash:{},inverse:n.noop,fn:n.program(16,t,D),data:D});if(B||B===0){z+=B}B=(C=p.moreAt||(E&&E.moreAt),A={hash:{className:("zci__more-at js-carousel-module-more-at"),dynamicMoreAtText:("0")},data:D},C?C.call(E,(E&&E.meta),"none",A):o.call(E,"moreAt",(E&&E.meta),"none",A));if(B||B===0){z+=B}z+="</div>";return z}function t(B,A){var z;z=p.unless.call(B,(B&&B.bing),{hash:{},inverse:n.noop,fn:n.program(17,s,A),data:A});if(z||z===0){return z}else{return""}}function s(C,B){var z="",A;A=((A=((A=(C&&C.meta)),A==null||A===false?A:A.secondaryText)),typeof A===c?A.apply(C):A);if(A||A===0){z+=A}z+='<span class="sep"></span>';return z}q+='<div class="module module--carousel module--carousel-';if(a=p.id){g=a.call(r,{hash:{},data:y})}else{a=(r&&r.id);g=typeof a===c?a.call(r,{hash:{},data:y}):a}q+=b(g)+" js-module--";if(a=p.id){g=a.call(r,{hash:{},data:y})}else{a=(r&&r.id);g=typeof a===c?a.call(r,{hash:{},data:y}):a}q+=b(g);g=p["if"].call(r,(r&&r.showMainSource),{hash:{},inverse:n.noop,fn:n.program(1,m,y),data:y});if(g||g===0){q+=g}g=p["if"].call(r,(r&&r.bing),{hash:{},inverse:n.noop,fn:n.program(3,k,y),data:y});if(g||g===0){q+=g}g=p["if"].call(r,(r&&r.hasHiddenVertical),{hash:{},inverse:n.noop,fn:n.program(5,i,y),data:y});if(g||g===0){q+=g}g=p["if"].call(r,(r&&r.gridColumns),{hash:{},inverse:n.noop,fn:n.program(7,h,y),data:y});if(g||g===0){q+=g}g=p["if"].call(r,(r&&r.isSlottedFirst),{hash:{},inverse:n.noop,fn:n.program(9,e,y),data:y});if(g||g===0){q+=g}q+='"><div class="module--carousel__left js-carousel-module-left ddgsi ddgsi-left is-hidden"></div><div class="module--carousel__right js-carousel-module-right ddgsi ddgsi-right is-hidden"></div><div class="js-carousel-module-title module__header module__header--link is-hidden">';g=p["if"].call(r,(r&&r.carouselHeaderText),{hash:{},inverse:n.program(13,v,y),fn:n.program(11,x,y),data:y});if(g||g===0){q+=g}q+='</div><div class="module--carousel__items js-carousel-module-items"></div><a href="#" class="js-carousel-module-more module__footer is-hidden">';if(a=p.moreText){g=a.call(r,{hash:{},data:y})}else{a=(r&&r.moreText);g=typeof a===c?a.call(r,{hash:{},data:y}):a}q+=b(g)+"</a>";g=p["if"].call(r,(r&&r.showMainSource),{hash:{},inverse:n.noop,fn:n.program(15,u,y),data:y});if(g||g===0){q+=g}q+="</div>";return q});this["DDG"]["templates"]["carousel_module_item"]=Handlebars.template(function(L,a,K,s,T){this.compilerInfo=[4,">= 1.0.0"];K=this.merge(K,L.helpers);T=T||{};var o="",v,k,J=K.helperMissing,e=this,P=this.escapeExpression,n="function";function I(V,U){return" has-image"}function H(V,U){return" has-extra-row"}function G(X,W){var U="",V;U+='<div class="module--carousel__image-wrapper js-carousel-item-image-wrapper">';V=K["if"].call(X,(X&&X.image),{hash:{},inverse:e.program(15,u,W),fn:e.program(6,E,W),data:W});if(V||V===0){U+=V}U+='<div class="image-labels">';V=K["if"].call(X,(X&&X.labelIcon),{hash:{},inverse:e.noop,fn:e.program(17,r,W),data:W});if(V||V===0){U+=V}V=K["if"].call(X,(X&&X.duration),{hash:{},inverse:e.noop,fn:e.program(19,p,W),data:W});if(V||V===0){U+=V}U+="</div></div>";return U}function E(Z,Y){var U="",W,X,V;U+='<div class="module--carousel__image';W=K["if"].call(Z,(Z&&Z.containImage),{hash:{},inverse:e.noop,fn:e.program(7,D,Y),data:Y});if(W||W===0){U+=W}W=K["if"].call(Z,(Z&&Z.centerImage),{hash:{},inverse:e.noop,fn:e.program(9,A,Y),data:Y});if(W||W===0){U+=W}U+='" style="background-image:url('+P((X=K.imageProxy||(Z&&Z.imageProxy),V={hash:{},data:Y},X?X.call(Z,(Z&&Z.image),(Z&&Z.imageProxyOps),V):J.call(Z,"imageProxy",(Z&&Z.image),(Z&&Z.imageProxyOps),V)))+')">';W=K["if"].call(Z,(Z&&Z.is_prime),{hash:{},inverse:e.noop,fn:e.program(11,C,Y),data:Y});if(W||W===0){U+=W}W=(X=K.and||(Z&&Z.and),V={hash:{},inverse:e.noop,fn:e.program(13,z,Y),data:Y},X?X.call(Z,(Z&&Z.showBadge),((W=((W=(Z&&Z.meta)),W==null||W===false?W:W.options)),W==null||W===false?W:W.badge),V):J.call(Z,"and",(Z&&Z.showBadge),((W=((W=(Z&&Z.meta)),W==null||W===false?W:W.options)),W==null||W===false?W:W.badge),V));if(W||W===0){U+=W}U+="</div>";return U}function D(V,U){return" is-contain-image"}function A(V,U){return" is-center-image"}function C(V,U){return'<span class="tile--pr__badge badge badge--prime"></span>'}function z(Y,X){var V,W,U;V=(W=K.include||(Y&&Y.include),U={hash:{},data:X},W?W.call(Y,((V=((V=(Y&&Y.meta)),V==null||V===false?V:V.options)),V==null||V===false?V:V.badge),U):J.call(Y,"include",((V=((V=(Y&&Y.meta)),V==null||V===false?V:V.options)),V==null||V===false?V:V.badge),U));if(V||V===0){return V}else{return""}}function u(V,U){return'<div class="module--carousel__placeholder js-carousel-item-img-placeholder ddgsi ddgsi-news"></div>'}function r(Y,X){var U="",V,W;U+='<div class="image-labels__label ddgsi ddgsi-';if(W=K.labelIcon){V=W.call(Y,{hash:{},data:X})}else{W=(Y&&Y.labelIcon);V=typeof W===n?W.call(Y,{hash:{},data:X}):W}U+=P(V)+'"></div>';return U}function p(Y,X){var U="",V,W;U+='<div class="image-labels__label">';if(W=K.duration){V=W.call(Y,{hash:{},data:X})}else{W=(Y&&Y.duration);V=typeof W===n?W.call(Y,{hash:{},data:X}):W}U+=P(V)+"</div>";return U}function j(V,U){return" is-one-row"}function h(X,W){var U,V;if(V=K.title){U=V.call(X,{hash:{},data:W})}else{V=(X&&X.title);U=typeof V===n?V.call(X,{hash:{},data:W}):V}if(U||U===0){return U}else{return""}}function f(X,W){var U,V;if(V=K.title){U=V.call(X,{hash:{},data:W})}else{V=(X&&X.title);U=typeof V===n?V.call(X,{hash:{},data:W}):V}return P(U)}function c(X,W){var U="",V;U+='<div class="module--carousel__body__content js-carousel-item-content">';V=K["if"].call(X,(X&&X.isNews),{hash:{},inverse:e.program(30,S,W),fn:e.program(28,b,W),data:W});if(V||V===0){U+=V}U+="</div>";return U}function b(X,W){var U,V;if(V=K.excerpt){U=V.call(X,{hash:{},data:W})}else{V=(X&&X.excerpt);U=typeof V===n?V.call(X,{hash:{},data:W}):V}if(U||U===0){return U}else{return""}}function S(X,W){var U,V;if(V=K.excerpt){U=V.call(X,{hash:{},data:W})}else{V=(X&&X.excerpt);U=typeof V===n?V.call(X,{hash:{},data:W}):V}return P(U)}function R(Y,X){var U="",V,W;U+='<div class="module--carousel__body__content is-short js-carousel-item-content">';if(W=K.description){V=W.call(Y,{hash:{},data:X})}else{W=(Y&&Y.description);V=typeof W===n?W.call(Y,{hash:{},data:X}):W}U+=P(V)+"</div>";return U}function Q(X,W){var U="",V;U+='<div class="module--carousel__body__pricing">';V=K["if"].call(X,(X&&X.low_price),{hash:{},inverse:e.program(37,N,W),fn:e.program(35,O,W),data:W});if(V||V===0){U+=V}U+="</div>";return U}function O(Y,X){var U="",V,W;U+='<span class="module--carousel__body__original-price">';if(W=K.price){V=W.call(Y,{hash:{},data:X})}else{W=(Y&&Y.price);V=typeof W===n?W.call(Y,{hash:{},data:X}):W}U+=P(V)+'</span><span class="module--carousel__body__price">';if(W=K.low_price){V=W.call(Y,{hash:{},data:X})}else{W=(Y&&Y.low_price);V=typeof W===n?W.call(Y,{hash:{},data:X}):W}U+=P(V)+"</span>";return U}function N(Y,X){var U="",V,W;U+='<span class="module--carousel__body__price">';if(W=K.price){V=W.call(Y,{hash:{},data:X})}else{W=(Y&&Y.price);V=typeof W===n?W.call(Y,{hash:{},data:X}):W}U+=P(V)+"</span>";return U}function M(V,U){return"has-relative-time"}function F(V,U){return" has-rating"}function B(Y,X){var U="",V,W;U+='<div class="module--carousel__extra-row">';if(W=K.extraRow){V=W.call(Y,{hash:{},data:X})}else{W=(Y&&Y.extraRow);V=typeof W===n?W.call(Y,{hash:{},data:X}):W}U+=P(V)+"</div>";return U}function y(Z,Y){var U="",W,X,V;U+='<span class="module--carousel__more-at">';W=(X=K.favicon||(Z&&Z.favicon),V={hash:{},data:Y},X?X.call(Z,(Z&&Z.url),V):J.call(Z,"favicon",(Z&&Z.url),V));if(W||W===0){U+=W}W=K["if"].call(Z,(Z&&Z.textOnlySource),{hash:{},inverse:e.program(49,q,Y),fn:e.program(46,x,Y),data:Y});if(W||W===0){U+=W}U+="</span>";return U}function x(Z,Y){var U="",W,X,V;U+='<span class="module--carousel__gray-text';W=K["if"].call(Z,(Z&&Z.bing),{hash:{},inverse:e.noop,fn:e.program(47,t,Y),data:Y});if(W||W===0){U+=W}U+='">'+P((X=K.ellipsis||(Z&&Z.ellipsis),V={hash:{},data:Y},X?X.call(Z,(Z&&Z.textOnlySource),20,V):J.call(Z,"ellipsis",(Z&&Z.textOnlySource),20,V)))+"</span>";return U}function t(V,U){return" one-line"}function q(Z,Y){var U="",W,X,V;U+='<span class="module--carousel__source result__url">';W=(X=K.ellipsis||(Z&&Z.ellipsis),V={hash:{},data:Y},X?X.call(Z,(Z&&Z.source),20,V):J.call(Z,"ellipsis",(Z&&Z.source),20,V));if(W||W===0){U+=W}U+="</span>";return U}function m(Y,X){var U="",V,W;U+='<span class="sep  tile__sep"></span><span class="tile__time">';if(W=K.relativeTimeShort){V=W.call(Y,{hash:{},data:X})}else{W=(Y&&Y.relativeTimeShort);V=typeof W===n?W.call(Y,{hash:{},data:X}):W}if(V||V===0){U+=V}U+="</span>";return U}function i(Y,X){var U="",V,W;U+='<span class="module--carousel__gray-text';V=K["if"].call(Y,(Y&&Y.bing),{hash:{},inverse:e.noop,fn:e.program(47,t,X),data:X});if(V||V===0){U+=V}U+='">';if(W=K.onlyGrayText){V=W.call(Y,{hash:{},data:X})}else{W=(Y&&Y.onlyGrayText);V=typeof W===n?W.call(Y,{hash:{},data:X}):W}U+=P(V)+"</span>";return U}function g(Y,X){var U="",V,W;U+='<div class="tile__rating"><span class="stars stars--';if(W=K.rating){V=W.call(Y,{hash:{},data:X})}else{W=(Y&&Y.rating);V=typeof W===n?W.call(Y,{hash:{},data:X}):W}U+=P(V)+'"><i class="star stars__1"></i><i class="star stars__2"></i><i class="star stars__3"></i><i class="star stars__4"></i><i class="star stars__5"></i></span></div>';return U}o+='<div class="module--carousel__item';v=K["if"].call(a,(a&&a.showImage),{hash:{},inverse:e.noop,fn:e.program(1,I,T),data:T});if(v||v===0){o+=v}v=K["if"].call(a,(a&&a.extraRow),{hash:{},inverse:e.noop,fn:e.program(3,H,T),data:T});if(v||v===0){o+=v}o+='" data-link="';if(k=K.link){v=k.call(a,{hash:{},data:T})}else{k=(a&&a.link);v=typeof k===n?k.call(a,{hash:{},data:T}):k}o+=P(v)+'">';v=K["if"].call(a,(a&&a.showImage),{hash:{},inverse:e.noop,fn:e.program(5,G,T),data:T});if(v||v===0){o+=v}o+='<div class="module--carousel__body"><a href="';if(k=K.link){v=k.call(a,{hash:{},data:T})}else{k=(a&&a.link);v=typeof k===n?k.call(a,{hash:{},data:T}):k}o+=P(v)+'" class="module--carousel__body__title';v=K["if"].call(a,(a&&a.oneRowTitle),{hash:{},inverse:e.noop,fn:e.program(21,j,T),data:T});if(v||v===0){o+=v}o+=' js-carousel-item-title">';v=K["if"].call(a,(a&&a.isNews),{hash:{},inverse:e.program(25,f,T),fn:e.program(23,h,T),data:T});if(v||v===0){o+=v}o+="</a>";v=K["if"].call(a,(a&&a.showImage),{hash:{},inverse:e.program(27,c,T),fn:e.noop,data:T});if(v||v===0){o+=v}v=K["if"].call(a,(a&&a.showDescription),{hash:{},inverse:e.noop,fn:e.program(32,R,T),data:T});if(v||v===0){o+=v}v=K["if"].call(a,(a&&a.bing),{hash:{},inverse:e.noop,fn:e.program(34,Q,T),data:T});if(v||v===0){o+=v}o+='</div><div class="module--carousel__footer ';v=K["if"].call(a,(a&&a.relativeTimeShort),{hash:{},inverse:e.noop,fn:e.program(39,M,T),data:T});if(v||v===0){o+=v}v=K["if"].call(a,(a&&a.showRating),{hash:{},inverse:e.noop,fn:e.program(41,F,T),data:T});if(v||v===0){o+=v}o+='">';v=K["if"].call(a,(a&&a.extraRow),{hash:{},inverse:e.noop,fn:e.program(43,B,T),data:T});if(v||v===0){o+=v}v=K.unless.call(a,(a&&a.hideSource),{hash:{},inverse:e.noop,fn:e.program(45,y,T),data:T});if(v||v===0){o+=v}v=K["if"].call(a,(a&&a.relativeTimeShort),{hash:{},inverse:e.noop,fn:e.program(51,m,T),data:T});if(v||v===0){o+=v}v=K["if"].call(a,(a&&a.onlyGrayText),{hash:{},inverse:e.noop,fn:e.program(53,i,T),data:T});if(v||v===0){o+=v}v=K["if"].call(a,(a&&a.showRating),{hash:{},inverse:e.noop,fn:e.program(55,g,T),data:T});if(v||v===0){o+=v}o+="</div></div>";return o});this["DDG"]["templates"]["covid_19"]=Handlebars.template(function(f,n,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,h="function",j=this.escapeExpression,r=this;function c(x,v){var s="",t,u;s+='<div class="module__nav__item js-covid19-tab3" data-id="3">';if(u=e.tab3){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.tab3);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+"</div>";return s}function a(x,v){var s="",t,u;s+='<div><span class="covid__icon"><a href="';if(u=e.linkUrl){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.linkUrl);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+'" title="';if(u=e.linkUrl){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.linkUrl);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+'" class="js-covid19-link" rel="noopener"><img height="16" width="16" src="';if(u=e.iconURL){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.iconURL);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+'" class="covid_links--align"></a></span><a href="';if(u=e.linkUrl){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.linkUrl);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+'" title="';if(u=e.linkUrl){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.linkUrl);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+'" class="module__more-at js-covid19-link covid_links--align" rel="noopener">';if(u=e.linkText){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.linkText);t=typeof u===h?u.call(x,{hash:{},data:v}):u}if(t||t===0){s+=t}s+="</a></div>";return s}function q(v,u){var s="",t;s+="<li>";t=(typeof v===h?v.apply(v):v);if(t||t===0){s+=t}s+="</li>";return s}function p(v,u){var s="",t;s+='<div class="js-covid19-panel3 is-hidden"><div class="covid__tips"><div>'+j(((t=((t=(v&&v.symptoms)),t==null||t===false?t:t.heading)),typeof t===h?t.apply(v):t))+"</div><ul>";t=e.each.call(v,((t=(v&&v.symptoms)),t==null||t===false?t:t.items),{hash:{},inverse:r.noop,fn:r.program(8,o,u),data:u});if(t||t===0){s+=t}s+="</ul></div></div>";return s}function o(u,t){var s="";s+="<li>"+j((typeof u===h?u.apply(u):u))+"</li>";return s}i+='<div class="module ia-module-covid"><div class="module__title module__title__link">';if(g=e.title){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.title);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+'</div><div class="module__nav"><div class="module__nav__item js-covid19-tab1 is-active" data-id="1">';if(g=e.tab1){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.tab1);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+"</div>";b=e["if"].call(n,(n&&n.symptoms),{hash:{},inverse:r.noop,fn:r.program(1,c,k),data:k});if(b||b===0){i+=b}i+='<div class="module__nav__item js-covid19-tab2" data-id="2">';if(g=e.tab2){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.tab2);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+'</div><div class="module__nav__item js-covid19-tab4" data-id="4">';if(g=e.tab4){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.tab4);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+'</div></div><div class="module__grey"><div class="js-covid19-panel1"><div>';if(g=e.subtitle){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.subtitle);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+'</div><div class="covid__links">';b=e.each.call(n,(n&&n.links),{hash:{},inverse:r.noop,fn:r.program(3,a,k),data:k});if(b||b===0){i+=b}i+='</div><div class="js-covid19-cases is-hidden" style="padding-top: 10px;"><div>';if(g=e.confirmed){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.confirmed);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+':</div><div class="covid__links"><div class="js-covid19-localrow is-hidden"><div class="flag-xs  flag-xs-';if(g=e.flagIcon){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.flagIcon);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+'" style="display: inline-block;"></div><div style="display: inline-block; padding-left: 12px; vertical-align: text-bottom;"><span class="js-covid19-local"></span></div></div><div><div class="flag-xs  flag-xs-wt" style="display: inline-block;"></div><div style="display: inline-block; padding-left: 12px; vertical-align: text-bottom;"><span class="js-covid19-world"></span></div></div><a href="#" class="js-covid19-stats module__footer">';if(g=e.moreStatsText){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.moreStatsText);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+'</a></div></div></div><div class="covid__tips js-covid19-panel2 is-hidden"><div class="covid__tips"><div>'+j(((b=((b=(n&&n.tips)),b==null||b===false?b:b.heading)),typeof b===h?b.apply(n):b))+"</div><ul>";b=e.each.call(n,((b=(n&&n.tips)),b==null||b===false?b:b.items),{hash:{},inverse:r.noop,fn:r.program(5,q,k),data:k});if(b||b===0){i+=b}i+="</ul></div></div>";b=e["if"].call(n,(n&&n.symptoms),{hash:{},inverse:r.noop,fn:r.program(7,p,k),data:k});if(b||b===0){i+=b}i+='<div class="js-covid19-panel4 is-hidden covid__stats-panel"></div></div><div class="covid19__footer js-covid19-footer" style="display: none;"><p class="feedback-prompt">Updated <span class=" js-covid19-updated" /> &#183; Source: <a href="https://en.wikipedia.org/wiki/Template:2019%E2%80%9320_coronavirus_pandemic_data" class="js-covid19-wiki feedback-prompt__link">Wikipedia</a></p><p class="covid19__footer__separator">|</p><div class="js-covid19-feedback"></div></div></div>';return i});this["DDG"]["templates"]["covid_19_cases"]=Handlebars.template(function(f,m,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",a,n=this,g="function",i=this.escapeExpression;function c(s,r){var o="",p,q;o+="<tr ";p=e["if"].call(s,(s&&s.isCountryMatch),{hash:{},inverse:n.noop,fn:n.program(2,b,r),data:r});if(p||p===0){o+=p}o+='><td class="covid__table-location">';if(q=e.location){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.location);p=typeof q===g?q.call(s,{hash:{},data:r}):q}o+=i(p)+"</td><td>";if(q=e.cases){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.cases);p=typeof q===g?q.call(s,{hash:{},data:r}):q}o+=i(p)+"</td><td>";if(q=e.deaths){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.deaths);p=typeof q===g?q.call(s,{hash:{},data:r}):q}o+=i(p)+'</td><td class="js-covid19-mobile is-hidden">';if(q=e.recovered){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.recovered);p=typeof q===g?q.call(s,{hash:{},data:r}):q}o+=i(p)+"</td></tr>";return o}function b(p,o){return'class="covid__table-row--match"'}h+='<table class="covid__table"><tbody><tr><th class="covid__table-location">Location</th><th>Confirmed</th><th>Deaths</th><th class="js-covid19-mobile is-hidden">Recovered</th></tr>';a=e.each.call(m,(m&&m.countries),{hash:{},inverse:n.noop,fn:n.program(1,c,j),data:j});if(a||a===0){h+=a}h+="</tbody></table>";return h});this["DDG"]["templates"]["custom_date_range_modal"]=Handlebars.template(function(c,m,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,n,f="function",h=this.escapeExpression,k=b.helperMissing;g+='<div class="modal modal--popover  modal--popover--gray custom_date-modal"><a href="#" class="modal__overlay  js-modal-close"></a><div class="modal__wrap modal__wrap--custom_date"><div class="modal__box modal__box--custom_date modal__box--headed"><div class="js-custom_date-form"><div class="modal__box__content"><h6 class="custom_date__header">';if(e=b.header){a=e.call(m,{hash:{},data:i})}else{e=(m&&m.header);a=typeof e===f?e.call(m,{hash:{},data:i}):e}g+=h(a)+'</h6><a href="#" class="modal__close  js-modal-close">X</a><div class="custom_date__fields"><input class="frm__input custom_date__input js-custom-date-range-from" /><input class="frm__input custom_date__input js-custom-date-range-to" /></div><div class="js-custom-date-range-from-datepicker"></div><div class="js-custom-date-range-to-datepicker"></div><a href="#" class="btn btn--primary js-custom-date-range-apply">';a=(e=b.lp||(m&&m.lp),n={hash:{},data:i},e?e.call(m,"Custom date range filer","Apply",n):k.call(m,"lp","Custom date range filer","Apply",n));if(a||a===0){g+=a}g+="</a></div></div></div></div></div>";return g});this["DDG"]["templates"]["directions_button"]=Handlebars.template(function(f,n,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",a,g="function",i=this.escapeExpression,p=this,m=e.helperMissing;function c(x,v){var r="",t,u,s;r+='<a class="js-dir-btn-link" href="';if(u=e.directionsURL){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.directionsURL);t=typeof u===g?u.call(x,{hash:{},data:v}):u}r+=i(t)+'" title="';if(u=e.directionsTitle){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.directionsTitle);t=typeof u===g?u.call(x,{hash:{},data:v}):u}r+=i(t)+'"><div class="btn place-detail__cta-icon"></div><div class="place-detail__cta-text js-dir-btn-text" ';t=e["if"].call(x,((t=(x&&x.answer)),t==null||t===false?t:t.isMapExpanded),{hash:{},inverse:p.noop,fn:p.program(2,b,v),data:v});if(t||t===0){r+=t}r+="><span>";t=(u=e.lp||(x&&x.lp),s={hash:{},data:v},u?u.call(x,"maps_places","Directions",s):m.call(x,"lp","maps_places","Directions",s));if(t||t===0){r+=t}r+="</span></div></a>";return r}function b(s,r){return' target="_blank" rel="noopener"'}function q(x,v){var r="",t,u,s;r+='<a class="dir-btn__link btn ';t=e["if"].call(x,(x&&x.isAddress),{hash:{},inverse:p.noop,fn:p.program(5,o,v),data:v});if(t||t===0){r+=t}r+=' js-dir-btn-link" href="';if(u=e.directionsURL){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.directionsURL);t=typeof u===g?u.call(x,{hash:{},data:v}):u}r+=i(t)+'" title="';if(u=e.directionsTitle){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.directionsTitle);t=typeof u===g?u.call(x,{hash:{},data:v}):u}r+=i(t)+'"';t=e["if"].call(x,((t=(x&&x.answer)),t==null||t===false?t:t.isMapExpanded),{hash:{},inverse:p.noop,fn:p.program(2,b,v),data:v});if(t||t===0){r+=t}r+=">";t=(u=e.lp||(x&&x.lp),s={hash:{},data:v},u?u.call(x,"maps_places","Directions",s):m.call(x,"lp","maps_places","Directions",s));if(t||t===0){r+=t}r+="</a>";return r}function o(s,r){return"btn--primary"}h+='<div class="dir-btn">';a=e["if"].call(n,(n&&n.showDirectionsIcon),{hash:{},inverse:p.program(4,q,j),fn:p.program(1,c,j),data:j});if(a||a===0){h+=a}h+="</div>";return h});this["DDG"]["templates"]["directions_module"]=Handlebars.template(function(e,k,c,i,h){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);h=h||{};var g="",a,f,n,m=this,j=c.helperMissing;function b(p,o){return"is-hidden"}g+='<form class="module directions-module js-directions-module"><span class="is-hidden js-directions-module-privacy-link"><a class="feedback-prompt__link" target="_blank" href="https://help.duckduckgo.com/duckduckgo-help-pages/privacy/anonymous-localized-results/">Privacy</a>&nbsp;|&nbsp;</span><div class="directions-module__header ';a=c["if"].call(k,(k&&k.canShowMap),{hash:{},inverse:m.noop,fn:m.program(1,b,h),data:h});if(a||a===0){g+=a}g+='">';a=(f=c.lp||(k&&k.lp),n={hash:{},data:h},f?f.call(k,"directions","Directions",n):j.call(k,"lp","directions","Directions",n));if(a||a===0){g+=a}g+='</div><div class="directions-module__search js-directions-module-search"></div><div class="directions-module__map ';a=c.unless.call(k,(k&&k.canShowMap),{hash:{},inverse:m.noop,fn:m.program(1,b,h),data:h});if(a||a===0){g+=a}g+='"><div class="directions-module__map__inner js-directions-module-map"></div><span class="label mapkit-static__cta">';a=(f=c.l||(k&&k.l),n={hash:{},data:h},f?f.call(k,"Open Map",n):j.call(k,"l","Open Map",n));if(a||a===0){g+=a}g+='</span></div><div class="directions-module__details js-directions-module-details"><div class="directions-module__cta dir-btn"><div class="dir-btn__link btn btn--primary is-disabled js-directions-module-cta">';a=(f=c.lp||(k&&k.lp),n={hash:{},data:h},f?f.call(k,"maps_maps_module","Get Directions",n):j.call(k,"lp","maps_maps_module","Get Directions",n));if(a||a===0){g+=a}g+='</div></div><div class="skeleton-loader js-directions-module-skeletonloader ';a=c.unless.call(k,(k&&k.canShowMap),{hash:{},inverse:m.noop,fn:m.program(1,b,h),data:h});if(a||a===0){g+=a}g+='"><div class="skeleton-loader__row1"><div class="skeleton-loader__section4"><div class="skeleton-loader__box skeleton-loader__box2"></div></div><div class="skeleton-loader__section5"><div class="skeleton-loader__box skeleton-loader__box2"></div></div></div><div class="skeleton-loader__row2"><div class="skeleton-loader__section2"><div class="skeleton-loader__box skeleton-loader__box4"></div></div></div></div></div></form>';return g});this["DDG"]["templates"]["directions_results"]=Handlebars.template(function(e,n,c,k,j){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);j=j||{};var h="",a,f,p,o=this,m=c.helperMissing,g="function",i=this.escapeExpression;function b(r,q){return"is-hidden"}h+='<div class="directions-results js-directions-results"><p class="directions-results__initial-message js-directions-results-initial-message ';a=c["if"].call(n,(n&&n.isRouting),{hash:{},inverse:o.noop,fn:o.program(1,b,j),data:j});if(a||a===0){h+=a}h+='">';a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"directions","Add a starting point and destination to find a route.",p):m.call(n,"lp","directions","Add a starting point and destination to find a route.",p));if(a||a===0){h+=a}h+='</p><div class="directions-results__external-provider is-hidden js-directions-results-external-provider"><a href="">';a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"directions","Navigate in",p):m.call(n,"lp","directions","Navigate in",p));if(a||a===0){h+=a}h+=" ";if(f=c.externalMapProviderDisplay){a=f.call(n,{hash:{},data:j})}else{f=(n&&n.externalMapProviderDisplay);a=typeof f===g?f.call(n,{hash:{},data:j}):f}h+=i(a)+"</a></div></div>";return h});this["DDG"]["templates"]["directions_route"]=Handlebars.template(function(e,f,b,a,c){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,e.helpers);c=c||{};return'<div class="directions-route js-directions-route"></div>'});this["DDG"]["templates"]["directions_route_info"]=Handlebars.template(function(f,n,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",b,g="function",i=this.escapeExpression,m=e.helperMissing,r=this;function c(t,s){return"has-results"}function a(v,u){var s="",t;s+=i(((t=((t=(v&&v.fastestRoute)),t==null||t===false?t:t.expectedTravelTimeFormatted)),typeof t===g?t.apply(v):t))+'<span class="directions-route-info__transport directions-route-info__transport--'+i(((t=((t=(v&&v.currentTransportType)),t==null||t===false?t:t.id)),typeof t===g?t.apply(v):t))+'"></span>';return s}function q(x,v){var t,u,s;t=(u=e.lp||(x&&x.lp),s={hash:{},data:v},u?u.call(x,"directions","No Available Routes",s):m.call(x,"lp","directions","No Available Routes",s));if(t||t===0){return t}else{return""}}function p(u,t){var s;return i(((s=((s=(u&&u.fastestRoute)),s==null||s===false?s:s.distanceFormatted)),typeof s===g?s.apply(u):s))}function o(x,v){var t,u,s;t=(u=e.lp||(x&&x.lp),s={hash:{},data:v},u?u.call(x,"directions","No available routes between these locations",s):m.call(x,"lp","directions","No available routes between these locations",s));if(t||t===0){return t}else{return""}}h+='<div class="directions-route-info"><div><span class="directions-route-info__heading__primary ';b=e["if"].call(n,(n&&n.hasResults),{hash:{},inverse:r.noop,fn:r.program(1,c,j),data:j});if(b||b===0){h+=b}h+=' js-directions-module-traveltime">';b=e["if"].call(n,(n&&n.hasResults),{hash:{},inverse:r.program(5,q,j),fn:r.program(3,a,j),data:j});if(b||b===0){h+=b}h+='</span></div><div class="directions-route-info__heading__secondary js-directions-module-traveldistance">';b=e["if"].call(n,(n&&n.hasResults),{hash:{},inverse:r.program(9,o,j),fn:r.program(7,p,j),data:j});if(b||b===0){h+=b}h+="</div></div>";return h});this["DDG"]["templates"]["directions_route_line"]=Handlebars.template(function(e,f,b,a,c){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,e.helpers);c=c||{};return'<div class="directions-route-line js-directions-route-line"></div>'});this["DDG"]["templates"]["directions_route_overview"]=Handlebars.template(function(f,o,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,q,n=e.helperMissing,p=this,h="function",j=this.escapeExpression;function c(s,r){return"is-selected"}function a(x,v){var r="",t,u,s;r+=" &middot; ";t=(u=e.lp||(x&&x.lp),s={hash:{},data:v},u?u.call(x,"directions","Fastest route",s):n.call(x,"lp","directions","Fastest route",s));if(t||t===0){r+=t}return r}i+='<div class="directions-route-overview js-directions-route-overview ';b=e["if"].call(o,(o&&o.isSelected),{hash:{},inverse:p.noop,fn:p.program(1,c,k),data:k});if(b||b===0){i+=b}i+='"><div class="directions-table"><div class="directions-col directions-col--icon"><span class="directions-col--icon__image directions-col--icon__image--'+j(((b=((b=((b=(o&&o.directionsModel)),b==null||b===false?b:b.currentTransportType)),b==null||b===false?b:b.id)),typeof b===h?b.apply(o):b))+'"></span></div><div class="directions-col directions-col--content"><div class="directions-route-overview__heading"><span class="directions-route-overview__heading__primary">';if(g=e.expectedTravelTimeFormatted){b=g.call(o,{hash:{},data:k})}else{g=(o&&o.expectedTravelTimeFormatted);b=typeof g===h?g.call(o,{hash:{},data:k}):g}i+=j(b)+'</span><span class="directions-route-overview__heading__secondary">&nbsp;(';if(g=e.distanceFormatted){b=g.call(o,{hash:{},data:k})}else{g=(o&&o.distanceFormatted);b=typeof g===h?g.call(o,{hash:{},data:k}):g}i+=j(b)+')</span></div><div class="directions-route-overview__item">';b=(g=e.lp||(o&&o.lp),q={hash:{},data:k},g?g.call(o,"directions","Via",q):n.call(o,"lp","directions","Via",q));if(b||b===0){i+=b}i+=" ";if(g=e.name){b=g.call(o,{hash:{},data:k})}else{g=(o&&o.name);b=typeof g===h?g.call(o,{hash:{},data:k}):g}i+=j(b);b=e["if"].call(o,(o&&o.isFastestRoute),{hash:{},inverse:p.noop,fn:p.program(3,a,k),data:k});if(b||b===0){i+=b}i+='</div><div class="directions-route-overview__toggle js-directions-route-overview-toggle"><div class="js-directions-route-overview-toggle-show"><svg class="directions-route-overview__icon" width="12" height="12" viewBox="0 0 11 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.15278 9.75044L5.54494 11.1426L10.6875 6L5.54494 0.857406L4.15278 2.24956L7.90322 6L4.15278 9.75044Z"/></svg>';b=(g=e.lp||(o&&o.lp),q={hash:{},data:k},g?g.call(o,"directions","Show Steps",q):n.call(o,"lp","directions","Show Steps",q));if(b||b===0){i+=b}i+='</div><div class="js-directions-route-overview-toggle-hide is-hidden"><svg class="directions-route-overview__icon" width="12" height="12" viewBox="0 0 12 11"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.24956 4.15278L0.857406 5.54494L6 10.6875L11.1426 5.54494L9.75044 4.15278L6 7.90322L2.24956 4.15278Z"/></svg>';b=(g=e.lp||(o&&o.lp),q={hash:{},data:k},g?g.call(o,"directions","Hide Steps",q):n.call(o,"lp","directions","Hide Steps",q));if(b||b===0){i+=b}i+="</div></div></div></div></div>";return i});this["DDG"]["templates"]["directions_route_step"]=Handlebars.template(function(f,o,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,n=e.helperMissing,j=this.escapeExpression,h="function",q=this;function c(v,u){var r="",t,s;r+='<img class="directions-col--icon__image" src="'+j((t=e.imageProxy||(v&&v.imageProxy),s={hash:{},data:u},t?t.call(v,(v&&v.imageUrl),s):n.call(v,"imageProxy",(v&&v.imageUrl),s)))+'"/>';return r}function a(u,t){var r,s;if(s=e.instructions){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.instructions);r=typeof s===h?s.call(u,{hash:{},data:t}):s}return j(r)}function p(s,r){return"&nbsp;"}i+='<div class="directions-route-step directions-table js-directions-route-step"><div class="directions-col directions-col--icon">';b=e["if"].call(o,(o&&o.imageUrl),{hash:{},inverse:q.noop,fn:q.program(1,c,k),data:k});if(b||b===0){i+=b}i+='</div><div class="directions-col directions-col--content"><div class="directions-route-step__heading">';if(g=e.stepHeader){b=g.call(o,{hash:{},data:k})}else{g=(o&&o.stepHeader);b=typeof g===h?g.call(o,{hash:{},data:k}):g}i+=j(b)+'</div><div class="directions-route-step__instructions">';b=e["if"].call(o,(o&&o.instructions),{hash:{},inverse:q.program(5,p,k),fn:q.program(3,a,k),data:k});if(b||b===0){i+=b}i+="</div></div></div>";return i});this["DDG"]["templates"]["directions_route_step_list"]=Handlebars.template(function(e,i,c,h,g){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);g=g||{};var f="",a,j=this;function b(m,k){return"is-hidden"}f+='<div class="directions-route-step-list js-directions-route-step-list ';a=c.unless.call(i,(i&&i.isExpanded),{hash:{},inverse:j.noop,fn:j.program(1,b,g),data:g});if(a||a===0){f+=a}f+='"><div class="directions-route-step-list__container js-directions-route-step-list-container"></div></div>';return f});this["DDG"]["templates"]["directions_search"]=Handlebars.template(function(f,m,e,j,i){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);i=i||{};var h="",b,g,o,n=this,k=e.helperMissing;function c(q,p){return"form"}function a(q,p){return"div"}h+="<";b=e["if"].call(m,(m&&m.isMapExpanded),{hash:{},inverse:n.program(3,a,i),fn:n.program(1,c,i),data:i});if(b||b===0){h+=b}h+=' class="directions-search js-directions-search"><div class="directions-search__mode"><div class="directions-search__mode__type directions-search__mode__type--drive js-directions-search-drive is-selected"><span class="btn directions-search__mode__type__icon directions-search__mode__type__icon--drive"></span><span class="directions-search__mode__type__text">';b=(g=e.lp||(m&&m.lp),o={hash:{},data:i},g?g.call(m,"directions","Driving",o):k.call(m,"lp","directions","Driving",o));if(b||b===0){h+=b}h+='</span></div><div class="directions-search__mode__type directions-search__mode__type--walk js-directions-search-walk"><span class="btn directions-search__mode__type__icon directions-search__mode__type__icon--walk"></span><span class="directions-search__mode__type__text">';b=(g=e.lp||(m&&m.lp),o={hash:{},data:i},g?g.call(m,"directions","Walking",o):k.call(m,"lp","directions","Walking",o));if(b||b===0){h+=b}h+='</span></div></div><div class="directions-search__input-container"><div class="directions-search__icons"><div class="directions-search__icon__start"></div><div class="directions-search__icon__route"><div class="directions-search__icon__route__dot"></div><div class="directions-search__icon__route__dot"></div><div class="directions-search__icon__route__dot"></div><div class="directions-search__icon__route__dot"></div></div><div class="directions-search__icon__end"><svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.1917 0.910032C6.66239 0.910032 3.63672 3.43141 3.63672 7.21291C3.63672 11.4987 10.1917 18.5586 10.1917 18.5586C10.1917 18.5586 16.7468 11.4993 16.7468 7.21291C16.7468 3.43082 13.7211 0.910032 10.1917 0.910032ZM7.67034 7.41528C7.67034 6.00329 8.77975 4.89385 10.1917 4.89385C11.6037 4.89385 12.7131 6.00329 12.7131 7.41528C12.7131 8.82723 11.6037 9.93667 10.1917 9.93667C8.77975 9.93667 7.67034 8.82727 7.67034 7.41528Z"></path></svg></div></div><div class="directions-search__inputs js-directions-search-inputs"></div></div></';b=e["if"].call(m,(m&&m.isMapExpanded),{hash:{},inverse:n.program(3,a,i),fn:n.program(1,c,i),data:i});if(b||b===0){h+=b}h+=">";return h});this["DDG"]["templates"]["directions_sidebar"]=Handlebars.template(function(e,f,b,a,c){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,e.helpers);c=c||{};return'<div class="js-vertical-map-sidebar-header-wrapper"><div class="vertical--map__type-container js-vertical-map-type-container"></div><div class="vertical--map__sidebar__header"><div class="js-vertical-map-content vertical--map__sidebar__header__content"><div class="vertical--map__sidebar__header__close-btn ddgsi ddgsi-close-bold js-vertical-map-closebtn"></div><a href="#" class="vertical--map__sidebar__header__link vertical--map__sidebar__header__link--back js-vertical-map-back"><span class="vertical--map__sidebar__header__link__icon-wrap"><span class="vertical--map__sidebar__header__link__icon vertical--map__sidebar__header__link__icon--back"></span></span></a></div></div></div>'});this["DDG"]["templates"]["directions_sidebar_mobile"]=Handlebars.template(function(c,j,b,h,g){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);g=g||{};var f="",a,e,k,i=b.helperMissing;f+='<div class=\'js-vertical-map-sidebar-mobile\'><div class="js-vertical-map-sidebar-mobile-header vertical--map__sidebar__header--mobile"><div class="js-vertical-map-sidebar-mobile-header-content vertical--map__sidebar__header__content"><div class="vertical--map__sidebar__header__close-btn ddgsi ddgsi-close-bold js-vertical-map-closebtn"></div><a href="#" class="vertical--map__sidebar__header__link vertical--map__sidebar__header__link--back js-vertical-map-sidebar-mobile-back"><span class="vertical--map__sidebar__header__link__icon-wrap"><span class="vertical--map__sidebar__header__link__icon vertical--map__sidebar__header__link__icon--back"></span></span></a><!-- Searchbar gets appended here --></div></div><div class="vertical--map__mobile-toggle js-vertical-map-sidebar-mobile-toggle"><span class="vertical--map__mobile-toggle-icon vertical--map__mobile-toggle-icon--map js-vertical-map-sidebar-mobile-toggle-icon"></span><span class="vertical--map__mobile-toggle-text js-vertical-map-sidebar-mobile-toggle-text">';a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"directions","Show map",k):i.call(j,"lp","directions","Show map",k));if(a||a===0){f+=a}f+="</span></div></div>";return f});this["DDG"]["templates"]["directions_skeleton_loader"]=Handlebars.template(function(f,j,e,i,h){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);h=h||{};var g="",b,k=this;function c(n,m){return"is-hidden"}function a(n,m){return'<div class="skeleton-loader__item"><div class="skeleton-loader__item__left"><div class="skeleton-loader__box skeleton-loader__box1"></div></div><div class="skeleton-loader__item__right"><div class="skeleton-loader__section1"><div class="skeleton-loader__box skeleton-loader__box2"></div></div><div class="skeleton-loader__section2"><div class="skeleton-loader__box skeleton-loader__box3"></div></div><div class="skeleton-loader__section3"><div class="skeleton-loader__box skeleton-loader__box4"></div></div></div></div>'}g+='<div class="skeleton-loader ';b=e.unless.call(j,(j&&j.isRouting),{hash:{},inverse:k.noop,fn:k.program(1,c,h),data:h});if(b||b===0){g+=b}g+='">';b=e.each.call(j,(j&&j.loadItems),{hash:{},inverse:k.noop,fn:k.program(3,a,h),data:h});if(b||b===0){g+=b}g+="</div>";return g});this["DDG"]["templates"]["feedback_button"]=Handlebars.template(function(e,k,c,i,h){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);h=h||{};var g="",a,f,n,j=c.helperMissing,m=this;function b(p,o){return'<div class="feedback-btn__icon-wrap is-hidden js-feedback-icon-wrap"><a href="javascript:;" class="feedback-btn__icon ddgsi feedback-btn__icon--love js-feedback-love"></a><a href="javascript:;" class="feedback-btn__icon ddgsi feedback-btn__icon--nolove js-feedback-nolove"></a></div>'}g+='<div class="btn feedback-btn"><a href="javascript:;" class="feedback-btn__send js-feedback-start">';a=(f=c.lp||(k&&k.lp),n={hash:{},data:h},f?f.call(k,"feedback form","Share Feedback",n):j.call(k,"lp","feedback form","Share Feedback",n));if(a||a===0){g+=a}g+="</a>";a=c.unless.call(k,(k&&k.noFaces),{hash:{},inverse:m.noop,fn:m.program(1,b,h),data:h});if(a||a===0){g+=a}g+="</div>";return g});this["DDG"]["templates"]["feedback_issue_list"]=Handlebars.template(function(e,j,c,i,h){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);h=h||{};var a,f="function",g=this.escapeExpression,k=this;function b(q,p){var m="",n,o;m+='<label class="feedback-modal__radio"><input class="js-feedback-radio feedback-modal__radio__input" type="radio" value="';if(o=c.val){n=o.call(q,{hash:{},data:p})}else{o=(q&&q.val);n=typeof o===f?o.call(q,{hash:{},data:p}):o}m+=g(n)+'" name="feedback-issues"/>';if(o=c.text){n=o.call(q,{hash:{},data:p})}else{o=(q&&q.text);n=typeof o===f?o.call(q,{hash:{},data:p}):o}m+=g(n)+"</label>";return m}a=c.each.call(j,(j&&j.issues),{hash:{},inverse:k.noop,fn:k.program(1,b,h),data:h});if(a||a===0){return a}else{return""}});this["DDG"]["templates"]["feedback_modal"]=Handlebars.template(function(f,o,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,r,h="function",j=this.escapeExpression,p=this,n=e.helperMissing;function c(x,v){var s="",t,u;s+='<div class="frm__label feedback-modal__label feedback-modal__subtitle">';if(u=e.subtitleText){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.subtitleText);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+"</div>";return s}function a(v,u){var s="",t;s+='<div class="frm__label feedback-modal__label js-feedback-suggestion-label"></div><div class="frm__select feedback-modal__input feedback-modal__input--dropdown"><select class="js-feedback-dropdown">';t=e.each.call(v,(v&&v.options),{hash:{},inverse:p.noop,fn:p.program(4,q,u),data:u});if(t||t===0){s+=t}s+="</select></div>";return s}function q(x,v){var s="",t,u;s+='<option value="';if(u=e.val){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.val);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+'">';if(u=e.text){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.text);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+"</option>";return s}i+='<div class="modal modal--popover  modal--popover--gray feedback-modal"><a href="#" class="modal__overlay  js-modal-close"></a><div class="modal__wrap modal__wrap--feedback"><div class="modal__box modal__box--feedback modal__box--headed"><div class="js-feedback-form"><header class="modal__box__header modal__box__header--form"><h5>';b=(g=e.lp||(o&&o.lp),r={hash:{},data:k},g?g.call(o,"feedback form","Help DuckDuckGo%s improve searches like this","<br/>",r):n.call(o,"lp","feedback form","Help DuckDuckGo%s improve searches like this","<br/>",r));if(b||b===0){i+=b}i+='</h5></header><div class="modal__box__content">                    <div class="frm frm--feedback">';b=e["if"].call(o,(o&&o.defaultCategory),{hash:{},inverse:p.program(3,a,k),fn:p.program(1,c,k),data:k});if(b||b===0){i+=b}i+='<div class="js-feedback-issues is-invisible feedback-modal__issues is-invisible"></div><textarea placeholder="';b=(g=e.l||(o&&o.l),r={hash:{},data:k},g?g.call(o,"Feedback",r):n.call(o,"l","Feedback",r));if(b||b===0){i+=b}i+='" class="frm__text is-hidden feedback-modal__input feedback-modal__input--text js-feedback-suggestion"></textarea><a href="#" class="feedback-modal__submit is-disabled btn btn--primary js-feedback-submit">';b=(g=e.l||(o&&o.l),r={hash:{},data:k},g?g.call(o,"Submit",r):n.call(o,"l","Submit",r));if(b||b===0){i+=b}i+='</a><a href="#" class="modal__close  js-modal-close">X</a></div></div></div><div class="js-feedback-success"><header class="modal__box__header modal__box__header--success"><h5>';b=(g=e.lp||(o&&o.lp),r={hash:{},data:k},g?g.call(o,"feedback form","Feedback Sent Successfully",r):n.call(o,"lp","feedback form","Feedback Sent Successfully",r));if(b||b===0){i+=b}i+='</h5></header><div class="modal__box__content">                    <p class="feedback-modal__message">';b=(g=e.l||(o&&o.l),r={hash:{},data:k},g?g.call(o,"Thank you!",r):n.call(o,"l","Thank you!",r));if(b||b===0){i+=b}i+=" ";b=(g=e.lp||(o&&o.lp),r={hash:{},data:k},g?g.call(o,"feedback form","We use feedback like this to improve DuckDuckGo.",r):n.call(o,"lp","feedback form","We use feedback like this to improve DuckDuckGo.",r));if(b||b===0){i+=b}i+='</p><a href="#"  class="modal__close  js-modal-close">X</a></div></div></div></div></div>';return i});this["DDG"]["templates"]["feedback_prompt"]=Handlebars.template(function(f,m,e,j,i){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);i=i||{};var b,g="function",h=this.escapeExpression,k=e.helperMissing,n=this;function c(u,t){var p="",r,s,q;p+='<p class="feedback-prompt">';if(s=e.promptText){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.promptText);r=typeof s===g?s.call(u,{hash:{},data:t}):s}p+=h(r)+'<a href="#" class="feedback-prompt__link js-feedback-prompt-yes">';r=(s=e.l||(u&&u.l),q={hash:{},data:t},s?s.call(u,"Yes",q):k.call(u,"l","Yes",q));if(r||r===0){p+=r}p+='</a><a href="#" class="feedback-prompt__link js-feedback-prompt-no">';r=(s=e.l||(u&&u.l),q={hash:{},data:t},s?s.call(u,"No",q):k.call(u,"l","No",q));if(r||r===0){p+=r}p+="</a></p>";return p}function a(t,s){var p="",q,r;p+='<p class="feedback-prompt ';q=e["if"].call(t,(t&&t.asButton),{hash:{},inverse:n.noop,fn:n.program(4,o,s),data:s});if(q||q===0){p+=q}p+='"><a href="#" class="feedback-prompt__link js-feedback-prompt-generic">';if(r=e.promptText){q=r.call(t,{hash:{},data:s})}else{r=(t&&t.promptText);q=typeof r===g?r.call(t,{hash:{},data:s}):r}p+=h(q)+"</a></p>";return p}function o(q,p){return"btn"}b=e["if"].call(m,(m&&m.showYesNo),{hash:{},inverse:n.program(3,a,i),fn:n.program(1,c,i),data:i});if(b||b===0){return b}else{return""}});this["DDG"]["templates"]["footer"]=Handlebars.template(function(f,o,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,q,h="function",j=this.escapeExpression,p=this,n=e.helperMissing;function c(v,u){var r="",s,t;r+='<a class="footer__card js-footer-card bg-clr--white" href="';if(t=e.url){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.url);s=typeof t===h?t.call(v,{hash:{},data:u}):t}r+=j(s)+'" data-id=';if(t=e.id){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.id);s=typeof t===h?t.call(v,{hash:{},data:u}):t}r+=j(s)+'><img class="footer__card__icon js-footer-lazysvg" data-src="/assets/icons/';if(t=e.icon){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.icon);s=typeof t===h?t.call(v,{hash:{},data:u}):t}r+=j(s)+'.svg" alt="';if(t=e.alt){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.alt);s=typeof t===h?t.call(v,{hash:{},data:u}):t}r+=j(s)+'" aria-hidden="true" loading="lazy" height="50" width="50"><h3 class="footer__card__title tx-clr--slate" title="';if(t=e.title){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.title);s=typeof t===h?t.call(v,{hash:{},data:u}):t}r+=j(s)+'">';if(t=e.title){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.title);s=typeof t===h?t.call(v,{hash:{},data:u}):t}r+=j(s)+'</h3><p class="footer__text">';if(t=e.body){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.body);s=typeof t===h?t.call(v,{hash:{},data:u}):t}r+=j(s)+"</p></a>";return r}function a(v,u){var r="",s,t;r+='<a href="';if(t=e.url){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.url);s=typeof t===h?t.call(v,{hash:{},data:u}):t}r+=j(s)+'" class="js-footer-link" data-id="';if(t=e.id){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.id);s=typeof t===h?t.call(v,{hash:{},data:u}):t}r+=j(s)+'"><img class="footer__social-icon js-footer-lazysvg" data-src="/assets/icons/footer/';if(t=e.icon){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.icon);s=typeof t===h?t.call(v,{hash:{},data:u}):t}r+=j(s)+'.svg" alt="';if(t=e.alt){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.alt);s=typeof t===h?t.call(v,{hash:{},data:u}):t}r+=j(s)+'" aria-hidden="true" loading="lazy" height="20" width="20"></a>';return r}i+='<div class="footer"><div class="footer__left"><div class="footer_cards">';b=e.each.call(o,((b=(o&&o.model)),b==null||b===false?b:b.cards),{hash:{},inverse:p.noop,fn:p.program(1,c,k),data:k});if(b||b===0){i+=b}i+='</div></div><div class="footer__right"><div class="footer__column"><h2 class="footer__title tx-clr--slate-light">';b=(g=e.lp||(o&&o.lp),q={hash:{},data:k},g?g.call(o,"SERP footer content","Stay Informed",q):n.call(o,"lp","SERP footer content","Stay Informed",q));if(b||b===0){i+=b}i+='</h2><p class="footer__text">';b=(g=e.lp||(o&&o.lp),q={hash:{},data:k},g?g.call(o,"SERP footer content","We don't track you, but others do.",q):n.call(o,"lp","SERP footer content","We don't track you, but others do.",q));if(b||b===0){i+=b}i+='</p><p class="footer__text">';b=(g=e.lp||(o&&o.lp),q={hash:{},data:k},g?g.call(o,"SERP footer content","Learn how to protect your privacy.",q):n.call(o,"lp","SERP footer content","Learn how to protect your privacy.",q));if(b||b===0){i+=b}i+='</p><div class="footer__links">';b=e.each.call(o,((b=(o&&o.model)),b==null||b===false?b:b.links),{hash:{},inverse:p.noop,fn:p.program(3,a,k),data:k});if(b||b===0){i+=b}i+="</div></div></div></div>";return i});this["DDG"]["templates"]["footer_mobile"]=Handlebars.template(function(f,o,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,r,h="function",j=this.escapeExpression,n=e.helperMissing,q=this;function c(x,v){var s="",t,u;s+='<a href="';if(u=e.url){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.url);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+'" class="js-footer-link" data-id=';if(u=e.id){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.id);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+'><img class="footer__social-icon" src="/assets/icons/footer/';if(u=e.icon){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.icon);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+'.svg" alt="';if(u=e.alt){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.alt);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+'" aria-hidden="true"></a>';return s}function a(v,u){var s,t;if(t=e.jsFooterFeedbackClassName){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.jsFooterFeedbackClassName);s=typeof t===h?t.call(v,{hash:{},data:u}):t}return j(s)}function p(t,s){return"js-footer-feedback-btn-wrap"}i+='<div class="footer--mobile"><p class="footer__text">';b=(g=e.lp||(o&&o.lp),r={hash:{},data:k},g?g.call(o,"welcome message eu search preference android","Privacy, simplified",r):n.call(o,"lp","welcome message eu search preference android","Privacy, simplified",r));if(b||b===0){i+=b}i+='&period;</p><div class="footer__links">';b=e.each.call(o,((b=(o&&o.model)),b==null||b===false?b:b.links),{hash:{},inverse:q.noop,fn:q.program(1,c,k),data:k});if(b||b===0){i+=b}i+='</div><div class="';b=e["if"].call(o,(o&&o.jsFooterFeedbackClassName),{hash:{},inverse:q.program(5,p,k),fn:q.program(3,a,k),data:k});if(b||b===0){i+=b}i+='"></div></div>';return i});this["DDG"]["templates"]["forecast_detail"]=Handlebars.template(function(e,q,p,i,x){this.compilerInfo=[4,">= 1.0.0"];p=this.merge(p,e.helpers);x=x||{};var g,b="function",a=this.escapeExpression,n=this,o=p.helperMissing;function m(D,C){var y="",A,B,z;y+='<div class="module__top js-forecast-module-detail-top"><div class="module__place text--primary">';if(B=p.location){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.location);A=typeof B===b?B.call(D,{hash:{},data:C}):B}y+=a(A)+'</div><div class="module__warnings"><div class="module__summary ';A=p["if"].call(D,(D&&D.isIE11),{hash:{},inverse:n.noop,fn:n.program(2,k,C),data:C});if(A||A===0){y+=A}y+=' tx-clr--slate-light">';if(B=p.dayLong){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.dayLong);A=typeof B===b?B.call(D,{hash:{},data:C}):B}y+=a(A)+" ";A=p.unless.call(D,(D&&D.selected),{hash:{},inverse:n.noop,fn:n.program(4,j,C),data:C});if(A||A===0){y+=A}y+=" &bull; ";if(B=p.summary){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.summary);A=typeof B===b?B.call(D,{hash:{},data:C}):B}y+=a(A)+"</div>";A=p["if"].call(D,(D&&D.weatherAlert),{hash:{},inverse:n.program(8,f,C),fn:n.program(6,h,C),data:C});if(A||A===0){y+=A}y+='</div><div class="module__detail module__detail--left"><img class="module__forecast-icon ';A=p["if"].call(D,(D&&D.isIE11),{hash:{},inverse:n.noop,fn:n.program(11,v,C),data:C});if(A||A===0){y+=A}y+='" src="';if(B=p.icon){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.icon);A=typeof B===b?B.call(D,{hash:{},data:C}):B}y+=a(A)+'" aria-hidden="true"><div class="module__temperature"><div class="module__temperature-value ';A=p["if"].call(D,(D&&D.isIE11),{hash:{},inverse:n.noop,fn:n.program(13,u,C),data:C});if(A||A===0){y+=A}y+=' text--primary">';if(B=p.temperature){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.temperature);A=typeof B===b?B.call(D,{hash:{},data:C}):B}y+=a(A)+'&deg;</div><div class="module__temperature-units ';A=p["if"].call(D,(D&&D.isIE11),{hash:{},inverse:n.noop,fn:n.program(15,t,C),data:C});if(A||A===0){y+=A}y+='"><a href="#" data-unit="f" class="module__temperature-unit js-forecast-module-detail-unit ';A=p.unless.call(D,(D&&D.isMetric),{hash:{},inverse:n.noop,fn:n.program(17,s,C),data:C});if(A||A===0){y+=A}y+='">F</a><span class="module__temperature-unit-separator">&#47;</span>    <a href="#" data-unit="c" class="module__temperature-unit js-forecast-module-detail-unit ';A=p["if"].call(D,(D&&D.isMetric),{hash:{},inverse:n.noop,fn:n.program(17,s,C),data:C});if(A||A===0){y+=A}y+='">C</a></div></div></div><div class="module__detail module__detail--right"><div class="module__humidity">';A=(B=p.lp||(D&&D.lp),z={hash:{},data:C},B?B.call(D,"forecast","Humidity",z):o.call(D,"lp","forecast","Humidity",z));if(A||A===0){y+=A}y+=": ";if(B=p.humidity){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.humidity);A=typeof B===b?B.call(D,{hash:{},data:C}):B}y+=a(A)+'&#37;</div><div class="module__winds">';A=(B=p.lp||(D&&D.lp),z={hash:{},data:C},B?B.call(D,"forecast","Wind",z):o.call(D,"lp","forecast","Wind",z));if(A||A===0){y+=A}y+=': <span class="module__winds module__winds--val">';if(B=p.wind){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.wind);A=typeof B===b?B.call(D,{hash:{},data:C}):B}y+=a(A)+'</span></div><div><a href="';if(B=p.moreLink){A=B.call(D,{hash:{},data:C})}else{B=(D&&D.moreLink);A=typeof B===b?B.call(D,{hash:{},data:C}):B}y+=a(A)+'" class="summary-more js-forecast-module-detail-more tx-clr--blue-dark">';A=(B=p.lp||(D&&D.lp),z={hash:{},data:C},B?B.call(D,"expand_text","Show More",z):o.call(D,"lp","expand_text","Show More",z));if(A||A===0){y+=A}y+='</a></div></div></div><div class="module__bottom js-forecast-module-detail-bottom"><div class="module__detail module__detail--hours js-forecast-module-detail-hours" aria-hidden="true"></div><div class="module__detail--hours__labels module__detail--hours__labels--desktop">';A=p.each.call(D,((A=((A=(D&&D.hours)),A==null||A===false?A:A.data)),A==null||A===false?A:A.labels),{hash:{},inverse:n.noop,fn:n.program(19,r,C),data:C});if(A||A===0){y+=A}y+='</div><div class="module__detail--hours__labels module__detail--hours__labels--mobile">';A=p.each.call(D,((A=(D&&D.hours)),A==null||A===false?A:A.mobileLabels),{hash:{},inverse:n.noop,fn:n.program(19,r,C),data:C});if(A||A===0){y+=A}y+="</div></div>";return y}function k(z,y){return"module__summary--ie11"}function j(B,A){var y="",z;y+=" "+a(((z=((z=(B&&B.hours)),z==null||z===false?z:z.firstHour)),typeof z===b?z.apply(B):z))+" ";return y}function h(B,A){var y="",z;y+='<a href="'+a(((z=((z=(B&&B.weatherAlert)),z==null||z===false?z:z.uri)),typeof z===b?z.apply(B):z))+'" class="module__weather-warning--red module__weather-warning"> <span class="ddgsi ddgsi-t-right"></span> '+a(((z=((z=(B&&B.weatherAlert)),z==null||z===false?z:z.title)),typeof z===b?z.apply(B):z))+"</a>";return y}function f(A,z){var y;y=p["if"].call(A,(A&&A.warning),{hash:{},inverse:n.noop,fn:n.program(9,c,z),data:z});if(y||y===0){return y}else{return""}}function c(B,A){var y="",z;y+='<a href="'+a(((z=((z=(B&&B.warning)),z==null||z===false?z:z.uri)),typeof z===b?z.apply(B):z))+'" class="module__weather-warning"> <span class="ddgsi ddgsi-t-right"></span> '+a(((z=((z=(B&&B.warning)),z==null||z===false?z:z.title)),typeof z===b?z.apply(B):z))+"</a>";return y}function v(z,y){return"module__forecast-icon--ie11"}function u(z,y){return"module__temperature-value--ie11"}function t(z,y){return"module__temperature-units--ie11"}function s(z,y){return"module__temperature-unit--on text--primary"}function r(B,A){var y="",z;y+='<div data-item-index="'+a(((z=(A==null||A===false?A:A.index)),typeof z===b?z.apply(B):z))+'" class="label-'+a(((z=(A==null||A===false?A:A.index)),typeof z===b?z.apply(B):z))+' module__detail--hours__labels__item"><div class="module__detail__temp-label text-primary">'+a(((z=(B&&B[0])),typeof z===b?z.apply(B):z))+'</div><div class="module__detail__hour-label tx-clr--slate-light">'+a(((z=(B&&B[1])),typeof z===b?z.apply(B):z))+"</div></div>";return y}g=p["with"].call(q,(q&&q.items),{hash:{},inverse:n.noop,fn:n.program(1,m,x),data:x});if(g||g===0){return g}else{return""}});this["DDG"]["templates"]["forecast_module"]=Handlebars.template(function(g,n,f,k,j){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,g.helpers);j=j||{};var b,h="function",i=this.escapeExpression,p=this,m=f.helperMissing;function e(v,u){var q="",s,t,r;q+='<div class="forecast-wrapper"><div class="module module--forecast module__container"><div class="js-forecast-module-detail"></div><div class="module__items align-days">';s=f.each.call(v,(v&&v.days),{hash:{},inverse:p.noop,fn:p.program(2,c,u),data:u});if(s||s===0){q+=s}q+='</div></div><div class="module__more-at-and-feedback js-forecast-module-detail-moreatcontainer"><p class="module__more-at ';s=f.unless.call(v,(v&&v.isEnglishDevice),{hash:{},inverse:p.noop,fn:p.program(5,o,u),data:u});if(s||s===0){q+=s}q+='">';s=(t=f.moreAt||(v&&v.moreAt),r={hash:{hideMoreAtText:(1),className:("zci__more-at tx-clr--grey-light js-forecast-module-detail-moreat")},data:u},t?t.call(v,(v&&v.moreAtUrl),"Dark Sky",r):m.call(v,"moreAt",(v&&v.moreAtUrl),"Dark Sky",r));if(s||s===0){q+=s}q+='</p></div><div class="clear"></div></div>';return q}function c(u,t){var q="",r,s;q+='<div data-item-index="';if(s=f.index){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.index);r=typeof s===h?s.call(u,{hash:{},data:t}):s}q+=i(r)+'" class="module__items-item js-forecast-module-item ';r=f["if"].call(u,(u&&u.selected),{hash:{},inverse:p.noop,fn:p.program(3,a,t),data:t});if(r||r===0){q+=r}q+=' align-days__item"><div class="module__items-day text-primary">';if(s=f.day){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.day);r=typeof s===h?s.call(u,{hash:{},data:t}):s}q+=i(r)+'</div><img class="module__items-icon" src="';if(s=f.icon){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.icon);r=typeof s===h?s.call(u,{hash:{},data:t}):s}q+=i(r)+'" alt="';if(s=f.summary){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.summary);r=typeof s===h?s.call(u,{hash:{},data:t}):s}q+=i(r)+'"><div class="module__items-unit module__items-unit--on text-primary">';if(s=f.high){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.high);r=typeof s===h?s.call(u,{hash:{},data:t}):s}q+=i(r)+'&deg;</div><div class="module__items-unit module__items-unit--low tx-clr--slate-light">';if(s=f.low){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.low);r=typeof s===h?s.call(u,{hash:{},data:t}):s}q+=i(r)+"&deg;</div></div>";return q}function a(r,q){return"module__items-item--selected"}function o(r,q){return"module__more-at--not-en"}b=f["with"].call(n,(n&&n.items),{hash:{},inverse:p.noop,fn:p.program(1,e,j),data:j});if(b||b===0){return b}else{return""}});this["DDG"]["templates"]["images_module"]=Handlebars.template(function(c,m,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,n,k=b.helperMissing,f="function",h=this.escapeExpression;g+='<div class="module module--images"><div class="module__header module__header--link js-images-show-more">';a=(e=b.l||(m&&m.l),n={hash:{},data:i},e?e.call(m,"Images",n):k.call(m,"l","Images",n));if(a||a===0){g+=a}g+=" ";a=(e=b.l||(m&&m.l),n={hash:{},data:i},e?e.call(m,"for",n):k.call(m,"l","for",n));if(a||a===0){g+=a}g+=" <b>";if(e=b.query){a=e.call(m,{hash:{},data:i})}else{e=(m&&m.query);a=typeof e===f?e.call(m,{hash:{},data:i}):e}g+=h(a)+'</b></div><div class="module--images__thumbnails js-images-thumbnails"></div><a class="js-images-show-more module__footer hide--mob" href="#">';a=(e=b.l||(m&&m.l),n={hash:{},data:i},e?e.call(m,"More Images",n):k.call(m,"l","More Images",n));if(a||a===0){g+=a}g+=" ";a=(e=b.l||(m&&m.l),n={hash:{},data:i},e?e.call(m,"for",n):k.call(m,"l","for",n));if(a||a===0){g+=a}g+=" <b>";if(e=b.query){a=e.call(m,{hash:{},data:i})}else{e=(m&&m.query);a=typeof e===f?e.call(m,{hash:{},data:i}):e}g+=h(a)+'</b></a><div class="js-images-show-more module__toggle tx--bold show--mob">';a=(e=b.l||(m&&m.l),n={hash:{},data:i},e?e.call(m,"More Images",n):k.call(m,"l","More Images",n));if(a||a===0){g+=a}g+="</div></div>";return g});this["DDG"]["templates"]["images_module_thumbnails"]=Handlebars.template(function(f,k,e,j,i){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);i=i||{};var a,m=this,g="function",h=this.escapeExpression;function c(r,q){var n="",o,p;n+='<div class="module--images__thumbnails__tile ';o=e["if"].call(r,(r&&r.lastOfRow),{hash:{},inverse:m.noop,fn:m.program(2,b,q),data:q});if(o||o===0){n+=o}n+=' js-images-link" style="height:';if(p=e.divHeight){o=p.call(r,{hash:{},data:q})}else{p=(r&&r.divHeight);o=typeof p===g?p.call(r,{hash:{},data:q}):p}n+=h(o)+"px;width:";if(p=e.divWidth){o=p.call(r,{hash:{},data:q})}else{p=(r&&r.divWidth);o=typeof p===g?p.call(r,{hash:{},data:q}):p}n+=h(o)+'px;" data-id="';if(p=e.id){o=p.call(r,{hash:{},data:q})}else{p=(r&&r.id);o=typeof p===g?p.call(r,{hash:{},data:q}):p}n+=h(o)+'"><a href="/?q=';if(p=e.rq){o=p.call(r,{hash:{},data:q})}else{p=(r&&r.rq);o=typeof p===g?p.call(r,{hash:{},data:q}):p}if(o||o===0){n+=o}n+="&iax=images&ia=images&iai=";if(p=e.id){o=p.call(r,{hash:{},data:q})}else{p=(r&&r.id);o=typeof p===g?p.call(r,{hash:{},data:q}):p}n+=h(o);if(p=e.kurl){o=p.call(r,{hash:{},data:q})}else{p=(r&&r.kurl);o=typeof p===g?p.call(r,{hash:{},data:q}):p}n+=h(o)+'" class="module--images__thumbnails__link"><img src="';if(p=e.moduleThumbnail){o=p.call(r,{hash:{},data:q})}else{p=(r&&r.moduleThumbnail);o=typeof p===g?p.call(r,{hash:{},data:q}):p}n+=h(o)+'" alt="';if(p=e.title){o=p.call(r,{hash:{},data:q})}else{p=(r&&r.title);o=typeof p===g?p.call(r,{hash:{},data:q}):p}n+=h(o)+'" width="';if(p=e.scaledWidth){o=p.call(r,{hash:{},data:q})}else{p=(r&&r.scaledWidth);o=typeof p===g?p.call(r,{hash:{},data:q}):p}n+=h(o)+'" height="';if(p=e.scaledHeight){o=p.call(r,{hash:{},data:q})}else{p=(r&&r.scaledHeight);o=typeof p===g?p.call(r,{hash:{},data:q}):p}n+=h(o)+'" class="module--images__thumbnails__image"></a></div>';return n}function b(o,n){return"is-last"}a=e.each.call(k,k,{hash:{},inverse:m.noop,fn:m.program(1,c,i),data:i});if(a||a===0){return a}else{return""}});this["DDG"]["templates"]["keep_extension_alert"]=Handlebars.template(function(f,j,e,i,h){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);h=h||{};var g="",b,k=this;function c(n,m){return"keep-extension-alert--centered"}function a(n,m){return"keep-extension-alert--connector-offseted"}g+='<div><div class="keep-extension-alert__blur"></div><aside class="keep-extension-alert ';b=e["if"].call(j,(j&&j.isNativeDialogueCentered),{hash:{},inverse:k.noop,fn:k.program(1,c,h),data:h});if(b||b===0){g+=b}g+="  ";b=e["if"].call(j,(j&&j.isConnectorOffsetted),{hash:{},inverse:k.noop,fn:k.program(3,a,h),data:h});if(b||b===0){g+=b}g+='"}><img src="/assets/common/dax-logo.svg" alt="DuckDuckGo Dax Logo"><header>Hold on! Changing it back will disable the DuckDuckGo extension and you\'ll lose our privacy protection.</header><p>Choose <strong>keep it</strong> to continue protecting your privacy.</p></aside></div>';return g});this["DDG"]["templates"]["keep_extension_modal"]=Handlebars.template(function(f,j,e,i,h){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);h=h||{};var g="",b,k=this;function c(n,m){return'<p>At the top right, click&nbsp;⋮&nbsp;➝&nbsp;More tools&nbsp;➝&nbsp;Extensions</p><img src="/assets/add-to-browser/install-chrome/windows-extension-instructions.svg" alt="Screenshot of Extension menu entry on Windows" width="484" height="314"/>'}function a(n,m){return'<p>Go to Extensions from Window menu</p><img src="/assets/add-to-browser/install-chrome/osx-extension-instructions.svg" alt="Screenshot of Extension menu entry on Mac OS" width="438" height="263"/>'}g+="<aside class='keep-extension-modal'><button class=\"ddgsi js-keep-extension-modal-close\" aria-label=\"Close\">×</button><div class='keep-extension-modal__wrapper'>        <div class='keep-extension-modal__body'><header><h2>Sorry to see you go…</h2><p>You have chosen to disable DuckDuckGo Privacy Essentials.</p><p>You can always enable it again.</p>        </header><ol><li>";b=e["if"].call(j,(j&&j.isWindows),{hash:{},inverse:k.program(3,a,h),fn:k.program(1,c,h),data:h});if(b||b===0){g+=b}g+='</li><li><p>Turn on the toggle for DuckDuckGo Privacy Essentials</p><div><img src="/assets/add-to-browser/install-chrome/toggle-extension.svg" alt="Screenshot of the extension management UI with an emphasis on activating the extension through a toggle control" width="814" height="464"/></div></li>        </ol><button class="js-keep-extension-modal-close">Go Back</button>            </div></div></aside>';return g});this["DDG"]["templates"]["manual_user_location_modal"]=Handlebars.template(function(e,k,c,i,h){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);h=h||{};var g="",a,f,n,m=this,j=c.helperMissing;function b(p,o){return"map-control__btn--darkmap "}g+='<div class="modal modal--popover modal--popover--dark manual-user-location-modal js-popover"><div class="modal__overlay manual-user-location-modal__overlay js-modal-close"></div><div class="modal__wrap"><div class="modal__box manual-user-location-modal__content"><div class="manual-user-location-modal__content-wrapper"><div class="manual-user-location-modal__map js-manual-user-location-map"><div class="map-controls map-controls--topright js-manual-user-location-map-controls"><div class="map-control map-control__close"><button class="js-manual-user-location-close btn btn--mapbox ddgsi map-control__btn ';a=c["if"].call(k,(k&&k.isDarkMap),{hash:{},inverse:m.noop,fn:m.program(1,b,h),data:h});if(a||a===0){g+=a}g+=' js-modal-close" type="button" aria-label="';a=(f=c.l||(k&&k.l),n={hash:{},data:h},f?f.call(k,"Click to collapse",n):j.call(k,"l","Click to collapse",n));if(a||a===0){g+=a}g+='" title="';a=(f=c.l||(k&&k.l),n={hash:{},data:h},f?f.call(k,"Click to collapse",n):j.call(k,"l","Click to collapse",n));if(a||a===0){g+=a}g+='">&#215;</button></div></div></div><div class="manual-user-location-modal__tools"><div class="manual-user-location-modal__msg">';a=(f=c.lp||(k&&k.lp),n={hash:{},data:h},f?f.call(k,"precise_user_location","Move map to set current location",n):j.call(k,"lp","precise_user_location","Move map to set current location",n));if(a||a===0){g+=a}g+='</div><div class="btn btn--primary js-manual-user-location-done-btn is-disabled">';a=(f=c.lp||(k&&k.lp),n={hash:{},data:h},f?f.call(k,"precise_user_location","Done",n):j.call(k,"lp","precise_user_location","Done",n));if(a||a===0){g+=a}g+="</div></div></div></div></div></div>";return g});this["DDG"]["templates"]["map_example_searches"]=Handlebars.template(function(e,n,c,k,j){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);j=j||{};var h="",a,f,p,g="function",i=this.escapeExpression,m=c.helperMissing,o=this;function b(u,t){var q="",r,s;q+='<li class="vertical--map__search-examples__item"><button class="vertical--map__search-examples__button module__button js-example-search-button" data-category="';if(s=c.query){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.query);r=typeof s===g?s.call(u,{hash:{},data:t}):s}q+=i(r)+'"><img src="/assets/maps/';if(s=c.iconUrl){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.iconUrl);r=typeof s===g?s.call(u,{hash:{},data:t}):s}q+=i(r)+'" class="vertical--map__search-examples__icon" />';if(s=c.query){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.query);r=typeof s===g?s.call(u,{hash:{},data:t}):s}q+=i(r)+"</button></li>";return q}h+='<div class="vertical--map__search-examples"><h4 class="vertical--map__search-examples__title">';a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"map","Search this area for...",p):m.call(n,"lp","map","Search this area for...",p));if(a||a===0){h+=a}h+='</h4><ul class="vertical--map__search-examples__list">';a=c.each.call(n,(n&&n.categories),{hash:{},inverse:o.noop,fn:o.program(1,b,j),data:j});if(a||a===0){h+=a}h+='</ul></div><div class="vertical--map__search-web"><a href="';if(f=c.webSearchUrl){a=f.call(n,{hash:{},data:j})}else{f=(n&&n.webSearchUrl);a=typeof f===g?f.call(n,{hash:{},data:j}):f}h+=i(a)+'" class="module__link">';a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"noresults","Show Web Results",p):m.call(n,"lp","noresults","Show Web Results",p));if(a||a===0){h+=a}h+='<span class="ddgsi ddgsi-next"></span></a></div>';return h});this["DDG"]["templates"]["map_searchbar"]=Handlebars.template(function(e,p,n,i,t){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);t=t||{};var o="",f,m=this,b="function",a=this.escapeExpression;function k(v,u){return" is-iphone"}function j(v,u){return" hide-search-button"}function h(v,u){return"directions"}function g(v,u){return"maps"}function c(v,u){return"<div"}function s(v,u){return"<form"}function r(v,u){return"</div>"}function q(v,u){return"</form>"}o+='<div class="map-searchbar vertical--map__sidebar__header__search  ';f=n["if"].call(p,(p&&p.isIPhone),{hash:{},inverse:m.noop,fn:m.program(1,k,t),data:t});if(f||f===0){o+=f}o+=" ";f=n["if"].call(p,((f=(p&&p.model)),f==null||f===false?f:f.hideSearchButton),{hash:{},inverse:m.noop,fn:m.program(3,j,t),data:t});if(f||f===0){o+=f}o+=" map-searchbar--";f=n["if"].call(p,(p&&p.directionsModel),{hash:{},inverse:m.program(7,g,t),fn:m.program(5,h,t),data:t});if(f||f===0){o+=f}o+='">';f=n["if"].call(p,(p&&p.directionsModel),{hash:{},inverse:m.program(11,s,t),fn:m.program(9,c,t),data:t});if(f||f===0){o+=f}o+=' id="search_form" class="js-vertical-map-search search--adv search--header has-text"><input type="text" class="js-vertical-map-search-input search__input--adv search__input--maps" value="" tabindex="1" placeholder="'+a(((f=((f=(p&&p.model)),f==null||f===false?f:f.searchFormPlaceholder)),typeof f===b?f.apply(p):f))+'"><input class="search__button js-vertical-map-search-button" tabindex="2" value="S" type="submit"><input class="search__clear empty js-vertical-map-search-clear" tabindex="3" value="X" type="button">';f=n["if"].call(p,(p&&p.directionsModel),{hash:{},inverse:m.program(15,q,t),fn:m.program(13,r,t),data:t});if(f||f===0){o+=f}o+="</div>";return o});this["DDG"]["templates"]["map_sidebar"]=Handlebars.template(function(e,f,b,a,c){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,e.helpers);c=c||{};return'<div class="js-vertical-map-sidebar-header-wrapper"><div class="vertical--map__type-container js-vertical-map-type-container"></div><div class="vertical--map__sidebar__header"><div class="js-vertical-map-content vertical--map__sidebar__header__content"><div class="vertical--map__sidebar__header__close-btn ddgsi ddgsi-close-bold js-vertical-map-close-directions"></div><a href="#" class="vertical--map__sidebar__header__link vertical--map__sidebar__header__link--back js-vertical-map-back"><span class="vertical--map__sidebar__header__link__icon-wrap"><span class="vertical--map__sidebar__header__link__icon vertical--map__sidebar__header__link__icon--back"></span></span></a></div></div></div>'});this["DDG"]["templates"]["map_sidebar_footer"]=Handlebars.template(function(e,k,c,j,i){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);i=i||{};var g="",a,f="function",h=this.escapeExpression,m=this;function b(o,n){return"map-sidebar-footer--offsetted"}g+='<div class="map-sidebar-footer map-sidebar-footer--'+h(((a=((a=(k&&k.model)),a==null||a===false?a:a.sidebarLayout)),typeof a===f?a.apply(k):a))+" ";a=c["if"].call(k,(k&&k.offsetted),{hash:{},inverse:m.noop,fn:m.program(1,b,i),data:i});if(a||a===0){g+=a}g+='"></div>';return g});this["DDG"]["templates"]["map_sidebar_mobile"]=Handlebars.template(function(e,f,b,a,c){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,e.helpers);c=c||{};return'<div class=\'js-vertical-map-sidebar-mobile\'><div class="js-vertical-map-sidebar-mobile-header vertical--map__sidebar__header--mobile"><div class="js-vertical-map-sidebar-mobile-header-content vertical--map__sidebar__header__content"><div class="vertical--map__sidebar__header__close-btn ddgsi ddgsi-close-bold js-vertical-map-sidebar-mobile-close-directions"></div><a href="#" class="vertical--map__sidebar__header__link vertical--map__sidebar__header__link--back js-vertical-map-sidebar-mobile-back"><span class="vertical--map__sidebar__header__link__icon-wrap"><span class="vertical--map__sidebar__header__link__icon vertical--map__sidebar__header__link__icon--back"></span></span></a><!-- Searchbar gets appended here --></div></div><div class="vertical--map__mobile-toggle js-vertical-map-sidebar-mobile-toggle"><span class="vertical--map__mobile-toggle-icon vertical--map__mobile-toggle-icon--map js-vertical-map-sidebar-mobile-toggle-icon"></span><span class="vertical--map__mobile-toggle-text js-vertical-map-sidebar-mobile-toggle-text">Show Map</span></div></div>'});this["DDG"]["templates"]["map_type_select"]=Handlebars.template(function(f,j,e,i,h){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);h=h||{};var g="",b,k=this;function c(n,m){return"map-type-select--small"}function a(n,m){return'<span class="map-type-select__label js-map-type-select-label">Satellite</span>'}g+='<button class="map-type-select ';b=e["if"].call(j,(j&&j.small),{hash:{},inverse:k.noop,fn:k.program(1,c,h),data:h});if(b||b===0){g+=b}g+=' map-type-select--satellite js-map-type-select-button">';b=e.unless.call(j,(j&&j.small),{hash:{},inverse:k.noop,fn:k.program(3,a,h),data:h});if(b||b===0){g+=b}g+="</button>";return g});this["DDG"]["templates"]["mapkit_map"]=Handlebars.template(function(f,k,e,i,h){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);h=h||{};var g="",b,j=e.helperMissing,n=this;function c(p,o){return"is-loading"}function a(p,o){return"mapkit-map--frozen"}function m(t,s){var o="",q,r,p;o+='<div class="mapkit-map__click-overlay js-mapkit-map-click-overlay"></div><span class="label mapkit-map__open-cta">';q=(r=e.l||(t&&t.l),p={hash:{},data:s},r?r.call(t,"Open Map",p):j.call(t,"l","Open Map",p));if(q||q===0){o+=q}o+="</span>";return o}g+='<div class="mapkit-map ';b=e.unless.call(k,((b=(k&&k.model)),b==null||b===false?b:b.canShowMap),{hash:{},inverse:n.noop,fn:n.program(1,c,h),data:h});if(b||b===0){g+=b}g+=" is-mapkit-map ";b=e["if"].call(k,(k&&k.isFrozen),{hash:{},inverse:n.noop,fn:n.program(3,a,h),data:h});if(b||b===0){g+=b}g+='">';b=e["if"].call(k,(k&&k.isFrozen),{hash:{},inverse:n.noop,fn:n.program(5,m,h),data:h});if(b||b===0){g+=b}g+="</div>";return g});this["DDG"]["templates"]["mapkit_marker"]=Handlebars.template(function(e,m,c,k,j){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);j=j||{};var h="",a,f,g="function",i=this.escapeExpression,n=this;function b(s,r){var o="",p,q;o+='<span class="mgl-marker__num">';if(q=c.number){p=q.call(s,{hash:{},data:r})}else{q=(s&&s.number);p=typeof q===g?q.call(s,{hash:{},data:r}):q}o+=i(p)+"</span>";return o}h+='<div class="mgl-marker mgl-marker--';if(f=c.markerType){a=f.call(m,{hash:{},data:j})}else{f=(m&&m.markerType);a=typeof f===g?f.call(m,{hash:{},data:j}):f}h+=i(a)+'">';a=c["if"].call(m,(m&&m.number),{hash:{},inverse:n.noop,fn:n.program(1,b,j),data:j});if(a||a===0){h+=a}h+="</div>";return h});this["DDG"]["templates"]["mapkit_position_picker"]=Handlebars.template(function(e,f,b,a,c){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,e.helpers);c=c||{};return'<div class="mapkit-map mapkit-position-picker js-mapkit-position-picker"><div class="mapkit-position-picker__marker mgl-marker js-mapkit-position-picker-marker"></div><div class="mapbox-gl__map mapkit-position-picker__map is-loading js-mapkit-position-picker-map"></div></div>'});this["DDG"]["templates"]["mapkit_static_map"]=Handlebars.template(function(f,o,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,q,n=e.helperMissing,p=this,j=this.escapeExpression,h="function";function c(s,r){return"has-cta"}function a(x,v){var r="",t,u,s;r+='<span class="label mapkit-static__cta">';t=(u=e.l||(x&&x.l),s={hash:{},data:v},u?u.call(x,"Open Map",s):n.call(x,"l","Open Map",s));if(t||t===0){r+=t}r+="</span>";return r}i+='<div class="mapkit-static ';b=e["if"].call(o,(o&&o.showCTA),{hash:{},inverse:p.noop,fn:p.program(1,c,k),data:k});if(b||b===0){i+=b}i+='"><div class="mapkit-static__map" style="background-image:url(\''+j((g=e.imageProxy||(o&&o.imageProxy),q={hash:{},data:k},g?g.call(o,(o&&o.url),q):n.call(o,"imageProxy",(o&&o.url),q)))+'\');"><img class="mapkit-static__img" width="';if(g=e.width){b=g.call(o,{hash:{},data:k})}else{g=(o&&o.width);b=typeof g===h?g.call(o,{hash:{},data:k}):g}i+=j(b)+'" height="';if(g=e.height){b=g.call(o,{hash:{},data:k})}else{g=(o&&o.height);b=typeof g===h?g.call(o,{hash:{},data:k}):g}i+=j(b)+'" src="'+j((g=e.imageProxy||(o&&o.imageProxy),q={hash:{},data:k},g?g.call(o,(o&&o.url),q):n.call(o,"imageProxy",(o&&o.url),q)))+'" /></div>';b=e["if"].call(o,(o&&o.showCTA),{hash:{},inverse:p.noop,fn:p.program(3,a,k),data:k});if(b||b===0){i+=b}i+="</div>";return i});this["DDG"]["templates"]["mapkit_user_location"]=Handlebars.template(function(e,f,b,a,c){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,e.helpers);c=c||{};return'<div class="mgl-user-loc"></div>'});this["DDG"]["templates"]["mapkit_user_location_control"]=Handlebars.template(function(c,j,b,h,g){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);g=g||{};var f="",a,e,k,i=b.helperMissing;f+='<div class="map-control"><button class="btn ddgsi map-control__btn"><span class="map-control__icon"></span>';a=(e=b.include||(j&&j.include),k={hash:{className:("map-control__spinner")},data:g},e?e.call(j,"spinner",k):i.call(j,"include","spinner",k));if(a||a===0){f+=a}f+="</button></div>";return f});this["DDG"]["templates"]["maps_module"]=Handlebars.template(function(c,k,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,f="function",h=this.escapeExpression;g+='<div class="module module--map js-module--';if(e=b.id){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.id);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+'"><div class="module__map js-maps-module-map"><div class="map-controls map-controls--topright js-maps-module-control-topright"></div></div><div class="module__address-detail js-maps-module-detailview"></div></div>';return g});this["DDG"]["templates"]["module_container"]=Handlebars.template(function(c,k,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,f="function",h=this.escapeExpression;g+='<div id="m';if(e=b.slot){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.slot);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+"-";if(e=b.count){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.count);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+'" class="module-slot"></div>';return g});this["DDG"]["templates"]["module_image_header"]=Handlebars.template(function(j,z,x,p,G){this.compilerInfo=[4,">= 1.0.0"];x=this.merge(x,j.helpers);G=G||{};var y="",k,c="function",b=this.escapeExpression,t=this,v=x.helperMissing;function s(I,H){return"module__header--with-image"}function r(M,L){var H="",J,K,I;J=x["if"].call(M,(M&&M.isMapExpanded),{hash:{},inverse:t.program(11,F,L),fn:t.program(4,q,L),data:L});if(J||J===0){H+=J}H+='<div class="module__header__image module__header__image--full js-place-header-map-link"><div class="image-tiles"><div class="image-tiles__col">';J=(K=x.include||(M&&M.include),I={hash:{className:("module__header__image--big"),image:(((J=(M&&M.images)),J==null||J===false?J:J[0]))},data:L},K?K.call(M,"module_image_header_item",I):v.call(M,"include","module_image_header_item",I));if(J||J===0){H+=J}H+="</div>";J=x["if"].call(M,((J=(M&&M.layout)),J==null||J===false?J:J.layout_1),{hash:{},inverse:t.program(16,C,L),fn:t.program(13,E,L),data:L});if(J||J===0){H+=J}H+="</div>";J=x.unless.call(M,((J=(M&&M.layout)),J==null||J===false?J:J.layout_1),{hash:{},inverse:t.noop,fn:t.program(29,a,L),data:L});if(J||J===0){H+=J}H+='</div><div class="module__header__shadow"></div>';return H}function q(K,J){var H="",I;H+='<a class="module__header__image__link" href="';I=x["if"].call(K,(K&&K.imagesModel),{hash:{},inverse:t.program(7,n,J),fn:t.program(5,o,J),data:J});if(I||I===0){H+=I}H+='" ';I=x.unless.call(K,(K&&K.hideTitle),{hash:{},inverse:t.noop,fn:t.program(9,i,J),data:J});if(I||I===0){H+=I}H+=' target="_blank" rel="noopener"</a>';return H}function o(K,J){var H,I;if(I=x.imageIAURL){H=I.call(K,{hash:{},data:J})}else{I=(K&&K.imageIAURL);H=typeof I===c?I.call(K,{hash:{},data:J}):I}return b(H)}function n(K,J){var H,I;if(I=x.imageURL){H=I.call(K,{hash:{},data:J})}else{I=(K&&K.imageURL);H=typeof I===c?I.call(K,{hash:{},data:J}):I}return b(H)}function i(L,K){var H="",I,J;H+='title="';if(J=x.morePhotosText){I=J.call(L,{hash:{},data:K})}else{J=(L&&L.morePhotosText);I=typeof J===c?J.call(L,{hash:{},data:K}):J}H+=b(I)+'"';return H}function F(L,K){var H="",I,J;H+='<a class="module__header__image__link" href="';if(J=x.imageURL){I=J.call(L,{hash:{},data:K})}else{J=(L&&L.imageURL);I=typeof J===c?J.call(L,{hash:{},data:K}):J}H+=b(I)+'" title="';if(J=x.morePhotosText){I=J.call(L,{hash:{},data:K})}else{J=(L&&L.morePhotosText);I=typeof J===c?J.call(L,{hash:{},data:K}):J}H+=b(I)+'"</a>';return H}function E(J,I){var H;H=x.unless.call(J,(J&&J.isMapExpanded),{hash:{},inverse:t.noop,fn:t.program(14,D,I),data:I});if(H||H===0){return H}else{return""}}function D(M,L){var H="",J,K,I;H+='<div class="image-tiles__col--blur">';J=(K=x.include||(M&&M.include),I={hash:{image:(((J=(M&&M.images)),J==null||J===false?J:J[0])),className:("module__header__image--big module__header__image--blur")},data:L},K?K.call(M,"module_image_header_item",I):v.call(M,"include","module_image_header_item",I));if(J||J===0){H+=J}H+='<span class="module__header__image__no-more">';J=(K=x.l||(M&&M.l),I={hash:{},data:L},K?K.call(M,"No More Photos",I):v.call(M,"l","No More Photos",I));if(J||J===0){H+=J}H+="</span></div>";return H}function C(J,I){var H;H=x["if"].call(J,((H=(J&&J.layout)),H==null||H===false?H:H.layout_4),{hash:{},inverse:t.program(24,g,I),fn:t.program(17,B,I),data:I});if(H||H===0){return H}else{return""}}function B(K,J){var H="",I;H+='<div class="image-tiles__col--wrap"><div class="image-tiles__col__cell">';I=x["if"].call(K,((I=((I=(K&&K.images)),I==null||I===false?I:I[1])),I==null||I===false?I:I.url),{hash:{},inverse:t.noop,fn:t.program(18,A,J),data:J});if(I||I===0){H+=I}H+='</div><div class="image-tiles__col__cell">';I=x["if"].call(K,((I=((I=(K&&K.images)),I==null||I===false?I:I[2])),I==null||I===false?I:I.url),{hash:{},inverse:t.noop,fn:t.program(20,m,J),data:J});if(I||I===0){H+=I}H+='</div></div><div class="image-tiles__col">';I=x["if"].call(K,((I=((I=(K&&K.images)),I==null||I===false?I:I[3])),I==null||I===false?I:I.url),{hash:{},inverse:t.noop,fn:t.program(22,h,J),data:J});if(I||I===0){H+=I}H+="</div>";return H}function A(L,K){var I,J,H;I=(J=x.include||(L&&L.include),H={hash:{image:(((I=(L&&L.images)),I==null||I===false?I:I[1])),className:("module__header__image--small")},data:K},J?J.call(L,"module_image_header_item",H):v.call(L,"include","module_image_header_item",H));if(I||I===0){return I}else{return""}}function m(L,K){var I,J,H;I=(J=x.include||(L&&L.include),H={hash:{image:(((I=(L&&L.images)),I==null||I===false?I:I[2])),className:("module__header__image--small")},data:K},J?J.call(L,"module_image_header_item",H):v.call(L,"include","module_image_header_item",H));if(I||I===0){return I}else{return""}}function h(L,K){var I,J,H;I=(J=x.include||(L&&L.include),H={hash:{image:(((I=(L&&L.images)),I==null||I===false?I:I[3])),className:("module__header__image--big")},data:K},J?J.call(L,"module_image_header_item",H):v.call(L,"include","module_image_header_item",H));if(I||I===0){return I}else{return""}}function g(K,J){var H="",I;I=x["if"].call(K,((I=((I=(K&&K.images)),I==null||I===false?I:I[1])),I==null||I===false?I:I.url),{hash:{},inverse:t.noop,fn:t.program(25,f,J),data:J});if(I||I===0){H+=I}I=x["if"].call(K,((I=((I=(K&&K.images)),I==null||I===false?I:I[2])),I==null||I===false?I:I.url),{hash:{},inverse:t.noop,fn:t.program(27,e,J),data:J});if(I||I===0){H+=I}return H}function f(M,L){var H="",J,K,I;H+='<div class="image-tiles__col">';J=(K=x.include||(M&&M.include),I={hash:{image:(((J=(M&&M.images)),J==null||J===false?J:J[1])),className:("module__header__image--big")},data:L},K?K.call(M,"module_image_header_item",I):v.call(M,"include","module_image_header_item",I));if(J||J===0){H+=J}H+="</div>";return H}function e(M,L){var H="",J,K,I;H+='<div class="image-tiles__col">';J=(K=x.include||(M&&M.include),I={hash:{image:(((J=(M&&M.images)),J==null||J===false?J:J[2])),className:("module__header__image--big")},data:L},K?K.call(M,"module_image_header_item",I):v.call(M,"include","module_image_header_item",I));if(J||J===0){H+=J}H+="</div>";return H}function a(J,I){var H;H=x.unless.call(J,(J&&J.hideTitle),{hash:{},inverse:t.noop,fn:t.program(30,u,I),data:I});if(H||H===0){return H}else{return""}}function u(L,K){var H="",I,J;H+='<span class="label module__header__image__more">';if(J=x.morePhotosText){I=J.call(L,{hash:{},data:K})}else{J=(L&&L.morePhotosText);I=typeof J===c?J.call(L,{hash:{},data:K}):J}H+=b(I)+"</span>";return H}y+='<div class="module__header ';k=x["if"].call(z,(z&&z.image),{hash:{},inverse:t.noop,fn:t.program(1,s,G),data:G});if(k||k===0){y+=k}y+=' module__header--map js-place-header-map">';k=x["if"].call(z,(z&&z.layout),{hash:{},inverse:t.noop,fn:t.program(3,r,G),data:G});if(k||k===0){y+=k}y+="</div>";return y});this["DDG"]["templates"]["module_placeholder"]=Handlebars.template(function(e,i,c,h,g){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);g=g||{};var f="",a,j=this;function b(m,k){return"is-hidden"}f+='<div class="module module--placeholder ';a=c["if"].call(i,(i&&i.lsExpHide),{hash:{},inverse:j.noop,fn:j.program(1,b,g),data:g});if(a||a===0){f+=a}f+='"></div>';return f});this["DDG"]["templates"]["no_directions_results"]=Handlebars.template(function(c,m,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,n,k=b.helperMissing,f="function",h=this.escapeExpression;g+='<div class="no-results t-m is-hidden"><p class="no-results__title">';a=(e=b.lp||(m&&m.lp),n={hash:{},data:i},e?e.call(m,"directions","No results found.",n):k.call(m,"lp","directions","No results found.",n));if(a||a===0){g+=a}g+='</p><div class="no-results__tips"><p class="no-results__tips-title">';a=(e=b.lp||(m&&m.lp),n={hash:{},data:i},e?e.call(m,"directions","Suggestions:",n):k.call(m,"lp","directions","Suggestions:",n));if(a||a===0){g+=a}g+='</p><ul class="no-results__tips-list"><li>';a=(e=b.lp||(m&&m.lp),n={hash:{},data:i},e?e.call(m,"directions","Make sure your search is spelled correctly.",n):k.call(m,"lp","directions","Make sure your search is spelled correctly.",n));if(a||a===0){g+=a}g+="</li><li>";a=(e=b.lp||(m&&m.lp),n={hash:{},data:i},e?e.call(m,"directions","Try adding a city, state, or postal code.",n):k.call(m,"lp","directions","Try adding a city, state, or postal code.",n));if(a||a===0){g+=a}g+='</li></ul></div><p class="no-results__web"><a class="no-results__link js-no-map-results-web-search" href="';if(e=b.webSearchUrl){a=e.call(m,{hash:{},data:i})}else{e=(m&&m.webSearchUrl);a=typeof e===f?e.call(m,{hash:{},data:i}):e}g+=h(a)+'">';a=(e=b.lp||(m&&m.lp),n={hash:{},data:i},e?e.call(m,"noresults","Show Web Results",n):k.call(m,"lp","noresults","Show Web Results",n));if(a||a===0){g+=a}g+="</a></p></div>";return g});this["DDG"]["templates"]["no_map_results"]=Handlebars.template(function(e,n,c,k,j){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);j=j||{};var h="",a,f,p,g="function",i=this.escapeExpression,o=this,m=c.helperMissing;function b(u,t){var q="",r,s;q+='style="min-height:';if(s=c.minHeight){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.minHeight);r=typeof s===g?s.call(u,{hash:{},data:t}):s}q+=i(r)+'px;"';return q}h+='<div class="no-results t-m" ';a=c["if"].call(n,(n&&n.minHeight),{hash:{},inverse:o.noop,fn:o.program(1,b,j),data:j});if(a||a===0){h+=a}h+='><p class="no-results__title">';a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"noresults","No %s found for %s%s%s.",(n&&n.resultType),"<b>",(n&&n.query),"</b>",p):m.call(n,"lp","noresults","No %s found for %s%s%s.",(n&&n.resultType),"<b>",(n&&n.query),"</b>",p));if(a||a===0){h+=a}h+='</p><div class="no-results__tips"><p class="no-results__tips-title">';a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"noresults","Suggestions:",p):m.call(n,"lp","noresults","Suggestions:",p));if(a||a===0){h+=a}h+='</p><ul class="no-results__tips-list"><li>';a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"noresults","Make sure all words are spelled correctly.",p):m.call(n,"lp","noresults","Make sure all words are spelled correctly.",p));if(a||a===0){h+=a}h+="</li><li>";a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"noresults","Try different keywords.",p):m.call(n,"lp","noresults","Try different keywords.",p));if(a||a===0){h+=a}h+="</li><li>";a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"noresults","Try more general keywords.",p):m.call(n,"lp","noresults","Try more general keywords.",p));if(a||a===0){h+=a}h+="</li><li>";a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"noresults","Try fewer keywords.",p):m.call(n,"lp","noresults","Try fewer keywords.",p));if(a||a===0){h+=a}h+='</li></ul></div><p class="no-results__web"><a class="no-results__link js-no-map-results-web-search" href="';if(f=c.webSearchUrl){a=f.call(n,{hash:{},data:j})}else{f=(n&&n.webSearchUrl);a=typeof f===g?f.call(n,{hash:{},data:j}):f}h+=i(a)+'">';a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"noresults","Show Web Results",p):m.call(n,"lp","noresults","Show Web Results",p));if(a||a===0){h+=a}h+="</a></p></div>";return h});this["DDG"]["templates"]["no_more_results"]=Handlebars.template(function(c,j,b,h,g){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);g=g||{};var f="",a,e,k,i=b.helperMissing;f+='<div class="no-results no-results--bottom t-m"><p class="no-results__title">';a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"noresults","No more results found for %s%s%s.","<b>",(j&&j.query),"</b>",k):i.call(j,"lp","noresults","No more results found for %s%s%s.","<b>",(j&&j.query),"</b>",k));if(a||a===0){f+=a}f+='</p><div class="no-results__tips"><p class="no-results__tips-title">';a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"noresults","Suggestions:",k):i.call(j,"lp","noresults","Suggestions:",k));if(a||a===0){f+=a}f+='</p><ul class="no-results__tips-list"><li>';a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"noresults","Make sure all words are spelled correctly.",k):i.call(j,"lp","noresults","Make sure all words are spelled correctly.",k));if(a||a===0){f+=a}f+="</li><li>";a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"noresults","Try different keywords.",k):i.call(j,"lp","noresults","Try different keywords.",k));if(a||a===0){f+=a}f+="</li><li>";a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"noresults","Try more general keywords.",k):i.call(j,"lp","noresults","Try more general keywords.",k));if(a||a===0){f+=a}f+="</li><li>";a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"noresults","Try fewer keywords.",k):i.call(j,"lp","noresults","Try fewer keywords.",k));if(a||a===0){f+=a}f+="</li></ul></div></div>";return f});this["DDG"]["templates"]["no_results"]=Handlebars.template(function(g,t,r,m,u){this.compilerInfo=[4,">= 1.0.0"];r=this.merge(r,g.helpers);u=u||{};var s="",i,a,e,c="function",b=this.escapeExpression,q=r.helperMissing,p=this;function o(A,z){var v="",x,y;v+='style="min-height:';if(y=r.minHeight){x=y.call(A,{hash:{},data:z})}else{y=(A&&A.minHeight);x=typeof y===c?y.call(A,{hash:{},data:z}):y}v+=b(x)+'px;"';return v}function n(B,A){var v="",y,z,x;v+='<p class="no-results__retry">';y=(z=r.lp||(B&&B.lp),x={hash:{},data:A},z?z.call(B,"noresults","%sReset filters %s",'<a class="no-results__link js-no-results-retry" href="#">',"</a>",x):q.call(B,"lp","noresults","%sReset filters %s",'<a class="no-results__link js-no-results-retry" href="#">',"</a>",x));if(y||y===0){v+=y}v+="</p>";return v}function k(y,x){var v;v=r["if"].call(y,(y&&y.showWebLink),{hash:{},inverse:p.program(8,h,x),fn:p.program(6,j,x),data:x});if(v||v===0){return v}else{return""}}function j(B,A){var v="",y,z,x;v+='<p class="no-results__web"><a class="no-results__link js-no-results-web" href="#">';y=(z=r.lp||(B&&B.lp),x={hash:{},data:A},z?z.call(B,"noresults","Show Web Results",x):q.call(B,"lp","noresults","Show Web Results",x));if(y||y===0){v+=y}v+="</a></p>";return v}function h(B,A){var v="",y,z,x;v+='<div class="no-results__tips"><p class="no-results__tips-title">';y=(z=r.lp||(B&&B.lp),x={hash:{},data:A},z?z.call(B,"noresults","Suggestions:",x):q.call(B,"lp","noresults","Suggestions:",x));if(y||y===0){v+=y}v+='</p><ul class="no-results__tips-list"><li>';y=(z=r.lp||(B&&B.lp),x={hash:{},data:A},z?z.call(B,"noresults","Make sure all words are spelled correctly.",x):q.call(B,"lp","noresults","Make sure all words are spelled correctly.",x));if(y||y===0){v+=y}v+="</li><li>";y=(z=r.lp||(B&&B.lp),x={hash:{},data:A},z?z.call(B,"noresults","Try different keywords.",x):q.call(B,"lp","noresults","Try different keywords.",x));if(y||y===0){v+=y}v+="</li><li>";y=(z=r.lp||(B&&B.lp),x={hash:{},data:A},z?z.call(B,"noresults","Try more general keywords.",x):q.call(B,"lp","noresults","Try more general keywords.",x));if(y||y===0){v+=y}v+="</li><li>";y=(z=r.lp||(B&&B.lp),x={hash:{},data:A},z?z.call(B,"noresults","Try fewer keywords.",x):q.call(B,"lp","noresults","Try fewer keywords.",x));if(y||y===0){v+=y}v+="</li></ul></div>";y=r["if"].call(B,(B&&B.showRetryMessage),{hash:{},inverse:p.noop,fn:p.program(9,f,A),data:A});if(y||y===0){v+=y}return v}function f(B,A){var v="",y,z,x;v+='<p class="no-results__retry">';y=(z=r.lp||(B&&B.lp),x={hash:{},data:A},z?z.call(B,"noresults","%sClick here%s to try again, if you think there should be results for this search.",'<a class="no-results__link js-no-results-retry" href="#">',"</a>",x):q.call(B,"lp","noresults","%sClick here%s to try again, if you think there should be results for this search.",'<a class="no-results__link js-no-results-retry" href="#">',"</a>",x));if(y||y===0){v+=y}v+="</p>";return v}s+='<div class="no-results t-m" ';i=r["if"].call(t,(t&&t.minHeight),{hash:{},inverse:p.noop,fn:p.program(1,o,u),data:u});if(i||i===0){s+=i}s+='><p class="no-results__title">';i=(a=r.lp||(t&&t.lp),e={hash:{},data:u},a?a.call(t,"noresults","No %s found for %s%s%s.",(t&&t.resultType),"<b>",(t&&t.query),"</b>",e):q.call(t,"lp","noresults","No %s found for %s%s%s.",(t&&t.resultType),"<b>",(t&&t.query),"</b>",e));if(i||i===0){s+=i}s+="</p>";i=r["if"].call(t,(t&&t.resetFilters),{hash:{},inverse:p.program(5,k,u),fn:p.program(3,n,u),data:u});if(i||i===0){s+=i}s+="</div>";return s});this["DDG"]["templates"]["open_in_app"]=Handlebars.template(function(c,j,b,h,g){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);g=g||{};var f="",a,e,k,i=b.helperMissing;f+='<div class="open-in-app js-open-in-app"><a class="open-in-app__deep-link js-open-in-app-link" href="#" aria-describedby="open-in-app-info">';a=(e=b.l||(j&&j.l),k={hash:{},data:g},e?e.call(j,"App",k):i.call(j,"l","App",k));if(a||a===0){f+=a}f+="</a></div>";return f});this["DDG"]["templates"]["place_detail"]=Handlebars.template(function(Z,a,Y,B,ao){this.compilerInfo=[4,">= 1.0.0"];Y=this.merge(Y,Z.helpers);ao=ao||{};var v="",E,o,x,u="function",af=this.escapeExpression,X=Y.helperMissing,g=this;function W(aq,ap){return"place-detail--map"}function U(aq,ap){return" module__section--minimized"}function R(au,at){var ap="",aq,ar;ap+='<a class="module__title__link" href="';if(ar=Y.titleUrl){aq=ar.call(au,{hash:{},data:at})}else{ar=(au&&au.titleUrl);aq=typeof ar===u?ar.call(au,{hash:{},data:at}):ar}ap+=af(aq)+'" title="';if(ar=Y.viewOnExternalServiceText){aq=ar.call(au,{hash:{},data:at})}else{ar=(au&&au.viewOnExternalServiceText);aq=typeof ar===u?ar.call(au,{hash:{},data:at}):ar}ap+=af(aq)+'" target="_blank" rel="noopener">';if(ar=Y.name){aq=ar.call(au,{hash:{},data:at})}else{ar=(au&&au.name);aq=typeof ar===u?ar.call(au,{hash:{},data:at}):ar}ap+=af(aq)+"</a>";return ap}function O(au,at){var ap="",aq,ar;ap+='<span class="module__title__link js-place-detail-map">';if(ar=Y.name){aq=ar.call(au,{hash:{},data:at})}else{ar=(au&&au.name);aq=typeof ar===u?ar.call(au,{hash:{},data:at}):ar}ap+=af(aq)+"</span>";return ap}function I(au,at){var ap="",ar,aq;ap+='<img class="review__rating-stars" src="'+af((ar=Y.imageProxy||(au&&au.imageProxy),aq={hash:{},data:at},ar?ar.call(au,(au&&au.ratingImage),aq):X.call(au,"imageProxy",(au&&au.ratingImage),aq)))+'" />';return ap}function N(ar,aq){var ap;ap=Y["if"].call(ar,(ar&&ar.ratingClass),{hash:{},inverse:g.noop,fn:g.program(12,L,aq),data:aq});if(ap||ap===0){return ap}else{return""}}function L(au,at){var aq,ar,ap;aq=(ar=Y.renderStars||(au&&au.renderStars),ap={hash:{},data:at},ar?ar.call(au,(au&&au.ratingClass),ap):X.call(au,"renderStars",(au&&au.ratingClass),ap));if(aq||aq===0){return aq}else{return""}}function H(au,at){var ap="",aq,ar;ap+='<a class="place-detail__review-count__link" href="';if(ar=Y.reviewsURL){aq=ar.call(au,{hash:{},data:at})}else{ar=(au&&au.reviewsURL);aq=typeof ar===u?ar.call(au,{hash:{},data:at}):ar}ap+=af(aq)+'" ';aq=Y["if"].call(au,(au&&au.isMapExpanded),{hash:{},inverse:g.noop,fn:g.program(15,D,at),data:at});if(aq||aq===0){ap+=aq}ap+=">";if(ar=Y.source){aq=ar.call(au,{hash:{},data:at})}else{ar=(au&&au.source);aq=typeof ar===u?ar.call(au,{hash:{},data:at}):ar}ap+=af(aq)+" (";if(ar=Y.numberOfReviews){aq=ar.call(au,{hash:{},data:at})}else{ar=(au&&au.numberOfReviews);aq=typeof ar===u?ar.call(au,{hash:{},data:at}):ar}ap+=af(aq)+")</a>";return ap}function D(aq,ap){return'target="_blank" rel="noopener"'}function A(au,at){var ap="",aq,ar;aq=Y["if"].call(au,(au&&au.numberOfReviews),{hash:{},inverse:g.noop,fn:g.program(18,y,at),data:at});if(aq||aq===0){ap+=aq}ap+='<span class="place-detail__review-count__price">';if(ar=Y.priceSymbol){aq=ar.call(au,{hash:{},data:at})}else{ar=(au&&au.priceSymbol);aq=typeof ar===u?ar.call(au,{hash:{},data:at}):ar}ap+=af(aq)+"</span>";return ap}function y(aq,ap){return"&nbsp;&middot;&nbsp;"}function q(at,ar){var ap="",aq;ap+='<span class="place-detail__status place-detail__status--'+af(((aq=((aq=(at&&at.hoursStatus)),aq==null||aq===false?aq:aq.style)),typeof aq===u?aq.apply(at):aq))+'">'+af(((aq=((aq=(at&&at.hoursStatus)),aq==null||aq===false?aq:aq.textStatus)),typeof aq===u?aq.apply(at):aq))+'</span><span class="place-detail__dot">&nbsp;&middot;&nbsp;</span>';return ap}function m(aq,ap){return'<div class="place-detail__subtitle-placeholder"></div>'}function j(ar,aq){var ap;ap=Y["if"].call(ar,(ar&&ar.description),{hash:{},inverse:g.program(27,c,aq),fn:g.program(25,h,aq),data:aq});if(ap||ap===0){return ap}else{return""}}function h(au,at){var ap="",aq,ar;ap+='<p class="place-detail__description">';if(ar=Y.description){aq=ar.call(au,{hash:{},data:at})}else{ar=(au&&au.description);aq=typeof ar===u?ar.call(au,{hash:{},data:at}):ar}ap+=af(aq)+"</p>";return ap}function c(ar,aq){var ap;ap=Y["if"].call(ar,(ar&&ar.categories),{hash:{},inverse:g.noop,fn:g.program(28,b,aq),data:aq});if(ap||ap===0){return ap}else{return""}}function b(at,ar){var ap,aq;if(aq=Y.categories){ap=aq.call(at,{hash:{},data:ar})}else{aq=(at&&at.categories);ap=typeof aq===u?aq.call(at,{hash:{},data:ar}):aq}return af(ap)}function am(av,au){var ap="",ar,at,aq;ap+='<div class="module__section module__nav place-detail__section"><div class="module__nav__item place-detail__cta-text is-active js-place-detail-tab-nav" data-tab-nav="overview">';ar=(at=Y.lp||(av&&av.lp),aq={hash:{},data:au},at?at.call(av,"maps_places","Overview",aq):X.call(av,"lp","maps_places","Overview",aq));if(ar||ar===0){ap+=ar}ap+='</div><div class="module__nav__item place-detail__cta-text js-place-detail-tab-nav" data-tab-nav="reviews">';ar=(at=Y.lp||(av&&av.lp),aq={hash:{},data:au},at?at.call(av,"maps_places","Reviews",aq):X.call(av,"lp","maps_places","Reviews",aq));if(ar||ar===0){ap+=ar}ap+="</div></div>";return ap}function aj(aq,ap){return"js-place-detail-tab-content"}function ah(av,au){var ap="",ar,at,aq;ap+='<li class="place-detail__cta-item place-detail__cta-item--website"><a class="js-place-detail-website" href="';if(at=Y.website){ar=at.call(av,{hash:{},data:au})}else{at=(av&&av.website);ar=typeof at===u?at.call(av,{hash:{},data:au}):at}ap+=af(ar)+'"';ar=Y["if"].call(av,(av&&av.isMapExpanded),{hash:{},inverse:g.noop,fn:g.program(35,ae,au),data:au});if(ar||ar===0){ap+=ar}ap+='><div class="btn place-detail__cta-icon"></div><span class="place-detail__cta-text">';ar=(at=Y.lp||(av&&av.lp),aq={hash:{},data:au},at?at.call(av,"maps_places","Website",aq):X.call(av,"lp","maps_places","Website",aq));if(ar||ar===0){ap+=ar}ap+="</span></a></li>";return ap}function ae(aq,ap){return' target="_blank" rel="noopener"'}function ab(av,au){var ap="",ar,at,aq;ap+='<li class="place-detail__cta-item place-detail__cta-item--map"><div class="js-place-detail-map"><div class="btn place-detail__cta-icon"></div><span class="place-detail__cta-text">';ar=(at=Y.l||(av&&av.l),aq={hash:{},data:au},at?at.call(av,"Map",aq):X.call(av,"l","Map",aq));if(ar||ar===0){ap+=ar}ap+="</span></div></li>";return ap}function aa(ar,aq){var ap;ap=Y["if"].call(ar,(ar&&ar.phone),{hash:{},inverse:g.noop,fn:g.program(40,T,aq),data:aq});if(ap||ap===0){return ap}else{return""}}function T(av,au){var ap="",ar,at,aq;ap+='<li class="place-detail__cta-item place-detail__cta-item--call"><a class="js-place-detail-call" href="tel:';if(at=Y.phone){ar=at.call(av,{hash:{},data:au})}else{at=(av&&av.phone);ar=typeof at===u?at.call(av,{hash:{},data:au}):at}ap+=af(ar)+'"><div class="btn place-detail__cta-icon"></div><span class="place-detail__cta-text">';ar=(at=Y.lp||(av&&av.lp),aq={hash:{},data:au},at?at.call(av,"maps_places","Call",aq):X.call(av,"lp","maps_places","Call",aq));if(ar||ar===0){ap+=ar}ap+="</span></a></li>";return ap}function Q(at,ar){var ap="",aq;ap+='<div class="module__section">';aq=Y["if"].call(at,(at&&at.url),{hash:{},inverse:g.noop,fn:g.program(43,M,ar),data:ar});if(aq||aq===0){ap+=aq}aq=Y["if"].call(at,(at&&at.hoursToday),{hash:{},inverse:g.noop,fn:g.program(46,G,ar),data:ar});if(aq||aq===0){ap+=aq}aq=Y["if"].call(at,(at&&at.address),{hash:{},inverse:g.noop,fn:g.program(49,z,ar),data:ar});if(aq||aq===0){ap+=aq}aq=Y["if"].call(at,(at&&at.phone),{hash:{},inverse:g.noop,fn:g.program(51,r,ar),data:ar});if(aq||aq===0){ap+=aq}aq=Y["if"].call(at,(at&&at.menuURL),{hash:{},inverse:g.noop,fn:g.program(53,n,ar),data:ar});if(aq||aq===0){ap+=aq}aq=Y.unless.call(at,(at&&at.reviews),{hash:{},inverse:g.noop,fn:g.program(55,k,ar),data:ar});if(aq||aq===0){ap+=aq}ap+="</div>";return ap}function M(ar,aq){var ap;ap=Y.unless.call(ar,(ar&&ar.showAttribution),{hash:{},inverse:g.noop,fn:g.program(44,K,aq),data:aq});if(ap||ap===0){return ap}else{return""}}function K(au,at){var ap="",aq,ar;ap+='<p class="place-detail__more-at place-detail__more-at--';if(ar=Y.sourceId){aq=ar.call(au,{hash:{},data:at})}else{ar=(au&&au.sourceId);aq=typeof ar===u?ar.call(au,{hash:{},data:at}):ar}ap+=af(aq)+'"> <a class="module__link place-detail__more-at__logo place-detail__more-at__logo--';if(ar=Y.sourceId){aq=ar.call(au,{hash:{},data:at})}else{ar=(au&&au.sourceId);aq=typeof ar===u?ar.call(au,{hash:{},data:at}):ar}ap+=af(aq)+'" href="';if(ar=Y.url){aq=ar.call(au,{hash:{},data:at})}else{ar=(au&&au.url);aq=typeof ar===u?ar.call(au,{hash:{},data:at}):ar}ap+=af(aq)+'" ';aq=Y["if"].call(au,(au&&au.isMapExpanded),{hash:{},inverse:g.noop,fn:g.program(15,D,at),data:at});if(aq||aq===0){ap+=aq}ap+="></a></p>";return ap}function G(av,au){var ap="",ar,at,aq;ap+='<p class="place-detail__item"><span class="place-detail__data__label">';ar=(at=Y.lp||(av&&av.lp),aq={hash:{},data:au},at?at.call(av,"maps_places","Hours",aq):X.call(av,"lp","maps_places","Hours",aq));if(ar||ar===0){ap+=ar}ap+=': </span><span class="place-detail__hours-toggle js-place-detail-hours-toggle"><span class="place-detail__status place-detail__status--'+af(((ar=((ar=(av&&av.hoursStatus)),ar==null||ar===false?ar:ar.style)),typeof ar===u?ar.apply(av):ar))+'">'+af(((ar=((ar=(av&&av.hoursStatus)),ar==null||ar===false?ar:ar.textStatus)),typeof ar===u?ar.apply(av):ar))+"</span>";ar=Y["if"].call(av,((ar=(av&&av.hoursStatus)),ar==null||ar===false?ar:ar.textHour),{hash:{},inverse:g.noop,fn:g.program(18,y,au),data:au});if(ar||ar===0){ap+=ar}ap+='<span class="module__link">';ar=Y["if"].call(av,((ar=(av&&av.hoursStatus)),ar==null||ar===false?ar:ar.textHour),{hash:{},inverse:g.noop,fn:g.program(47,C,au),data:au});if(ar||ar===0){ap+=ar}ap+='&nbsp;<span class="ddgsi ddgsi-down js-place-detail-hours-toggle-icon"></span></span></span></p><div class="js-place-detail-hours"></div>';return ap}function C(at,ar){var ap="",aq;ap+=af(((aq=((aq=(at&&at.hoursStatus)),aq==null||aq===false?aq:aq.textHour)),typeof aq===u?aq.apply(at):aq))+"&nbsp;";return ap}function z(av,au){var ap="",ar,at,aq;ap+='<p class="place-detail__item"><strong class="place-detail__data__label">';ar=(at=Y.lp||(av&&av.lp),aq={hash:{},data:au},at?at.call(av,"maps_places","Address",aq):X.call(av,"lp","maps_places","Address",aq));if(ar||ar===0){ap+=ar}ap+=": </strong>";if(at=Y.address){ar=at.call(av,{hash:{},data:au})}else{at=(av&&av.address);ar=typeof at===u?at.call(av,{hash:{},data:au}):at}ap+=af(ar)+"</p>";return ap}function r(av,au){var ap="",ar,at,aq;ap+='<p class="place-detail__item"><strong class="place-detail__data__label">';ar=(at=Y.lp||(av&&av.lp),aq={hash:{},data:au},at?at.call(av,"maps_places","Phone",aq):X.call(av,"lp","maps_places","Phone",aq));if(ar||ar===0){ap+=ar}ap+=': </strong><a class="module__link js-place-detail-phone" href="tel:';if(at=Y.phone){ar=at.call(av,{hash:{},data:au})}else{at=(av&&av.phone);ar=typeof at===u?at.call(av,{hash:{},data:au}):at}ap+=af(ar)+'">';if(at=Y.displayPhone){ar=at.call(av,{hash:{},data:au})}else{at=(av&&av.displayPhone);ar=typeof at===u?at.call(av,{hash:{},data:au}):at}ap+=af(ar)+"</a></p>";return ap}function n(av,au){var ap="",ar,at,aq;ap+='<p class="place-detail__item"><strong class="place-detail__data__label">';ar=(at=Y.lp||(av&&av.lp),aq={hash:{},data:au},at?at.call(av,"maps_places","Menu",aq):X.call(av,"lp","maps_places","Menu",aq));if(ar||ar===0){ap+=ar}ap+=': </strong><a class="module__link" href="';if(at=Y.menuURL){ar=at.call(av,{hash:{},data:au})}else{at=(av&&av.menuURL);ar=typeof at===u?at.call(av,{hash:{},data:au}):at}ap+=af(ar)+'"';ar=Y["if"].call(av,(av&&av.isMapExpanded),{hash:{},inverse:g.noop,fn:g.program(35,ae,au),data:au});if(ar||ar===0){ap+=ar}ap+=">";if(at=Y.viewOnExternalServiceText){ar=at.call(av,{hash:{},data:au})}else{at=(av&&av.viewOnExternalServiceText);ar=typeof at===u?at.call(av,{hash:{},data:au}):at}ap+=af(ar)+"</a></p>";return ap}function k(at,ar){var ap="",aq;aq=Y["if"].call(at,(at&&at.showAttribution),{hash:{},inverse:g.noop,fn:g.program(56,i,ar),data:ar});if(aq||aq===0){ap+=aq}ap+="                    ";return ap}function i(av,au){var ap="",ar,at,aq;ap+='<p class="place-detail__item place-detail__attribution ';ar=Y["if"].call(av,(av&&av.canExpand),{hash:{},inverse:g.noop,fn:g.program(57,f,au),data:au});if(ar||ar===0){ap+=ar}ap+='"><a class="module__link" href="';if(at=Y.url){ar=at.call(av,{hash:{},data:au})}else{at=(av&&av.url);ar=typeof at===u?at.call(av,{hash:{},data:au}):at}ap+=af(ar)+'">';ar=(at=Y.favicon||(av&&av.favicon),aq={hash:{},data:au},at?at.call(av,(av&&av.url),aq):X.call(av,"favicon",(av&&av.url),aq));if(ar||ar===0){ap+=ar}ap+=" ";if(at=Y.moreAtExternalServiceText){ar=at.call(av,{hash:{},data:au})}else{at=(av&&av.moreAtExternalServiceText);ar=typeof at===u?at.call(av,{hash:{},data:au}):at}ap+=af(ar)+"</a></p>";return ap}function f(ar,aq){var ap;ap=Y.unless.call(ar,(ar&&ar.expanded),{hash:{},inverse:g.noop,fn:g.program(58,e,aq),data:aq});if(ap||ap===0){return ap}else{return""}}function e(aq,ap){return" is-hidden"}function an(aq,ap){return"js-place-detail-tab-content is-hidden"}function al(at,ar){var ap="",aq;ap+='<div class="place-detail__data">';aq=Y["if"].call(at,(at&&at.address),{hash:{},inverse:g.noop,fn:g.program(49,z,ar),data:ar});if(aq||aq===0){ap+=aq}aq=Y["if"].call(at,(at&&at.phone),{hash:{},inverse:g.noop,fn:g.program(51,r,ar),data:ar});if(aq||aq===0){ap+=aq}aq=Y["if"].call(at,(at&&at.hoursToday),{hash:{},inverse:g.noop,fn:g.program(63,ak,ar),data:ar});if(aq||aq===0){ap+=aq}aq=Y["if"].call(at,(at&&at.menuURL),{hash:{},inverse:g.noop,fn:g.program(53,n,ar),data:ar});if(aq||aq===0){ap+=aq}ap+="</div>";return ap}function ak(av,au){var ap="",ar,at,aq;ap+='<p class="place-detail__item"><span class="place-detail__data__label">';ar=(at=Y.lp||(av&&av.lp),aq={hash:{},data:au},at?at.call(av,"maps_places","Hours",aq):X.call(av,"lp","maps_places","Hours",aq));if(ar||ar===0){ap+=ar}ap+=': </span><span class="place-detail__hours-toggle js-place-detail-hours-toggle"><span class="place-detail__status place-detail__status--'+af(((ar=((ar=(av&&av.hoursStatus)),ar==null||ar===false?ar:ar.style)),typeof ar===u?ar.apply(av):ar))+'">'+af(((ar=((ar=(av&&av.hoursStatus)),ar==null||ar===false?ar:ar.textStatus)),typeof ar===u?ar.apply(av):ar))+"</span>";ar=Y["if"].call(av,((ar=(av&&av.hoursStatus)),ar==null||ar===false?ar:ar.textHour),{hash:{},inverse:g.noop,fn:g.program(18,y,au),data:au});if(ar||ar===0){ap+=ar}ap+='<span class="module__link">';ar=Y["if"].call(av,((ar=(av&&av.hoursStatus)),ar==null||ar===false?ar:ar.textHour),{hash:{},inverse:g.noop,fn:g.program(64,ai,au),data:au});if(ar||ar===0){ap+=ar}ap+='&nbsp;<span class="ddgsi ddgsi-down js-place-detail-hours-toggle-icon"></span></span></span></p><div class="js-place-detail-hours"></div>';return ap}function ai(ar,aq){var ap;return af(((ap=((ap=(ar&&ar.hoursStatus)),ap==null||ap===false?ap:ap.textHour)),typeof ap===u?ap.apply(ar):ap))}function ag(av,au){var ap="",ar,at,aq;ap+=' <div class="place-detail__reviews"><p class="place-detail__item"><strong class="place-detail__data__label">';ar=(at=Y.lp||(av&&av.lp),aq={hash:{},data:au},at?at.call(av,"maps_places","What people say:",aq):X.call(av,"lp","maps_places","What people say:",aq));if(ar||ar===0){ap+=ar}ap+='</strong></p><div class="place-detail__reviews__container">';ar=Y.each.call(av,(av&&av.reviews),{hash:{},inverse:g.noop,fn:g.programWithDepth(67,ad,au,av),data:au});if(ar||ar===0){ap+=ar}ap+="</div>";ar=Y["if"].call(av,(av&&av.reviewsURL),{hash:{},inverse:g.noop,fn:g.program(82,s,au),data:au});if(ar||ar===0){ap+=ar}ap+="</div>";return ap}function ad(av,at,au){var ap="",aq,ar;ap+='<div class="review place-detail__reviews__review"><div class="review__user"><a ';aq=Y.unless.call(av,((aq=(av&&av.user)),aq==null||aq===false?aq:aq.image),{hash:{},inverse:g.noop,fn:g.program(68,ac,at),data:at});if(aq||aq===0){ap+=aq}ap+='href="';aq=Y["if"].call(av,((aq=(av&&av.user)),aq==null||aq===false?aq:aq.url),{hash:{},inverse:g.program(72,S,at),fn:g.program(70,V,at),data:at});if(aq||aq===0){ap+=aq}ap+='"';aq=Y["if"].call(av,(au&&au.isMapExpanded),{hash:{},inverse:g.noop,fn:g.program(74,P,at),data:at});if(aq||aq===0){ap+=aq}ap+='title="'+af(((aq=((aq=(av&&av.user)),aq==null||aq===false?aq:aq.userOnServiceText)),typeof aq===u?aq.apply(av):aq))+'">';aq=Y["if"].call(av,((aq=(av&&av.user)),aq==null||aq===false?aq:aq.image),{hash:{},inverse:g.noop,fn:g.program(76,J,at),data:at});if(aq||aq===0){ap+=aq}ap+='</a></div><div class="review__content"><p class="place-detail__rating">';aq=Y["if"].call(av,(av&&av.ratingImage),{hash:{},inverse:g.program(80,t,at),fn:g.program(78,F,at),data:at});if(aq||aq===0){ap+=aq}ap+='<span class="review__rating-date">';if(ar=Y.formattedDate){aq=ar.call(av,{hash:{},data:at})}else{ar=(av&&av.formattedDate);aq=typeof ar===u?ar.call(av,{hash:{},data:at}):ar}ap+=af(aq)+'</span></p><p class="place-detail__reviews__review__text">';if(ar=Y.excerpt){aq=ar.call(av,{hash:{},data:at})}else{ar=(av&&av.excerpt);aq=typeof ar===u?ar.call(av,{hash:{},data:at}):ar}ap+=af(aq)+' <a class="module__link" href="';if(ar=Y.url){aq=ar.call(av,{hash:{},data:at})}else{ar=(av&&av.url);aq=typeof ar===u?ar.call(av,{hash:{},data:at}):ar}ap+=af(aq)+'"';aq=Y["if"].call(av,(au&&au.isMapExpanded),{hash:{},inverse:g.noop,fn:g.program(35,ae,at),data:at});if(aq||aq===0){ap+=aq}ap+=">"+af(((aq=(au&&au.moreOnExternalServiceText)),typeof aq===u?aq.apply(av):aq))+"</a></p></div></div>";return ap}function ac(aq,ap){return'class="review__user__url--fallback"'}function V(ar,aq){var ap;return af(((ap=((ap=(ar&&ar.user)),ap==null||ap===false?ap:ap.url)),typeof ap===u?ap.apply(ar):ap))}function S(at,ar){var ap,aq;if(aq=Y.url){ap=aq.call(at,{hash:{},data:ar})}else{aq=(at&&at.url);ap=typeof aq===u?aq.call(at,{hash:{},data:ar}):aq}return af(ap)}function P(aq,ap){return' target="_blank" rel="noopener" '}function J(av,au){var ap="",ar,at,aq;ap+='<img class="review__user__image" src="'+af((at=Y.imageProxy||(av&&av.imageProxy),aq={hash:{},data:au},at?at.call(av,((ar=(av&&av.user)),ar==null||ar===false?ar:ar.image),aq):X.call(av,"imageProxy",((ar=(av&&av.user)),ar==null||ar===false?ar:ar.image),aq)))+'" width="42" height="42" />';return ap}function F(au,at){var ap="",ar,aq;ap+='<img class="review__rating-stars"src="'+af((ar=Y.imageProxy||(au&&au.imageProxy),aq={hash:{},data:at},ar?ar.call(au,(au&&au.ratingImage),aq):X.call(au,"imageProxy",(au&&au.ratingImage),aq)))+'" />';return ap}function t(at,ar){var ap="",aq;ap+=" ";aq=Y["if"].call(at,(at&&at.ratingClass),{hash:{},inverse:g.noop,fn:g.program(12,L,ar),data:ar});if(aq||aq===0){ap+=aq}return ap}function s(au,at){var ap="",aq,ar;ap+='<div class="place-detail__reviews_link"><a class="module__link" href="';if(ar=Y.reviewsURL){aq=ar.call(au,{hash:{},data:at})}else{ar=(au&&au.reviewsURL);aq=typeof ar===u?ar.call(au,{hash:{},data:at}):ar}ap+=af(aq)+'" target="_blank" rel="noopener">';if(ar=Y.moreReviewsOnExternalServiceText){aq=ar.call(au,{hash:{},data:at})}else{ar=(au&&au.moreReviewsOnExternalServiceText);aq=typeof ar===u?ar.call(au,{hash:{},data:at}):ar}ap+=af(aq)+"</a></div>";return ap}function p(av,au){var ap="",ar,at,aq;ap+='<p class="place-detail__item place-detail__attribution ';ar=Y["if"].call(av,(av&&av.canExpand),{hash:{},inverse:g.noop,fn:g.program(57,f,au),data:au});if(ar||ar===0){ap+=ar}ap+='"><a class="module__link" href="';if(at=Y.url){ar=at.call(av,{hash:{},data:au})}else{at=(av&&av.url);ar=typeof at===u?at.call(av,{hash:{},data:au}):at}ap+=af(ar)+'" ';ar=Y["if"].call(av,(av&&av.isMapExpanded),{hash:{},inverse:g.noop,fn:g.program(35,ae,au),data:au});if(ar||ar===0){ap+=ar}ap+=">";ar=(at=Y.favicon||(av&&av.favicon),aq={hash:{},data:au},at?at.call(av,(av&&av.url),aq):X.call(av,"favicon",(av&&av.url),aq));if(ar||ar===0){ap+=ar}ap+=" ";if(at=Y.moreAtExternalServiceText){ar=at.call(av,{hash:{},data:au})}else{at=(av&&av.moreAtExternalServiceText);ar=typeof at===u?at.call(av,{hash:{},data:au}):at}ap+=af(ar)+"</a></p>";return ap}v+='<div class="place-detail ';E=Y["if"].call(a,(a&&a.isMapExpanded),{hash:{},inverse:g.noop,fn:g.program(1,W,ao),data:ao});if(E||E===0){v+=E}v+='"><div class="module__section place-detail__section';E=Y["if"].call(a,(a&&a.canExpand),{hash:{},inverse:g.noop,fn:g.program(3,U,ao),data:ao});if(E||E===0){v+=E}v+='"><div class="place-detail__item place-detail__header-row"><h2 class="module__title place-detail__name js-place-detail-title">';E=Y["if"].call(a,(a&&a.isMapExpanded),{hash:{},inverse:g.program(7,O,ao),fn:g.program(5,R,ao),data:ao});if(E||E===0){v+=E}v+='</h2></div><p class="place-detail__item place-detail__review-count">';E=Y["if"].call(a,(a&&a.ratingImage),{hash:{},inverse:g.program(11,N,ao),fn:g.program(9,I,ao),data:ao});if(E||E===0){v+=E}E=Y["if"].call(a,(a&&a.numberOfReviews),{hash:{},inverse:g.noop,fn:g.program(14,H,ao),data:ao});if(E||E===0){v+=E}E=Y["if"].call(a,(a&&a.priceSymbol),{hash:{},inverse:g.noop,fn:g.program(17,A,ao),data:ao});if(E||E===0){v+=E}v+='</p><p class="place-detail__item place-detail__subtitle">';E=Y["if"].call(a,((E=(a&&a.hoursStatus)),E==null||E===false?E:E.textStatus),{hash:{},inverse:g.noop,fn:g.program(20,q,ao),data:ao});if(E||E===0){v+=E}E=Y["if"].call(a,(a&&a.showSubtitlePlaceholder),{hash:{},inverse:g.program(24,j,ao),fn:g.program(22,m,ao),data:ao});if(E||E===0){v+=E}v+="</p></div>";E=Y["if"].call(a,(a&&a.showTabs),{hash:{},inverse:g.noop,fn:g.program(30,am,ao),data:ao});if(E||E===0){v+=E}v+='<div class="';E=Y["if"].call(a,(a&&a.isMobile),{hash:{},inverse:g.noop,fn:g.program(32,aj,ao),data:ao});if(E||E===0){v+=E}v+='" data-tab-content="overview"><div class="module__section place-detail__section place-detail__section--tab"><ul class="place-detail__cta-block">';E=Y["if"].call(a,(a&&a.website),{hash:{},inverse:g.noop,fn:g.program(34,ah,ao),data:ao});if(E||E===0){v+=E}v+='<li class="place-detail__cta-item place-detail__cta-item--directions js-place-detail-directions"><div class="btn place-detail__cta-icon"></div><span class="place-detail__cta-text">';E=(o=Y.lp||(a&&a.lp),x={hash:{},data:ao},o?o.call(a,"maps_places","Directions",x):X.call(a,"lp","maps_places","Directions",x));if(E||E===0){v+=E}v+="</span></li>";E=Y["if"].call(a,(a&&a.showMapCta),{hash:{},inverse:g.program(39,aa,ao),fn:g.program(37,ab,ao),data:ao});if(E||E===0){v+=E}v+="</ul></div>";E=Y["if"].call(a,(a&&a.isMobile),{hash:{},inverse:g.noop,fn:g.program(42,Q,ao),data:ao});if(E||E===0){v+=E}v+='</div><div class="module__section place-detail__section place-detail__section--bordered ';E=Y["if"].call(a,(a&&a.isMobile),{hash:{},inverse:g.noop,fn:g.program(60,an,ao),data:ao});if(E||E===0){v+=E}v+='" data-tab-content="reviews">';E=Y["if"].call(a,(a&&a.url),{hash:{},inverse:g.noop,fn:g.program(43,M,ao),data:ao});if(E||E===0){v+=E}E=Y.unless.call(a,(a&&a.isMobile),{hash:{},inverse:g.noop,fn:g.program(62,al,ao),data:ao});if(E||E===0){v+=E}E=Y["if"].call(a,(a&&a.reviews),{hash:{},inverse:g.noop,fn:g.program(66,ag,ao),data:ao});if(E||E===0){v+=E}E=Y["if"].call(a,(a&&a.showAttribution),{hash:{},inverse:g.noop,fn:g.program(84,p,ao),data:ao});if(E||E===0){v+=E}v+="</div></div>";return v});this["DDG"]["templates"]["place_header"]=Handlebars.template(function(f,o,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,h="function",j=this.escapeExpression,n=e.helperMissing,p=this;function c(s,r){return"module__header--with-image"}function a(x,v){var r="",t,u,s;r+='<a class="module__header__image" href="';if(u=e.imageURL){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.imageURL);t=typeof u===h?u.call(x,{hash:{},data:v}):u}r+=j(t)+'" title="';if(u=e.morePhotosText){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.morePhotosText);t=typeof u===h?u.call(x,{hash:{},data:v}):u}r+=j(t)+'"style="background-image: url('+j((u=e.imageProxy||(x&&x.imageProxy),s={hash:{},data:v},u?u.call(x,(x&&x.image),s):n.call(x,"imageProxy",(x&&x.image),s)))+')"><img class="module__header__image__img" src="'+j((u=e.imageProxy||(x&&x.imageProxy),s={hash:{},data:v},u?u.call(x,(x&&x.image),s):n.call(x,"imageProxy",(x&&x.image),s)))+'" />';t=e.unless.call(x,(x&&x.isScrapedImage),{hash:{},inverse:p.noop,fn:p.program(4,q,v),data:v});if(t||t===0){r+=t}r+="</a>";return r}function q(v,u){var r="",s,t;r+='<span class="label module__header__image__more">';if(t=e.morePhotosText){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.morePhotosText);s=typeof t===h?t.call(v,{hash:{},data:u}):t}r+=j(s)+"</span>";return r}i+='<div class="module__header ';b=e["if"].call(o,(o&&o.image),{hash:{},inverse:p.noop,fn:p.program(1,c,k),data:k});if(b||b===0){i+=b}i+=" module__header--";if(g=e.sourceId){b=g.call(o,{hash:{},data:k})}else{g=(o&&o.sourceId);b=typeof g===h?g.call(o,{hash:{},data:k}):g}i+=j(b)+' js-place-header">';b=e["if"].call(o,(o&&o.image),{hash:{},inverse:p.noop,fn:p.program(3,a,k),data:k});if(b||b===0){i+=b}i+='<div class="module__header__map js-place-header-map"></div><div class="module__header__shadow"></div></div>';return i});this["DDG"]["templates"]["place_hours"]=Handlebars.template(function(f,n,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",a,g="function",i=this.escapeExpression,m=e.helperMissing,p=this;function c(u,t){var r="",s;r+='<tr class="place-hours__item ';s=e["if"].call(u,(u&&u.isToday),{hash:{},inverse:p.noop,fn:p.program(2,b,t),data:t});if(s||s===0){r+=s}r+='"><td class="place-hours__item__day">'+i(((s=(u&&u.weekDay)),typeof s===g?s.apply(u):s))+'</td><td class="place-hours__item__hours">';s=e["if"].call(u,(u&&u.hours),{hash:{},inverse:p.program(6,o,t),fn:p.program(4,q,t),data:t});if(s||s===0){r+=s}r+="</td></tr>";return r}function b(s,r){return"place-hours__item--current"}function q(t,s){var r;return i(((r=(t&&t.hours)),typeof r===g?r.apply(t):r))}function o(v,u){var s,t,r;s=(t=e.l||(v&&v.l),r={hash:{},data:u},t?t.call(v,"Closed",r):m.call(v,"l","Closed",r));if(s||s===0){return s}else{return""}}h+='<div class="place-hours is-hidden"><span class="place-hours__close ddgsi js-place-hours-close">X</span><table><tbody>';a=e.each.call(n,(n&&n.hours),{hash:{},inverse:p.noop,fn:p.program(1,c,j),data:j});if(a||a===0){h+=a}h+="</tbody></table></div>";return h});this["DDG"]["templates"]["place_list_item"]=Handlebars.template(function(j,B,z,r,I){this.compilerInfo=[4,">= 1.0.0"];z=this.merge(z,j.helpers);I=I||{};var A="",n,a,y=z.helperMissing,b=this.escapeExpression,c="function",u=this;function t(N,M){var J="",L,K;J+='<div class="place-list-item__image"style="background-image: url('+b((L=z.imageProxy||(N&&N.imageProxy),K={hash:{},data:M},L?L.call(N,(N&&N.image),K):y.call(N,"imageProxy",(N&&N.image),K)))+')"><img class="place-list-item__image__img" src="'+b((L=z.imageProxy||(N&&N.imageProxy),K={hash:{},data:M},L?L.call(N,(N&&N.image),K):y.call(N,"imageProxy",(N&&N.image),K)))+'" /></div>';return J}function s(N,M){var J="",K,L;if(L=z.number){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.number);K=typeof L===c?L.call(N,{hash:{},data:M}):L}J+=b(K)+". ";return J}function q(N,M){var J="",K,L;J+='<p class="place-list-item__rating place-list-item__rating--';if(L=z.sourceId){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.sourceId);K=typeof L===c?L.call(N,{hash:{},data:M}):L}J+=b(K)+'">';K=z["if"].call(N,(N&&N.ratingImage),{hash:{},inverse:u.program(8,m,M),fn:u.program(6,p,M),data:M});if(K||K===0){J+=K}J+='<span class="review__count place-list-item__rating__count">';K=z["if"].call(N,(N&&N.numberOfReviews),{hash:{},inverse:u.noop,fn:u.program(11,H,M),data:M});if(K||K===0){J+=K}K=z.unless.call(N,(N&&N.showPriceCategoryNewLine),{hash:{},inverse:u.noop,fn:u.program(13,G,M),data:M});if(K||K===0){J+=K}J+="</span></p>";return J}function p(N,M){var J="",L,K;J+='<img class="review__rating-stars place-list-item__rating__image" src="'+b((L=z.imageProxy||(N&&N.imageProxy),K={hash:{},data:M},L?L.call(N,(N&&N.ratingImage),K):y.call(N,"imageProxy",(N&&N.ratingImage),K)))+'" />';return J}function m(L,K){var J;J=z["if"].call(L,(L&&L.ratingClass),{hash:{},inverse:u.noop,fn:u.program(9,i,K),data:K});if(J||J===0){return J}else{return""}}function i(N,M){var K,L,J;K=(L=z.renderStars||(N&&N.renderStars),J={hash:{},data:M},L?L.call(N,(N&&N.ratingClass),J):y.call(N,"renderStars",(N&&N.ratingClass),J));if(K||K===0){return K}else{return""}}function H(N,M){var J="",K,L;if(L=z.source){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.source);K=typeof L===c?L.call(N,{hash:{},data:M}):L}J+=b(K)+" (";if(L=z.numberOfReviews){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.numberOfReviews);K=typeof L===c?L.call(N,{hash:{},data:M}):L}J+=b(K)+")";return J}function G(M,L){var J="",K;K=z["if"].call(M,(M&&M.priceSymbol),{hash:{},inverse:u.noop,fn:u.program(14,F,L),data:L});if(K||K===0){J+=K}K=z["if"].call(M,(M&&M.categories),{hash:{},inverse:u.noop,fn:u.program(17,D,L),data:L});if(K||K===0){J+=K}return J}function F(N,M){var J="",K,L;K=z["if"].call(N,(N&&N.numberOfReviews),{hash:{},inverse:u.noop,fn:u.program(15,E,M),data:M});if(K||K===0){J+=K}if(L=z.priceSymbol){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.priceSymbol);K=typeof L===c?L.call(N,{hash:{},data:M}):L}J+=b(K);return J}function E(K,J){return"&nbsp;&middot;&nbsp;"}function D(N,M){var J="",K,L;J+="&nbsp;&middot;&nbsp;";if(L=z.categories){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.categories);K=typeof L===c?L.call(N,{hash:{},data:M}):L}J+=b(K);return J}function C(L,K){var J;J=z["if"].call(L,(L&&L.hasPriceOrCategory),{hash:{},inverse:u.noop,fn:u.program(20,o,K),data:K});if(J||J===0){return J}else{return""}}function o(M,L){var J="",K;J+='<li class="place-list-item__info__item">';K=z["if"].call(M,(M&&M.priceSymbol),{hash:{},inverse:u.noop,fn:u.program(21,k,L),data:L});if(K||K===0){J+=K}K=z["if"].call(M,(M&&M.categories),{hash:{},inverse:u.noop,fn:u.program(23,h,L),data:L});if(K||K===0){J+=K}J+="</li>";return J}function k(M,L){var J,K;if(K=z.priceSymbol){J=K.call(M,{hash:{},data:L})}else{K=(M&&M.priceSymbol);J=typeof K===c?K.call(M,{hash:{},data:L}):K}return b(J)}function h(N,M){var J="",K,L;K=z["if"].call(N,(N&&N.priceSymbol),{hash:{},inverse:u.noop,fn:u.program(15,E,M),data:M});if(K||K===0){J+=K}if(L=z.categories){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.categories);K=typeof L===c?L.call(N,{hash:{},data:M}):L}J+=b(K);return J}function g(N,M){var J="",K,L;J+='<li class="place-list-item__info__item">';if(L=z.shortAddress){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.shortAddress);K=typeof L===c?L.call(N,{hash:{},data:M}):L}J+=b(K);K=z["if"].call(N,(N&&N.distanceStr),{hash:{},inverse:u.noop,fn:u.program(26,f,M),data:M});if(K||K===0){J+=K}J+="</li>";return J}function f(N,M){var J="",K,L;J+=" · ";if(L=z.distanceStr){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.distanceStr);K=typeof L===c?L.call(N,{hash:{},data:M}):L}J+=b(K);return J}function e(N,M){var J="",K,L;J+='<li class="place-list-item__info__item">';if(L=z.addressLine2){K=L.call(N,{hash:{},data:M})}else{L=(N&&N.addressLine2);K=typeof L===c?L.call(N,{hash:{},data:M}):L}J+=b(K)+"</li>";return J}function x(M,L){var J="",K;J+='<li class="place-list-item__info__item"><span class="place-detail__status place-detail__status--'+b(((K=((K=(M&&M.hoursStatus)),K==null||K===false?K:K.style)),typeof K===c?K.apply(M):K))+'">'+b(((K=((K=(M&&M.hoursStatus)),K==null||K===false?K:K.textStatus)),typeof K===c?K.apply(M):K))+"</span>";K=z["if"].call(M,((K=(M&&M.hoursStatus)),K==null||K===false?K:K.textHour),{hash:{},inverse:u.noop,fn:u.program(31,v,L),data:L});if(K||K===0){J+=K}J+="</li>";return J}function v(M,L){var J="",K;J+="&nbsp;&middot;&nbsp;"+b(((K=((K=(M&&M.hoursStatus)),K==null||K===false?K:K.textHour)),typeof K===c?K.apply(M):K));return J}A+='<div class="module__section place-list-item js-place-list-item"> ';n=z["if"].call(B,(B&&B.image),{hash:{},inverse:u.noop,fn:u.program(1,t,I),data:I});if(n||n===0){A+=n}A+='<h2 class="place-list-item__title">';n=z["if"].call(B,(B&&B.number),{hash:{},inverse:u.noop,fn:u.program(3,s,I),data:I});if(n||n===0){A+=n}if(a=z.name){n=a.call(B,{hash:{},data:I})}else{a=(B&&B.name);n=typeof a===c?a.call(B,{hash:{},data:I}):a}A+=b(n)+"</h2>";n=z["if"].call(B,(B&&B.rating),{hash:{},inverse:u.noop,fn:u.program(5,q,I),data:I});if(n||n===0){A+=n}A+='<ul class="place-list-item__info">';n=z["if"].call(B,(B&&B.showPriceCategoryNewLine),{hash:{},inverse:u.noop,fn:u.program(19,C,I),data:I});if(n||n===0){A+=n}n=z["if"].call(B,(B&&B.shortAddress),{hash:{},inverse:u.noop,fn:u.program(25,g,I),data:I});if(n||n===0){A+=n}n=z["if"].call(B,(B&&B.addressLine2),{hash:{},inverse:u.noop,fn:u.program(28,e,I),data:I});if(n||n===0){A+=n}n=z["if"].call(B,(B&&B.hoursToday),{hash:{},inverse:u.noop,fn:u.program(30,x,I),data:I});if(n||n===0){A+=n}A+="</ul></div>";return A});this["DDG"]["templates"]["place_snippet"]=Handlebars.template(function(f,n,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,h="function",j=this.escapeExpression,p=this;function c(v,u){var r="",s,t;r+='<a href="';if(t=e.url){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.url);s=typeof t===h?t.call(v,{hash:{},data:u}):t}r+=j(s)+'" class="module__link place-snippet__link">';if(t=e.title){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.title);s=typeof t===h?t.call(v,{hash:{},data:u}):t}r+=j(s)+"</a>";return r}function a(t,s){var r;r=e["if"].call(t,(t&&t.action),{hash:{},inverse:p.program(6,o,s),fn:p.program(4,q,s),data:s});if(r||r===0){return r}else{return""}}function q(v,u){var r="",s,t;r+='<a href="#" class="module__link place-snippet__link js-place-snippet-trigger">';if(t=e.title){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.title);s=typeof t===h?t.call(v,{hash:{},data:u}):t}r+=j(s)+"</a>";return r}function o(u,t){var r,s;if(s=e.title){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.title);r=typeof s===h?s.call(u,{hash:{},data:t}):s}return j(r)}i+='<div class="module place-snippet"><h2 class="place-snippet__header module__title__link">';b=e["if"].call(n,(n&&n.url),{hash:{},inverse:p.program(3,a,k),fn:p.program(1,c,k),data:k});if(b||b===0){i+=b}i+='</h2><p class="place-snippet__subtitle module__title__sub"><a href="#" class="place-snippet__subtitle-name js-place-snippet-subtitle-name">';if(g=e.name){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.name);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+"</a>";if(g=e.infoType){b=g.call(n,{hash:{},data:k})}else{g=(n&&n.infoType);b=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(b)+"</p></div>";return i});this["DDG"]["templates"]["places_module"]=Handlebars.template(function(e,m,c,k,j){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);j=j||{};var h="",a,f,g="function",i=this.escapeExpression,n=this;function b(p,o){return'<div class="module__toggle module__toggle--map js-places-module-map"><span class="btn module__toggle__chevron--alt">></span><div class="module__toggle__text">Show More</div></div>'}h+='<div class="module module--places js-module--';if(f=c.id){a=f.call(m,{hash:{},data:j})}else{f=(m&&m.id);a=typeof f===g?f.call(m,{hash:{},data:j}):f}h+=i(a)+'"><div class="js-places-module-content"></div>';a=c["if"].call(m,(m&&m.isSingle),{hash:{},inverse:n.noop,fn:n.program(1,b,j),data:j});if(a||a===0){h+=a}h+="</div>";return h});this["DDG"]["templates"]["places_multiple"]=Handlebars.template(function(f,k,e,i,h){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);h=h||{};var g="",b,j=e.helperMissing,m=this;function c(s,r){var n="",p,q,o;n+='<div class="module__toggle module__toggle--map js-places-multiple-expand"><span class="btn module__toggle__chevron--alt">></span><div class="module__toggle__text">';p=(q=e.l||(s&&s.l),o={hash:{},data:r},q?q.call(s,"More Places",o):j.call(s,"l","More Places",o));if(p||p===0){n+=p}n+="</div></div>";return n}function a(s,r){var n="",p,q,o;n+='<div class="module__places-more module__section"><span class="module__link module__link--blue module__places-more__link--more-places js-places-multiple-expand">';p=(q=e.l||(s&&s.l),o={hash:{},data:r},q?q.call(s,"More Places",o):j.call(s,"l","More Places",o));if(p||p===0){n+=p}n+="</span></div>";return n}g+='<div class="module--places-multiple js-places-multiple"><div class=\'module__places-multiple__top-left js-places-multiple-top-left\'></div><div class=\'module__places-multiple__top-right js-places-multiple-top-right\'></div><div class="module__header"><div class="module__header__map js-places-multiple-map" /><div class="module__header__shadow"></div></div><div class="module__place-list js-places-multiple-list"></div>';b=e["if"].call(k,(k&&k.isMobile),{hash:{},inverse:m.program(3,a,h),fn:m.program(1,c,h),data:h});if(b||b===0){g+=b}g+="</div>";return g});this["DDG"]["templates"]["places_single"]=Handlebars.template(function(e,f,b,a,c){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,e.helpers);c=c||{};return'<div class="js-places-module-content js-places-single"></div>'});this["DDG"]["templates"]["places_single_map"]=Handlebars.template(function(e,i,c,h,g){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);g=g||{};var f="",a,j=this;function b(m,k){return'<div class="places-single-map__placeholder"></div>'}f+='<div class="places-single-map">';a=c["if"].call(i,(i&&i.showPlaceholder),{hash:{},inverse:j.noop,fn:j.program(1,b,g),data:g});if(a||a===0){f+=a}f+="</div>";return f});this["DDG"]["templates"]["region_filter"]=Handlebars.template(function(f,n,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",a,g,q=this,h="function",j=this.escapeExpression;function c(v,u){var s="",t;s+="is-active ";t=e["if"].call(v,(v&&v.hasActiveRegion),{hash:{},inverse:q.program(2,b,u),fn:q.noop,data:u});if(t||t===0){s+=t}return s}function b(t,s){return"has-inactive-region"}function r(v,u){var s="",t;s+='<div class="dropdown__switch switch js-region-filter-switch ';t=e["if"].call(v,(v&&v.hasActiveRegion),{hash:{},inverse:q.noop,fn:q.program(5,p,u),data:u});if(t||t===0){s+=t}s+='"><span class="switch__knob"></span></div>';return s}function p(t,s){return"is-on"}function o(t,s){return"all"}i+='<div class="dropdown dropdown--region ';a=e["if"].call(n,(n&&n.hasRegion),{hash:{},inverse:q.noop,fn:q.program(1,c,k),data:k});if(a||a===0){i+=a}i+='">';a=e["if"].call(n,(n&&n.hasRegion),{hash:{},inverse:q.noop,fn:q.program(4,r,k),data:k});if(a||a===0){i+=a}i+='<a class="dropdown__button dropdown__button js-dropdown-button ';a=e["if"].call(n,(n&&n.isAllRegion),{hash:{},inverse:q.noop,fn:q.program(7,o,k),data:k});if(a||a===0){i+=a}i+='">';if(g=e.regionName){a=g.call(n,{hash:{},data:k})}else{g=(n&&n.regionName);a=typeof g===h?g.call(n,{hash:{},data:k}):g}i+=j(a)+"</a></div>";return i});this["DDG"]["templates"]["region_filter_modal"]=Handlebars.template(function(g,m,f,j,i){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,g.helpers);i=i||{};var h="",b,k=f.helperMissing,q=this;function e(s,r){return"modal--popover modal--popover--gray"}function a(s,r){return"modal--popout"}function p(x,v){var r="",t,u,s;r+='<div class="modal__header"><span class="modal__header__title">';t=(u=f.l||(x&&x.l),s={hash:{},data:v},u?u.call(x,"Filter by Region",s):k.call(x,"l","Filter by Region",s));if(t||t===0){r+=t}r+='</span><a href="#"  class="modal__close  js-modal-close">X</a></div>';return r}function o(x,v){var r="",t,u,s;r+='<div class="modal__header"><input class="frm__input  js-region-filter-input" placeholder="';t=(u=f.l||(x&&x.l),s={hash:{},data:v},u?u.call(x,"Search",s):k.call(x,"l","Search",s));if(t||t===0){r+=t}r+='" />';t=f["if"].call(x,(x&&x.hasRegionOrSuggested),{hash:{},inverse:q.noop,fn:q.program(8,n,v),data:v});if(t||t===0){r+=t}r+="</div>";return r}function n(x,v){var r="",t,u,s;r+='<a class="modal__header__clear sep--before js-region-filter-clear">';t=(u=f.l||(x&&x.l),s={hash:{},data:v},u?u.call(x,"Clear All",s):k.call(x,"l","Clear All",s));if(t||t===0){r+=t}r+="</a>";return r}function c(x,v){var r="",t,u,s;r+='<div class="modal__body__input"><input class="frm__input  js-region-filter-input" placeholder="';t=(u=f.l||(x&&x.l),s={hash:{},data:v},u?u.call(x,"Search",s):k.call(x,"l","Search",s));if(t||t===0){r+=t}r+='" /></div>';return r}h+='<div class="modal modal--dropdown ';b=f["if"].call(m,(m&&m.isPopover),{hash:{},inverse:q.program(3,a,i),fn:q.program(1,e,i),data:i});if(b||b===0){h+=b}h+=' modal--dropdown--region has-header js-dropdown-popout"><div class="modal__overlay  js-modal-close"></div><div class="modal__wrap"><div class="modal__box">';b=f["if"].call(m,(m&&m.isPopover),{hash:{},inverse:q.program(7,o,i),fn:q.program(5,p,i),data:i});if(b||b===0){h+=b}h+='<div class="modal__body">';b=f["if"].call(m,(m&&m.isPopover),{hash:{},inverse:q.noop,fn:q.program(10,c,i),data:i});if(b||b===0){h+=b}h+='<ol class="modal__list  js-region-filter-list"></ol></div></div></div></div>';return h});this["DDG"]["templates"]["region_filter_modal_items"]=Handlebars.template(function(f,n,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",b,m=e.helperMissing,p=this,g="function",i=this.escapeExpression;function c(x,v){var r="",t,u,s;r+='<div class="modal__list__header">';t=(u=e.lp||(x&&x.lp),s={hash:{},data:v},u?u.call(x,"region filter","Recent:",s):m.call(x,"lp","region filter","Recent:",s));if(t||t===0){r+=t}r+='<a class="modal__list__clear js-region-filter-clear no-visited" href="#">';t=(u=e.l||(x&&x.l),s={hash:{},data:v},u?u.call(x,"Clear",s):m.call(x,"l","Clear",s));if(t||t===0){r+=t}r+="</a></div>";return r}function a(v,u){var r="",s,t;s=e["if"].call(v,(v&&v.showDivider),{hash:{},inverse:p.noop,fn:p.program(4,q,u),data:u});if(s||s===0){r+=s}r+='<li class="modal__list__item"><a class="modal__list__link  ';s=e["if"].call(v,(v&&v.selected),{hash:{},inverse:p.noop,fn:p.program(6,o,u),data:u});if(s||s===0){r+=s}r+=' js-region-filter-link" data-id="';if(t=e.id){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.id);s=typeof t===g?t.call(v,{hash:{},data:u}):t}r+=i(s)+'" data-index="'+i(((s=(u==null||u===false?u:u.index)),typeof s===g?s.apply(v):s))+'"><span class="region-flag__wrap region-flag__wrap--small has-region"><span class="flag-xs  flag-xs-';if(t=e.countryCode){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.countryCode);s=typeof t===g?t.call(v,{hash:{},data:u}):t}r+=i(s)+'"></span></span>';if(t=e.name){s=t.call(v,{hash:{},data:u})}else{t=(v&&v.name);s=typeof t===g?t.call(v,{hash:{},data:u}):t}r+=i(s)+"</a></li>";return r}function q(s,r){return'<li class="modal__list__divider"></li>'}function o(s,r){return"is-selected"}b=e["if"].call(n,(n&&n.showListHeader),{hash:{},inverse:p.noop,fn:p.program(1,c,j),data:j});if(b||b===0){h+=b}b=e.each.call(n,(n&&n.regions),{hash:{},inverse:p.noop,fn:p.program(3,a,j),data:j});if(b||b===0){h+=b}return h});this["DDG"]["templates"]["related_searches_module"]=Handlebars.template(function(f,o,e,m,k){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);k=k||{};var i="",b,g,r,h="function",j=this.escapeExpression,q=this,n=e.helperMissing;function c(t,s){return'<div class="related-searches t-m at-bottom">'}function a(t,s){return'<div class="related-searches t-m">'}function p(x,v){var s="",t,u;s+='<li class="related-searches__item"><a class="result__a related-searches__link js-related-searches-link" href="';if(u=e.web_search_url){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.web_search_url);t=typeof u===h?u.call(x,{hash:{},data:v}):u}s+=j(t)+'"><span class="related-searches__item-text"><span>';if(u=e.display_text){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.display_text);t=typeof u===h?u.call(x,{hash:{},data:v}):u}if(t||t===0){s+=t}s+="&ZeroWidthSpace;</span></span></a></li>";return s}b=e["if"].call(o,(o&&o.isAtBottom),{hash:{},inverse:q.program(3,a,k),fn:q.program(1,c,k),data:k});if(b||b===0){i+=b}i+='<p class="related-searches__title-long">';b=(g=e.l||(o&&o.l),r={hash:{},data:k},g?g.call(o,'Searches related to "%s"',(o&&o.query),r):n.call(o,"l",'Searches related to "%s"',(o&&o.query),r));if(b||b===0){i+=b}i+='</p><p class="related-searches__title-short">';b=(g=e.l||(o&&o.l),r={hash:{},data:k},g?g.call(o,"Related Searches",r):n.call(o,"l","Related Searches",r));if(b||b===0){i+=b}i+='</p><div class="related-searches__lists"><ol class="related-searches__list related-searches__list--first">';b=e.each.call(o,(o&&o.firstHalf),{hash:{},inverse:q.noop,fn:q.program(5,p,k),data:k});if(b||b===0){i+=b}i+='</ol><ol class="related-searches__list">';b=e.each.call(o,(o&&o.secondHalf),{hash:{},inverse:q.noop,fn:q.program(5,p,k),data:k});if(b||b===0){i+=b}i+="</ol></div></div>";return i});this["DDG"]["templates"]["report_ads_button"]=Handlebars.template(function(c,j,b,h,g){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);g=g||{};var f="",a,e,k,i=b.helperMissing;f+='<div class="report-ad"><span class="report-ad__start js-report-ad-start"><i class="ddgsi-comment ddgsi"></i><a href="#" class="report-ad__link">';a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"ads","Report Ad",k):i.call(j,"lp","ads","Report Ad",k));if(a||a===0){f+=a}f+="</a></span></div>";return f});this["DDG"]["templates"]["report_image_modal"]=Handlebars.template(function(e,n,c,k,j){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);j=j||{};var h="",a,f,p,g="function",i=this.escapeExpression,m=c.helperMissing,o=this;function b(u,t){var q="",r,s;q+='<option value="';if(s=c.val){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.val);r=typeof s===g?s.call(u,{hash:{},data:t}):s}q+=i(r)+'">';if(s=c.text){r=s.call(u,{hash:{},data:t})}else{s=(u&&u.text);r=typeof s===g?s.call(u,{hash:{},data:t}):s}q+=i(r)+"</option>";return q}h+='<div class="modal modal--popover  modal--popover--gray feedback-modal"><a href="#" class="modal__overlay js-modal-close"></a><div class="modal__wrap modal__wrap--feedback"><div class="modal__box modal__box--feedback"><div class="modal__box__content js-feedback-form"><h5 class="feedback-modal__heading"><span class="feedback-modal__heading__main">';a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"Report image modal","Report this image",p):m.call(n,"lp","Report image modal","Report this image",p));if(a||a===0){h+=a}h+='</span><a href="#" class="feedback-modal__close modal__close js-modal-close">X</a></h5><div class="frm frm--feedback"><div class="feedback-modal__image"><img src="'+i((f=c.imageProxy||(n&&n.imageProxy),p={hash:{},data:j},f?f.call(n,(n&&n.thumbnail),p):m.call(n,"imageProxy",(n&&n.thumbnail),p)))+'"></div><div class="frm__select feedback-modal__input feedback-modal__input--dropdown"><select class="js-feedback-dropdown">';a=c.each.call(n,(n&&n.options),{hash:{},inverse:o.noop,fn:o.program(1,b,j),data:j});if(a||a===0){h+=a}h+='</select></div><textarea class="frm__text feedback-modal__input feedback-modal__input--text js-feedback-comment"></textarea><a href="#" class="feedback-modal__submit is-disabled btn btn--primary--alt js-feedback-submit">';a=(f=c.l||(n&&n.l),p={hash:{},data:j},f?f.call(n,"Submit",p):m.call(n,"l","Submit",p));if(a||a===0){h+=a}h+='</a></div></div><div class="modal__box__content js-feedback-success"><h5 class="feedback-modal__heading feedback-modal__heading--success">';a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"feedback form","Feedback Sent",p):m.call(n,"lp","feedback form","Feedback Sent",p));if(a||a===0){h+=a}h+='<a href="#" class="feedback-modal__close modal__close js-modal-close">X</a></h5><p class="feedback-modal__message">';a=(f=c.l||(n&&n.l),p={hash:{},data:j},f?f.call(n,"Thank you!",p):m.call(n,"l","Thank you!",p));if(a||a===0){h+=a}h+=" ";a=(f=c.lp||(n&&n.lp),p={hash:{},data:j},f?f.call(n,"feedback form","We use feedback like this to improve DuckDuckGo.",p):m.call(n,"lp","feedback form","We use feedback like this to improve DuckDuckGo.",p));if(a||a===0){h+=a}h+="</p></div></div></div></div>";return h});this["DDG"]["templates"]["result_extras"]=Handlebars.template(function(g,n,f,m,k){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,g.helpers);k=k||{};var i="",a,q=this,h="function",j=this.escapeExpression;function e(v,u){var s="",t;s+='<span class="result__icon ';t=f["if"].call(v,((t=(v&&v.icon)),t==null||t===false?t:t.hide),{hash:{},inverse:q.noop,fn:q.program(2,b,u),data:u});if(t||t===0){s+=t}s+='"><a href="'+j(((t=((t=(v&&v.icon)),t==null||t===false?t:t.siteSearchUrl)),typeof t===h?t.apply(v):t))+'" title="'+j(((t=((t=(v&&v.icon)),t==null||t===false?t:t.title)),typeof t===h?t.apply(v):t))+'" class="js-result-extras-site_search"><img ';t=f["if"].call(v,((t=(v&&v.icon)),t==null||t===false?t:t.lazyLoad),{hash:{},inverse:q.noop,fn:q.program(4,r,u),data:u});if(t||t===0){s+=t}s+='src="'+j(((t=((t=(v&&v.icon)),t==null||t===false?t:t.imageUrl)),typeof t===h?t.apply(v):t))+'" height="16" width="16" title="'+j(((t=((t=(v&&v.icon)),t==null||t===false?t:t.title)),typeof t===h?t.apply(v):t))+'" class="result__icon__img js-lazyload-icons"></a></span>';return s}function b(t,s){return"is-hidden"}function r(t,s){return"data-"}function p(t,s){return'target="_blank"'}function o(u,t){var s;return j(((s=((s=(u&&u.link)),s==null||s===false?s:s.prefix)),typeof s===h?s.apply(u):s))}function c(v,u){var s="",t;s+="/"+j(((t=((t=(v&&v.link)),t==null||t===false?t:t.path)),typeof t===h?t.apply(v):t));return s}i+='<div class="result__extras__url">';a=f["if"].call(n,(n&&n.icon),{hash:{},inverse:q.noop,fn:q.program(1,e,k),data:k});if(a||a===0){i+=a}i+='<a href="'+j(((a=((a=(n&&n.link)),a==null||a===false?a:a.href)),typeof a===h?a.apply(n):a))+'" rel="noopener" ';a=f["if"].call(n,((a=(n&&n.link)),a==null||a===false?a:a.targetBlank),{hash:{},inverse:q.noop,fn:q.program(6,p,k),data:k});if(a||a===0){i+=a}i+=' class="result__url js-result-extras-url"><span class="result__url__domain">';a=f["if"].call(n,((a=(n&&n.link)),a==null||a===false?a:a.prefix),{hash:{},inverse:q.noop,fn:q.program(8,o,k),data:k});if(a||a===0){i+=a}i+=j(((a=((a=(n&&n.link)),a==null||a===false?a:a.domain)),typeof a===h?a.apply(n):a))+'</span><span class="result__url__full">';a=f["if"].call(n,((a=(n&&n.link)),a==null||a===false?a:a.path),{hash:{},inverse:q.noop,fn:q.program(10,c,k),data:k});if(a||a===0){i+=a}i+="</span></a></div>";return i});this["DDG"]["templates"]["result_extras_ad"]=Handlebars.template(function(f,m,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",a,p=this,g="function",i=this.escapeExpression;function c(u,t){var r="",s;r+='<span class="result__icon ';s=e["if"].call(u,((s=(u&&u.icon)),s==null||s===false?s:s.hide),{hash:{},inverse:p.noop,fn:p.program(2,b,t),data:t});if(s||s===0){r+=s}r+='"><img ';s=e["if"].call(u,((s=(u&&u.icon)),s==null||s===false?s:s.lazyLoad),{hash:{},inverse:p.noop,fn:p.program(4,q,t),data:t});if(s||s===0){r+=s}r+='src="'+i(((s=((s=(u&&u.icon)),s==null||s===false?s:s.imageUrl)),typeof s===g?s.apply(u):s))+'" height="16" width="16" class="result__icon__img js-lazyload-icons"></span>';return r}function b(s,r){return"is-hidden"}function q(s,r){return"data-"}function o(s,r){return'target="_blank"'}function n(u,t){var r="",s;r+="/"+i(((s=((s=(u&&u.link)),s==null||s===false?s:s.path)),typeof s===g?s.apply(u):s));return r}h+='<div class="result__extras__url">';a=e["if"].call(m,(m&&m.icon),{hash:{},inverse:p.noop,fn:p.program(1,c,j),data:j});if(a||a===0){h+=a}h+='<a href="'+i(((a=((a=(m&&m.link)),a==null||a===false?a:a.href)),typeof a===g?a.apply(m):a))+'" rel="noopener" ';a=e["if"].call(m,((a=(m&&m.link)),a==null||a===false?a:a.targetBlank),{hash:{},inverse:p.noop,fn:p.program(6,o,j),data:j});if(a||a===0){h+=a}h+=' class="result__url js-result-extras-url">'+i(((a=((a=(m&&m.link)),a==null||a===false?a:a.domain)),typeof a===g?a.apply(m):a));a=e["if"].call(m,((a=(m&&m.link)),a==null||a===false?a:a.path),{hash:{},inverse:p.noop,fn:p.program(8,n,j),data:j});if(a||a===0){h+=a}h+="</a></div>";return h});this["DDG"]["templates"]["result_extras_unencrypted"]=Handlebars.template(function(f,n,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",b,m=e.helperMissing,g="function",i=this.escapeExpression,q=this;function c(v,u){var s,t,r;s=(t=e.include||(v&&v.include),r={hash:{icon:((v&&v.icon))},data:u},t?t.call(v,"result_icon_lock",r):m.call(v,"include","result_icon_lock",r));if(s||s===0){return s}else{return""}}function a(s,r){return'target="_blank"'}function p(u,t){var r="",s;r+="/"+i(((s=((s=(u&&u.link)),s==null||s===false?s:s.path)),typeof s===g?s.apply(u):s));return r}function o(x,v){var r="",t,u,s;r+='<div class="modal modal--popout modal--popout--bottom-right tooltip js-result-extras-url-tooltip"><div class="modal__box tooltip__box"><div href="#"  class="modal__close  js-result-extras-close">X</div><div class="modal__body tooltip__body"><p><strong>';t=(u=e.lp||(x&&x.lp),s={hash:{},data:v},u?u.call(x,"Lock icon next to HTTP search result","This webpage does not use a secure, encrypted, connection (HTTPS).",s):m.call(x,"lp","Lock icon next to HTTP search result","This webpage does not use a secure, encrypted, connection (HTTPS).",s));if(t||t===0){r+=t}r+="</strong></p><p>";t=(u=e.lp||(x&&x.lp),s={hash:{},data:v},u?u.call(x,"Lock icon next to HTTP search result","That means information sent between your device and the webpage behind this link is at increased risk of being intercepted by a third party. In rare cases this includes passwords, or payment details.",s):m.call(x,"lp","Lock icon next to HTTP search result","That means information sent between your device and the webpage behind this link is at increased risk of being intercepted by a third party. In rare cases this includes passwords, or payment details.",s));if(t||t===0){r+=t}r+="</p></div></div></div>";return r}h+='<div class="result__extras__url">';b=e["if"].call(n,(n&&n.icon),{hash:{},inverse:q.noop,fn:q.program(1,c,j),data:j});if(b||b===0){h+=b}h+='<a href="'+i(((b=((b=(n&&n.link)),b==null||b===false?b:b.href)),typeof b===g?b.apply(n):b))+'" rel="noopener" ';b=e["if"].call(n,((b=(n&&n.link)),b==null||b===false?b:b.targetBlank),{hash:{},inverse:q.noop,fn:q.program(3,a,j),data:j});if(b||b===0){h+=b}h+=' class="result__url js-result-extras-url"><span class="result__url__prefix">'+i(((b=((b=(n&&n.link)),b==null||b===false?b:b.prefix)),typeof b===g?b.apply(n):b))+"</span>"+i(((b=((b=(n&&n.link)),b==null||b===false?b:b.domain)),typeof b===g?b.apply(n):b));b=e["if"].call(n,((b=(n&&n.link)),b==null||b===false?b:b.path),{hash:{},inverse:q.noop,fn:q.program(5,p,j),data:j});if(b||b===0){h+=b}b=e["if"].call(n,(n&&n.icon),{hash:{},inverse:q.program(7,o,j),fn:q.noop,data:j});if(b||b===0){h+=b}h+="</a></div>";return h});this["DDG"]["templates"]["result_icon_lock"]=Handlebars.template(function(e,k,c,i,h){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);h=h||{};var g="",a,f,n,m=this,j=c.helperMissing;function b(p,o){return"is-hidden"}g+='<span class="result__icon ';a=c["if"].call(k,((a=(k&&k.icon)),a==null||a===false?a:a.hide),{hash:{},inverse:m.noop,fn:m.program(1,b,h),data:h});if(a||a===0){g+=a}g+=' js-result-extras-icon"><svg height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><path class="lock" d="m10.1043723 3.8577266c-.5403886-.53142272-1.28129439-.8592123-2.09868378-.8592123-1.65398524 0-2.99480519 1.34214799-2.99480519 2.99777145h-.00395417v.99925715h1.96296111l-4.95381213 4.9590817v-4.9590817h.9982684v-.99925715c0-2.75937243 2.23469992-4.99628575 4.99134198-4.99628575 1.36869159 0 2.60871448.55144169 3.51042998 1.44447865zm2.9298958 3.1378163h.9610308v7.9940572h-8.94659344zm.7967496-3.8391033c.290582.29078144.2906695.76199285.0001955 1.05288217l-10.60699271 10.62215773c-.29007727.290492-.76072165.2908282-1.05121366.0007509-.00018538-.0001851-.00037066-.0003703-.00055584-.0005556-.29058204-.2907814-.29066953-.7619929-.0001955-1.0528822l10.60699271-10.6221577c.2900773-.29049201.7607217-.29082821 1.0512137-.00075094.0001853.00018512.0003706.00037033.0005558.00055564z" fill="#222"/></svg><div class="modal modal--popout modal--popout--bottom-right tooltip js-result-extras-tooltip"><div class="modal__box tooltip__box"><a href="#"  class="modal__close  js-result-extras-close">X</a><div class="modal__body tooltip__body"><p><strong>';a=(f=c.lp||(k&&k.lp),n={hash:{},data:h},f?f.call(k,"Lock icon next to HTTP search result","This webpage does not use a secure, encrypted, connection (HTTPS).",n):j.call(k,"lp","Lock icon next to HTTP search result","This webpage does not use a secure, encrypted, connection (HTTPS).",n));if(a||a===0){g+=a}g+="</strong></p><p>";a=(f=c.lp||(k&&k.lp),n={hash:{},data:h},f?f.call(k,"Lock icon next to HTTP search result","That means information sent between your device and the webpage behind this link is at increased risk of being intercepted by a third party. In rare cases this includes passwords, or payment details.",n):j.call(k,"lp","Lock icon next to HTTP search result","That means information sent between your device and the webpage behind this link is at increased risk of being intercepted by a third party. In rare cases this includes passwords, or payment details.",n));if(a||a===0){g+=a}g+="</p></div></div></div></span>";return g});this["DDG"]["templates"]["result_snippet"]=Handlebars.template(function(e,k,c,j,i){this.compilerInfo=[4,">= 1.0.0"];c=this.merge(c,e.helpers);i=i||{};var g="",a,f="function",h=this.escapeExpression,m=this;function b(q,p){var n="",o;n+='<span class="result__date">'+h(((o=((o=(q&&q.model)),o==null||o===false?o:o.formattedDate)),typeof o===f?o.apply(q):o))+"</span>";return n}g+='<div class="result__snippet js-result-snippet">';a=c["if"].call(k,((a=(k&&k.model)),a==null||a===false?a:a.formattedDate),{hash:{},inverse:m.noop,fn:m.program(1,b,i),data:i});if(a||a===0){g+=a}a=((a=((a=(k&&k.model)),a==null||a===false?a:a.organicResultSnippet)),typeof a===f?a.apply(k):a);if(a||a===0){g+=a}g+="</div>";return g});this["DDG"]["templates"]["result_snippet_ad"]=Handlebars.template(function(f,m,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",a,g="function",i=this.escapeExpression,n=this;function c(s,q,r){var o="",p;o+='<a href="'+i(((p=((p=(r&&r.model)),p==null||p===false?p:p.href)),typeof p===g?p.apply(s):p))+'" rel="noopener" ';p=e["if"].call(s,((p=(r&&r.model)),p==null||p===false?p:p.targetBlank),{hash:{},inverse:n.noop,fn:n.program(2,b,q),data:q});if(p||p===0){o+=p}o+=">";p=(typeof s===g?s.apply(s):s);if(p||p===0){o+=p}o+="</a><br>";return o}function b(p,o){return'target="_blank"'}h+='<div class="result__snippet js-result-snippet">';a=e.each.call(m,((a=(m&&m.model)),a==null||a===false?a:a.snippets),{hash:{},inverse:n.noop,fn:n.programWithDepth(1,c,j,m),data:j});if(a||a===0){h+=a}h+="</div>";return h});this["DDG"]["templates"]["safe_search"]=Handlebars.template(function(f,m,e,j,i){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);i=i||{};var h="",b,g,o,k=e.helperMissing,n=this;function c(t,s){var q,r,p;q=(r=e.l||(t&&t.l),p={hash:{},data:s},r?r.call(t,"Safe search blocked results for %s.",(t&&t.searchTerm),p):k.call(t,"l","Safe search blocked results for %s.",(t&&t.searchTerm),p));if(q||q===0){return q}else{return""}}function a(t,s){var q,r,p;q=(r=e.l||(t&&t.l),p={hash:{},data:s},r?r.call(t,"Safe search blocked some results for %s.",(t&&t.searchTerm),p):k.call(t,"l","Safe search blocked some results for %s.",(t&&t.searchTerm),p));if(q||q===0){return q}else{return""}}h+='<div class="msg msg--serp"><span class="msg__label js-safe-search">';b=e["if"].call(m,(m&&m.noResults),{hash:{},inverse:n.program(3,a,i),fn:n.program(1,c,i),data:i});if(b||b===0){h+=b}h+='</span><span class="msg__btn-wrap"><span class="msg__label">';b=(g=e.l||(m&&m.l),o={hash:{},data:i},g?g.call(m,"Turn off:",o):k.call(m,"l","Turn off:",o));if(b||b===0){h+=b}h+='</span><a href="#" class="btn  msg__btn  js-safe-search-temp">';b=(g=e.l||(m&&m.l),o={hash:{},data:i},g?g.call(m,"temporarily",o):k.call(m,"l","temporarily",o));if(b||b===0){h+=b}h+='</a><a href="/settings" class="btn  msg__btn  js-safe-search-perm">';b=(g=e.l||(m&&m.l),o={hash:{},data:i},g?g.call(m,"permanently",o):k.call(m,"l","permanently",o));if(b||b===0){h+=b}h+="</a></span></div>";return h});this["DDG"]["templates"]["site_query"]=Handlebars.template(function(f,s,q,k,u){this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,f.helpers);u=u||{};var r="",h,a,e,p=q.helperMissing,c="function",b=this.escapeExpression,o=this;function n(A,z){var x,y,v;x=(y=q.l||(A&&A.l),v={hash:{},data:z},y?y.call(A,"Showing results excluding",v):p.call(A,"l","Showing results excluding",v));if(x||x===0){return x}else{return""}}function m(A,z){var x,y,v;x=(y=q.l||(A&&A.l),v={hash:{},data:z},y?y.call(A,"Showing results from",v):p.call(A,"l","Showing results from",v));if(x||x===0){return x}else{return""}}function j(x,v){return" msg__sites--mobile"}function i(A,y,z){var v="",x;v+='<span class="msg__site">';x=q["if"].call(A,(z&&z.hasMultipleSites),{hash:{},inverse:o.program(10,t,y),fn:o.program(8,g,y),data:y});if(x||x===0){v+=x}v+="</span>";return v}function g(A,z){var v="",x,y;v+='<a href="/?q=';if(y=q.clearQuery){x=y.call(A,{hash:{},data:z})}else{y=(A&&A.clearQuery);x=typeof y===c?y.call(A,{hash:{},data:z}):y}if(x||x===0){v+=x}v+='" class="msg__clear-filter  js-site-query-clear">';if(y=q.site){x=y.call(A,{hash:{},data:z})}else{y=(A&&A.site);x=typeof y===c?y.call(A,{hash:{},data:z}):y}v+=b(x)+' <span class="msg__clear-filter-x">X</span></a>';return v}function t(z,y){var v,x;if(x=q.site){v=x.call(z,{hash:{},data:y})}else{x=(z&&z.site);v=typeof x===c?x.call(z,{hash:{},data:y}):x}return b(v)}r+='<div class="msg  msg--serp  msg--site"><div class="msg__wrap"><span class="msg__text">';h=q["if"].call(s,(s&&s.isExcluding),{hash:{},inverse:o.program(3,m,u),fn:o.program(1,n,u),data:u});if(h||h===0){r+=h}r+=':</span><span class="msg__sites ';h=q["if"].call(s,(s&&s.forceBreak),{hash:{},inverse:o.noop,fn:o.program(5,j,u),data:u});if(h||h===0){r+=h}r+='">';h=q.each.call(s,(s&&s.sites),{hash:{},inverse:o.noop,fn:o.programWithDepth(7,i,u,s),data:u});if(h||h===0){r+=h}r+='<a href="/?q=';if(a=q.queryEncoded){h=a.call(s,{hash:{},data:u})}else{a=(s&&s.queryEncoded);h=typeof a===c?a.call(s,{hash:{},data:u}):a}if(h||h===0){r+=h}r+='" class="msg__all  js-site-query-clear"><span class="hide--screen-s">';h=(a=q.l||(s&&s.l),e={hash:{},data:u},a?a.call(s,"All Results",e):p.call(s,"l","All Results",e));if(h||h===0){r+=h}r+='</span><span class="hide  show--screen-s">';h=(a=q.l||(s&&s.l),e={hash:{},data:u},a?a.call(s,"All",e):p.call(s,"l","All",e));if(h||h===0){r+=h}r+="</span></a></span></div></div>";return r});this["DDG"]["templates"]["sitelinks"]=Handlebars.template(function(c,q,o,h,s){this.compilerInfo=[4,">= 1.0.0"];o=this.merge(o,c.helpers);s=s||{};var p="",f,m=this,b="function",a=this.escapeExpression,n=o.helperMissing;function k(B,z,A){var u="",x,y,v;x=o["if"].call(B,(z==null||z===false?z:z.first),{hash:{},inverse:m.noop,fn:m.program(2,j,z),data:z});if(x||x===0){u+=x}x=o["if"].call(B,(B&&B.nextRow),{hash:{},inverse:m.noop,fn:m.program(4,i,z),data:z});if(x||x===0){u+=x}u+='<div class="js-sitelink result__sitelink-col ';x=o["if"].call(B,(z==null||z===false?z:z.last),{hash:{},inverse:m.noop,fn:m.program(6,g,z),data:z});if(x||x===0){u+=x}u+='" id="sl-';if(y=o.idx){x=y.call(B,{hash:{},data:z})}else{y=(B&&B.idx);x=typeof y===b?y.call(B,{hash:{},data:z}):y}u+=a(x)+'" data-domain="';if(y=o.domainName){x=y.call(B,{hash:{},data:z})}else{y=(B&&B.domainName);x=typeof y===b?y.call(B,{hash:{},data:z}):y}u+=a(x)+'"><a class="result__sitelink-title result__a';x=o["if"].call(B,(A&&A.isDesktop),{hash:{},inverse:m.noop,fn:m.program(8,e,z),data:z});if(x||x===0){u+=x}u+='" href="';if(y=o.targetUrl){x=y.call(B,{hash:{},data:z})}else{y=(B&&B.targetUrl);x=typeof y===b?y.call(B,{hash:{},data:z}):y}u+=a(x)+'" data-idx="';if(y=o.idx){x=y.call(B,{hash:{},data:z})}else{y=(B&&B.idx);x=typeof y===b?y.call(B,{hash:{},data:z}):y}u+=a(x)+'" rel="noopener" ';x=o["if"].call(B,(A&&A.newWindow),{hash:{},inverse:m.noop,fn:m.program(10,t,z),data:z});if(x||x===0){u+=x}u+=">";if(y=o.text){x=y.call(B,{hash:{},data:z})}else{y=(B&&B.text);x=typeof y===b?y.call(B,{hash:{},data:z}):y}u+=a(x)+'</a><div class="result__snippet">'+a((y=o.ellipsis||(B&&B.ellipsis),v={hash:{},data:z},y?y.call(B,(B&&B.snippet),71,v):n.call(B,"ellipsis",(B&&B.snippet),71,v)))+"</div></div>";x=o["if"].call(B,(z==null||z===false?z:z.last),{hash:{},inverse:m.noop,fn:m.program(12,r,z),data:z});if(x||x===0){u+=x}return u}function j(v,u){return'<div class="result__sitelink-row">'}function i(v,u){return'</div><div class="result__sitelink-row">'}function g(v,u){return"result__sitelink-col--last"}function e(v,u){return" result__sitelink-title--desktop"}function t(v,u){return'target="_blank"'}function r(v,u){return"</div>"}p+='<div class="results__sitelink--organics">';f=o.each.call(q,(q&&q.links),{hash:{},inverse:m.noop,fn:m.programWithDepth(1,k,s,q),data:s});if(f||f===0){p+=f}p+='<div style="clear: both;"></div></div>';return p});this["DDG"]["templates"]["spelling_dym"]=Handlebars.template(function(c,j,b,h,g){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);g=g||{};var f="",a,e,k,i=b.helperMissing;f+='<div id="did_you_mean" class="msg  msg--result  msg--spelling">';a=(e=b.l||(j&&j.l),k={hash:{},data:g},e?e.call(j,"Did you mean %s?",'<a class="js-spelling-suggestion-link"></a>',k):i.call(j,"l","Did you mean %s?",'<a class="js-spelling-suggestion-link"></a>',k));if(a||a===0){f+=a}f+="</div>";return f});this["DDG"]["templates"]["spelling_irf"]=Handlebars.template(function(c,j,b,h,g){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);g=g||{};var f="",a,e,k,i=b.helperMissing;f+='<div id="did_you_mean" class="msg  msg--result  msg--spelling"><div class="msg__wrap"><span class="msg__line">';a=(e=b.l||(j&&j.l),k={hash:{},data:g},e?e.call(j,"Including results for %s",'<a class="js-spelling-suggestion-link"></a>',k):i.call(j,"l","Including results for %s",'<a class="js-spelling-suggestion-link"></a>',k));if(a||a===0){f+=a}f+='</span><span class="msg__line  msg__line--small">';a=(e=b.l||(j&&j.l),k={hash:{},data:g},e?e.call(j,"Search only for %s?",'<a class="js-spelling-recourse-link"></a>',k):i.call(j,"l","Search only for %s?",'<a class="js-spelling-recourse-link"></a>',k));if(a||a===0){f+=a}f+="</span></div></div>";return f});this["DDG"]["templates"]["spelling_nmrc"]=Handlebars.template(function(c,j,b,h,g){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);g=g||{};var f="",a,e,k,i=b.helperMissing;f+='<div id="did_you_mean" class="msg  msg--result  msg--spelling"><div class="msg__wrap"><span class="msg__line">';a=(e=b.l||(j&&j.l),k={hash:{},data:g},e?e.call(j,"Not many results contain %s",'<span class="js-spelling-suggestion-link"></span>',k):i.call(j,"l","Not many results contain %s",'<span class="js-spelling-suggestion-link"></span>',k));if(a||a===0){f+=a}f+='</span><span class="msg__line  msg__line--small">';a=(e=b.l||(j&&j.l),k={hash:{},data:g},e?e.call(j,"Search only for %s?",'<a class="js-spelling-recourse-link"></a>',k):i.call(j,"l","Search only for %s?",'<a class="js-spelling-recourse-link"></a>',k));if(a||a===0){f+=a}f+="</span></div></div>";return f});this["DDG"]["templates"]["twitter_easter_egg"]=Handlebars.template(function(b,j,a,h,g){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,b.helpers);g=g||{};var e="",c,k,i=a.helperMissing,f=this.escapeExpression;e+='<img class="header__praise js-logo-praise" src="'+f((c=a.imageProxy||(j&&j.imageProxy),k={hash:{},data:g},c?c.call(j,"/assets/spread/praise.png",k):i.call(j,"imageProxy","/assets/spread/praise.png",k)))+'" /><img class="header__avatar js-logo-avatar" src="'+f((c=a.imageProxy||(j&&j.imageProxy),k={hash:{},data:g},c?c.call(j,(j&&j.image),k):i.call(j,"imageProxy",(j&&j.image),k)))+'" />';return e});this["DDG"]["templates"]["user_location_button"]=Handlebars.template(function(a,o,m,f,u){this.compilerInfo=[4,">= 1.0.0"];m=this.merge(m,a.helpers);u=u||{};var n="",c,k=m.helperMissing,j=this;function i(C,B){var x="",z,A,y;x+='<a class="btn btn--primary user-loc-btn__btn user-loc-btn__btn--waiting user-loc-btn__btn--first">';z=(A=m.include||(C&&C.include),y={hash:{className:("user-loc-btn__spinner spinner--dark")},data:B},A?A.call(C,"spinner",y):k.call(C,"include","spinner",y));if(z||z===0){x+=z}x+="<span>";z=(A=m.lp||(C&&C.lp),y={hash:{},data:B},A?A.call(C,"precise_user_location","Waiting for Location...",y):k.call(C,"lp","precise_user_location","Waiting for Location...",y));if(z||z===0){x+=z}x+='</span></a><a class="btn user-loc-btn__btn js-user-loc-btn-cancel">';z=(A=m.lp||(C&&C.lp),y={hash:{},data:B},A?A.call(C,"precise_user_location","Cancel",y):k.call(C,"lp","precise_user_location","Cancel",y));if(z||z===0){x+=z}x+="</a>";return x}function h(A,z){var x="",y;x+='<a class="btn ';y=m.unless.call(A,(A&&A.highlightManualLocationButton),{hash:{},inverse:j.noop,fn:j.program(4,g,z),data:z});if(y||y===0){x+=y}x+=" user-loc-btn__btn user-loc-btn__btn--first js-user-loc-btn-";y=m["if"].call(A,(A&&A.update),{hash:{},inverse:j.program(8,b,z),fn:j.program(6,e,z),data:z});if(y||y===0){x+=y}x+='">';y=m["if"].call(A,(A&&A.update),{hash:{},inverse:j.program(15,r,z),fn:j.program(10,v,z),data:z});if(y||y===0){x+=y}x+="</a>";y=m["if"].call(A,(A&&A.update),{hash:{},inverse:j.noop,fn:j.program(17,q,z),data:z});if(y||y===0){x+=y}y=m["if"].call(A,(A&&A.showManualLocationButton),{hash:{},inverse:j.noop,fn:j.program(19,p,z),data:z});if(y||y===0){x+=y}return x}function g(y,x){return"btn--primary"}function e(y,x){return"update"}function b(y,x){return"enable"}function v(z,y){var x;x=m["if"].call(z,(z&&z.problemUpdatingLocation),{hash:{},inverse:j.program(13,s,y),fn:j.program(11,t,y),data:y});if(x||x===0){return x}else{return""}}function t(B,A){var y,z,x;y=(z=m.lp||(B&&B.lp),x={hash:{},data:A},z?z.call(B,"precise_user_location","Set Manually",x):k.call(B,"lp","precise_user_location","Set Manually",x));if(y||y===0){return y}else{return""}}function s(B,A){var y,z,x;y=(z=m.lp||(B&&B.lp),x={hash:{},data:A},z?z.call(B,"precise_user_location","Update Location",x):k.call(B,"lp","precise_user_location","Update Location",x));if(y||y===0){return y}else{return""}}function r(B,A){var y,z,x;y=(z=m.lp||(B&&B.lp),x={hash:{},data:A},z?z.call(B,"precise_user_location","Enable Location",x):k.call(B,"lp","precise_user_location","Enable Location",x));if(y||y===0){return y}else{return""}}function q(C,B){var x="",z,A,y;x+='<a class="btn user-loc-btn__btn js-user-loc-btn-clear">';z=(A=m.lp||(C&&C.lp),y={hash:{},data:B},A?A.call(C,"precise_user_location","Clear Location",y):k.call(C,"lp","precise_user_location","Clear Location",y));if(z||z===0){x+=z}x+="</a>";return x}function p(C,B){var x="",z,A,y;x+='<a class="btn ';z=m["if"].call(C,(C&&C.highlightManualLocationButton),{hash:{},inverse:j.noop,fn:j.program(4,g,B),data:B});if(z||z===0){x+=z}x+=' user-loc-btn__btn js-user-loc-btn-manual">';z=(A=m.lp||(C&&C.lp),y={hash:{},data:B},A?A.call(C,"precise_user_location","Set Manually",y):k.call(C,"lp","precise_user_location","Set Manually",y));if(z||z===0){x+=z}x+="</a>";return x}n+='<div class="user-loc-btn">';c=m["if"].call(o,(o&&o.waiting),{hash:{},inverse:j.program(3,h,u),fn:j.program(1,i,u),data:u});if(c||c===0){n+=c}n+="</div>";return n});this["DDG"]["templates"]["user_location_button_current"]=Handlebars.template(function(a,o,m,f,s){this.compilerInfo=[4,">= 1.0.0"];m=this.merge(m,a.helpers);s=s||{};var n="",c,k=m.helperMissing,j=this;function i(A,z){var u="",x,y,v;u+='<a class="btn btn--primary user-loc-btn__btn user-loc-btn__btn--waiting user-loc-btn__btn--first">';x=(y=m.include||(A&&A.include),v={hash:{className:("user-loc-btn__spinner spinner--dark")},data:z},y?y.call(A,"spinner",v):k.call(A,"include","spinner",v));if(x||x===0){u+=x}u+="<span>";x=(y=m.lp||(A&&A.lp),v={hash:{},data:z},y?y.call(A,"precise_user_location","Waiting for Location...",v):k.call(A,"lp","precise_user_location","Waiting for Location...",v));if(x||x===0){u+=x}u+='</span></a><a class="btn user-loc-btn__btn js-user-loc-btn-cancel">';x=(y=m.lp||(A&&A.lp),v={hash:{},data:z},y?y.call(A,"precise_user_location","Cancel",v):k.call(A,"lp","precise_user_location","Cancel",v));if(x||x===0){u+=x}u+="</a>";return u}function h(y,x){var u="",v;u+='<a class="btn ';v=m.unless.call(y,(y&&y.highlightManualLocationButton),{hash:{},inverse:j.noop,fn:j.program(4,g,x),data:x});if(v||v===0){u+=v}u+=" user-loc-btn__btn user-loc-btn__btn--first js-user-loc-btn-";v=m["if"].call(y,(y&&y.update),{hash:{},inverse:j.program(8,b,x),fn:j.program(6,e,x),data:x});if(v||v===0){u+=v}u+='">';v=m["if"].call(y,(y&&y.update),{hash:{},inverse:j.program(12,r,x),fn:j.program(10,t,x),data:x});if(v||v===0){u+=v}u+="</a>";v=m["if"].call(y,(y&&y.update),{hash:{},inverse:j.noop,fn:j.program(14,q,x),data:x});if(v||v===0){u+=v}v=m["if"].call(y,(y&&y.showManualLocationButton),{hash:{},inverse:j.noop,fn:j.program(16,p,x),data:x});if(v||v===0){u+=v}return u}function g(v,u){return"btn--primary"}function e(v,u){return"update"}function b(v,u){return"enable"}function t(z,y){var v,x,u;v=(x=m.lp||(z&&z.lp),u={hash:{},data:y},x?x.call(z,"precise_user_location","Update",u):k.call(z,"lp","precise_user_location","Update",u));if(v||v===0){return v}else{return""}}function r(z,y){var v,x,u;v=(x=m.lp||(z&&z.lp),u={hash:{},data:y},x?x.call(z,"precise_user_location","Enable Location",u):k.call(z,"lp","precise_user_location","Enable Location",u));if(v||v===0){return v}else{return""}}function q(A,z){var u="",x,y,v;u+='<a class="btn user-loc-btn__btn js-user-loc-btn-clear">';x=(y=m.lp||(A&&A.lp),v={hash:{},data:z},y?y.call(A,"precise_user_location","Clear",v):k.call(A,"lp","precise_user_location","Clear",v));if(x||x===0){u+=x}u+="</a>";return u}function p(A,z){var u="",x,y,v;u+='<a class="btn ';x=m["if"].call(A,(A&&A.highlightManualLocationButton),{hash:{},inverse:j.noop,fn:j.program(4,g,z),data:z});if(x||x===0){u+=x}u+=' user-loc-btn__btn js-user-loc-btn-manual">';x=(y=m.lp||(A&&A.lp),v={hash:{},data:z},y?y.call(A,"precise_user_location","Set Manually",v):k.call(A,"lp","precise_user_location","Set Manually",v));if(x||x===0){u+=x}u+="</a>";return u}n+='<div class="user-loc-btn">';c=m["if"].call(o,(o&&o.waiting),{hash:{},inverse:j.program(3,h,s),fn:j.program(1,i,s),data:s});if(c||c===0){n+=c}n+="</div>";return n});this["DDG"]["templates"]["user_location_cta"]=Handlebars.template(function(c,j,b,h,g){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);g=g||{};var f="",a,e,k,i=b.helperMissing;f+='<div class="user-loc-cta"><span class="user-loc-cta__dismiss ddgsi js-user-loc-cta-dismiss">×</span><div class="js-user-loc-cta-initial"><img class="user-loc-cta__icon" src="/assets/pul-cta.svg" /><p class="user-loc-title">';a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"precise_user_location","Find results closer to you.",k):i.call(j,"lp","precise_user_location","Find results closer to you.",k));if(a||a===0){f+=a}f+='</p><p class="user-loc-subtitle user-loc-subtitle--cta">';a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"precise_user_location","Try enabling anonymous location for more accurate results.",k):i.call(j,"lp","precise_user_location","Try enabling anonymous location for more accurate results.",k));if(a||a===0){f+=a}f+=' <span class="user-loc-link js-user-loc-cta-show-more">';a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"expand_text","Show More",k):i.call(j,"lp","expand_text","Show More",k));if(a||a===0){f+=a}f+='</span></p><div class="user-loc-cta__more js-user-loc-cta-more is-hidden">';a=(e=b.include||(j&&j.include),k={hash:{},data:g},e?e.call(j,"user_location_info",k):i.call(j,"include","user_location_info",k));if(a||a===0){f+=a}f+="</div></div></div>";return f});this["DDG"]["templates"]["user_location_error"]=Handlebars.template(function(f,n,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",a,g="function",i=this.escapeExpression,q=this,m=e.helperMissing;function c(y,x){var s="",u,v,t;s+='<p class="user-loc-error__header ';u=e["if"].call(y,(y&&y.small),{hash:{},inverse:q.noop,fn:q.program(2,b,x),data:x});if(u||u===0){s+=u}s+='">';u=(v=e.lp||(y&&y.lp),t={hash:{},data:x},v?v.call(y,"precise_user_location","Browser Location Unavailable",t):m.call(y,"lp","precise_user_location","Browser Location Unavailable",t));if(u||u===0){s+=u}s+='</p><p class="user-loc-error__text">';u=(v=e.lp||(y&&y.lp),t={hash:{},data:x},v?v.call(y,"precise_user_location","Set your location manually, or ensure Location Services is enabled.",t):m.call(y,"lp","precise_user_location","Set your location manually, or ensure Location Services is enabled.",t));if(u||u===0){s+=u}s+=' <a class="user-loc-link js-user-loc-error-help" href="https://help.duckduckgo.com/results/local-results';u=e["if"].call(y,(y&&y.isMobile),{hash:{},inverse:q.noop,fn:q.program(4,r,x),data:x});if(u||u===0){s+=u}s+='/" target="_blank" rel="noopener">';u=(v=e.lp||(y&&y.lp),t={hash:{},data:x},v?v.call(y,"precise_user_location","Help",t):m.call(y,"lp","precise_user_location","Help",t));if(u||u===0){s+=u}s+="</a></p>";u=e["if"].call(y,(y&&y.instructions),{hash:{},inverse:q.noop,fn:q.program(6,p,x),data:x});if(u||u===0){s+=u}return s}function b(t,s){return"user-loc-error__header--small"}function r(t,s){return"-mobile"}function p(v,u){var s="",t;s+='<ol class="user-loc-error__fix">';t=e.each.call(v,(v&&v.instructions),{hash:{},inverse:q.noop,fn:q.program(7,o,u),data:u});if(t||t===0){s+=t}s+="</ol>";return s}function o(u,t){var s="";s+='<li class="user-loc-error__fix__step">'+i((typeof u===g?u.apply(u):u))+"</li>";return s}h+='<div class="user-loc-error">';a=e["if"].call(n,(n&&n.error),{hash:{},inverse:q.noop,fn:q.program(1,c,j),data:j});if(a||a===0){h+=a}h+="</div>";return h});this["DDG"]["templates"]["user_location_filter_dropdown"]=Handlebars.template(function(c,j,b,h,g){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);g=g||{};var f="",a,e,k,i=b.helperMissing;f+='<div class="dropdown dropdown--location"><a href="#" class="dropdown__button js-dropdown-button">';a=(e=b.ellipsis||(j&&j.ellipsis),k={hash:{},data:g},e?e.call(j,(j&&j.buttonContent),30,k):i.call(j,"ellipsis",(j&&j.buttonContent),30,k));if(a||a===0){f+=a}f+="</a></div>";return f});this["DDG"]["templates"]["user_location_filter_modal"]=Handlebars.template(function(f,s,q,j,u){this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,f.helpers);u=u||{};var r="",h,a,e,c="function",b=this.escapeExpression,o=this,p=q.helperMissing;function n(x,v){return"modal--popover modal--popover--gray"}function m(z,y){var v="",x;v+="modal--popout ";x=q["if"].call(z,(z&&z.position),{hash:{},inverse:o.program(6,i,y),fn:o.program(4,k,y),data:y});if(x||x===0){v+=x}return v}function k(A,z){var v="",x,y;v+="modal--popout--";if(y=q.position){x=y.call(A,{hash:{},data:z})}else{y=(A&&A.position);x=typeof y===c?y.call(A,{hash:{},data:z}):y}v+=b(x);return v}function i(x,v){return"modal--popout--bottom"}function g(x,v){return"has-header"}function t(x,v){return'<a href="#"  class="modal__close  js-modal-close">X</a>'}r+='<div class="modal--dropdown modal--dropdown--';if(a=q.key){h=a.call(s,{hash:{},data:u})}else{a=(s&&s.key);h=typeof a===c?a.call(s,{hash:{},data:u}):a}r+=b(h)+" modal ";h=q["if"].call(s,(s&&s.isPopover),{hash:{},inverse:o.program(3,m,u),fn:o.program(1,n,u),data:u});if(h||h===0){r+=h}r+=" ";h=q["if"].call(s,(s&&s.header),{hash:{},inverse:o.noop,fn:o.program(8,g,u),data:u});if(h||h===0){r+=h}r+=' js-dropdown-popout"><div class="modal__overlay  js-modal-close"></div><div class="modal__wrap"><div class="modal__box modal__box--user-location">';h=q["if"].call(s,(s&&s.isPopover),{hash:{},inverse:o.noop,fn:o.program(10,t,u),data:u});if(h||h===0){r+=h}r+='<div class="modal__body modal__body--user-location"><p class="user-loc-filter-modal__title">';h=(a=q.lp||(s&&s.lp),e={hash:{},data:u},a?a.call(s,"precise_user_location","Anonymous Location Enabled",e):p.call(s,"lp","precise_user_location","Anonymous Location Enabled",e));if(h||h===0){r+=h}r+='</p><p class="user-loc-filter-modal__snippet">';h=(a=q.lp||(s&&s.lp),e={hash:{},data:u},a?a.call(s,"precise_user_location","Location information is stored only on your device.",e):p.call(s,"lp","precise_user_location","Location information is stored only on your device.",e));if(h||h===0){r+=h}r+=' <a class="user-loc-filter-modal__info  user-loc-link" href="https://help.duckduckgo.com/privacy/anonymous-localized-results/" target="_blank" rel="noopener">';h=(a=q.lp||(s&&s.lp),e={hash:{},data:u},a?a.call(s,"precise_user_location","More info",e):p.call(s,"lp","precise_user_location","More info",e));if(h||h===0){r+=h}r+='</a></p><div class="user-loc-filter-modal__btn js-user-loc-filter-modal-btn"></div></div></div></div></div>';return r});this["DDG"]["templates"]["user_location_info"]=Handlebars.template(function(c,j,b,h,g){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);g=g||{};var f="",a,e,k,i=b.helperMissing;f+='<p class="user-loc-extra-info">';a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"precise_user_location","DuckDuckGo is private by design. When you enable location, it is stored on your local device only. When you search, your device then sends it to us, we use it to improve results for that search, and then we promptly throw it away, such that you remain anonymous. %sLearn more about how we designed this technology to protect your privacy%s.",'<a href="https://help.duckduckgo.com/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">',"</a>",k):i.call(j,"lp","precise_user_location","DuckDuckGo is private by design. When you enable location, it is stored on your local device only. When you search, your device then sends it to us, we use it to improve results for that search, and then we promptly throw it away, such that you remain anonymous. %sLearn more about how we designed this technology to protect your privacy%s.",'<a href="https://help.duckduckgo.com/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">',"</a>",k));if(a||a===0){f+=a}f+="</p>";return f});this["DDG"]["templates"]["user_location_tile"]=Handlebars.template(function(c,m,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,n,f="function",h=this.escapeExpression,k=b.helperMissing;g+="<div class='user-loc-tile__container js-user-loc-tile'><div class='user-loc-tile js-user-loc-tile-button simple-tooltip' data-tooltip='";if(e=b.position){a=e.call(m,{hash:{},data:i})}else{e=(m&&m.position);a=typeof e===f?e.call(m,{hash:{},data:i}):e}g+=h(a)+" 250' data-tooltip-text='";a=(e=b.lp||(m&&m.lp),n={hash:{},data:i},e?e.call(m,"precise_user_location","Find results closer to you",n):k.call(m,"lp","precise_user_location","Find results closer to you",n));if(a||a===0){g+=a}g+="'><div class='user-loc-tile__icons js-user-loc-tile-icons'><span class='js-user-loc-tile-marker ddgsi ddgsi-marker'></span><span class='js-user-loc-tile-down ddgsi ddgsi-down'></span></div></div><div title='Results near your location' class='is-hidden js-user-loc-tile-desc user-loc-tile__desc'><div>Results near</div><div>your location</div></div></div>";return g});this["DDG"]["templates"]["user_location_tooltip"]=Handlebars.template(function(e,f,b,a,c){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,e.helpers);c=c||{};return"<div class='user-loc-tooltip js-user-loc-tooltip'><div class='user-loc-tooltip__triangle-outer'></div><div class='user-loc-tooltip__triangle-inner js-user-loc-tooltip-triangle-inner'></div><div class='user-loc-tooltip__inner js-user-loc-tooltip-inner'><span class='user-loc-tooltip__dismiss ddgsi js-user-loc-tooltip-dismiss'>×</span></div></div>"});this["DDG"]["templates"]["user_location_tooltip_content"]=Handlebars.template(function(f,n,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",b,m=e.helperMissing,g="function",i=this.escapeExpression,r=this;function c(z,y){var t="",v,x,u;t+='<p class="user-loc-tooltip__title">';v=(x=e.lp||(z&&z.lp),u={hash:{},data:y},x?x.call(z,"precise_user_location","Find results closer to you.",u):m.call(z,"lp","precise_user_location","Find results closer to you.",u));if(v||v===0){t+=v}t+='</p><p class="user-loc-tooltip__subtitle">';v=(x=e.lp||(z&&z.lp),u={hash:{},data:y},x?x.call(z,"precise_user_location","Try enabling anonymous location for more accurate results.",u):m.call(z,"lp","precise_user_location","Try enabling anonymous location for more accurate results.",u));if(v||v===0){t+=v}t+=" ";v=(x=e.lp||(z&&z.lp),u={hash:{},data:y},x?x.call(z,"precise_user_location","%sLearn how we keep your location private%s.",'<a href="https://help.duckduckgo.com/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">',"</a>",u):m.call(z,"lp","precise_user_location","%sLearn how we keep your location private%s.",'<a href="https://help.duckduckgo.com/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">',"</a>",u));if(v||v===0){t+=v}t+="</p>";return t}function a(z,y){var t="",v,x,u;v=e["if"].call(z,(z&&z.desc),{hash:{},inverse:r.noop,fn:r.program(4,s,y),data:y});if(v||v===0){t+=v}t+='<p class="user-loc-tooltip__title">';v=(x=e.lp||(z&&z.lp),u={hash:{},data:y},x?x.call(z,"precise_user_location","Anonymous Location Enabled",u):m.call(z,"lp","precise_user_location","Anonymous Location Enabled",u));if(v||v===0){t+=v}t+='</p><p class="user-loc-tooltip__subtitle">';v=(x=e.lp||(z&&z.lp),u={hash:{},data:y},x?x.call(z,"precise_user_location","Location information is stored only on your device.",u):m.call(z,"lp","precise_user_location","Location information is stored only on your device.",u));if(v||v===0){t+=v}t+=" ";v=(x=e.lp||(z&&z.lp),u={hash:{},data:y},x?x.call(z,"precise_user_location","%sLearn how we keep your location private%s.",'<a href="https://help.duckduckgo.com/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">',"</a>",u):m.call(z,"lp","precise_user_location","%sLearn how we keep your location private%s.",'<a href="https://help.duckduckgo.com/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">',"</a>",u));if(v||v===0){t+=v}t+="</p>";return t}function s(y,x){var t="",u,v;t+="<div class='user-loc-tooltip__address'><span class='ddgsi ddgsi-marker'></span><span> ";if(v=e.desc){u=v.call(y,{hash:{},data:x})}else{v=(y&&y.desc);u=typeof v===g?v.call(y,{hash:{},data:x}):v}t+=i(u)+"</span></div>";return t}function q(z,y){var t="",v,x,u;t+="<div class='user-loc-tooltip__err-img-container'><div class='js-user-loc-content-err-img'></div></div><p class='user-loc-tooltip__title user-loc-tooltip__title--error'>";v=(x=e.lp||(z&&z.lp),u={hash:{},data:y},x?x.call(z,"precise_user_location","Browser Location Unavailable",u):m.call(z,"lp","precise_user_location","Browser Location Unavailable",u));if(v||v===0){t+=v}t+='</p><p class="user-loc-tooltip__subtitle">';v=(x=e.lp||(z&&z.lp),u={hash:{},data:y},x?x.call(z,"precise_user_location","Set your location manually, or ensure Location Services is enabled.",u):m.call(z,"lp","precise_user_location","Set your location manually, or ensure Location Services is enabled.",u));if(v||v===0){t+=v}t+=' <a class="user-loc-tooltip__link js-user-loc-content-help" href="https://help.duckduckgo.com/results/local-results/" target="_blank" rel="noopener">';v=(x=e.lp||(z&&z.lp),u={hash:{},data:y},x?x.call(z,"precise_user_location","Help",u):m.call(z,"lp","precise_user_location","Help",u));if(v||v===0){t+=v}t+='</a></p><ol class="user-loc-tooltip__error-fix">';v=e.each.call(z,(z&&z.instructions),{hash:{},inverse:r.noop,fn:r.program(7,p,y),data:y});if(v||v===0){t+=v}t+="</ol>";return t}function p(x,v){var t="",u;t+="<li>";u=(typeof x===g?x.apply(x):x);if(u||u===0){t+=u}t+="</li>";return t}function o(z,y){var t="",v,x,u;v=e["if"].call(z,(z&&z.desc),{hash:{},inverse:r.noop,fn:r.program(4,s,y),data:y});if(v||v===0){t+=v}t+='<p class="user-loc-tooltip__title">';v=(x=e.lp||(z&&z.lp),u={hash:{},data:y},x?x.call(z,"precise_user_location","Not getting nearby results?",u):m.call(z,"lp","precise_user_location","Not getting nearby results?",u));if(v||v===0){t+=v}t+='</p><p class="user-loc-tooltip__subtitle">';v=(x=e.lp||(z&&z.lp),u={hash:{},data:y},x?x.call(z,"precise_user_location","Try setting your location manually.",u):m.call(z,"lp","precise_user_location","Try setting your location manually.",u));if(v||v===0){t+=v}t+=" ";v=(x=e.lp||(z&&z.lp),u={hash:{},data:y},x?x.call(z,"precise_user_location","%sLearn how we keep your location private%s.",'<a href="https://help.duckduckgo.com/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">',"</a>",u):m.call(z,"lp","precise_user_location","%sLearn how we keep your location private%s.",'<a href="https://help.duckduckgo.com/privacy/anonymous-localized-results" class="user-loc-link" target="_blank" rel="noopener">',"</a>",u));if(v||v===0){t+=v}t+="</p>";return t}h+="<div class='js-user-loc-content'><div class='js-user-loc-content-copy'>";b=e["if"].call(n,(n&&n.locUnset),{hash:{},inverse:r.noop,fn:r.program(1,c,j),data:j});if(b||b===0){h+=b}b=e["if"].call(n,(n&&n.locSet),{hash:{},inverse:r.noop,fn:r.program(3,a,j),data:j});if(b||b===0){h+=b}b=e["if"].call(n,(n&&n.locError),{hash:{},inverse:r.noop,fn:r.program(6,q,j),data:j});if(b||b===0){h+=b}b=e["if"].call(n,(n&&n.locUpdProblem),{hash:{},inverse:r.noop,fn:r.program(9,o,j),data:j});if(b||b===0){h+=b}h+="</div><div class='js-user-loc-content-buttons user-loc-tooltip__buttons'></div></div>";return h});this["DDG"]["templates"]["vertical_link_item"]=Handlebars.template(function(g,t,r,m,B){this.compilerInfo=[4,">= 1.0.0"];r=this.merge(r,g.helpers);B=B||{};var s="",i,a,e,q=r.helperMissing,b=this.escapeExpression,p=this,c="function";function o(D,C){return" highlight"}function n(D,C){return" result--img"}function k(D,C){return" result--url-above-snippet"}function j(D,C){return"result--no-excerpt"}function f(F,E){var C="",D;C+='<div class="result__image js-result-image-wrapper">';D=r["if"].call(F,((D=(F&&F.model)),D==null||D===false?D:D.image),{hash:{},inverse:p.program(12,z,E),fn:p.program(10,A,E),data:E});if(D||D===0){C+=D}C+="</div>";return C}function A(H,G){var C="",E,F,D;C+='<div class="result__image__img" style="background-image:url('+b((F=r.imageProxy||(H&&H.imageProxy),D={hash:{},data:G},F?F.call(H,((E=(H&&H.model)),E==null||E===false?E:E.image),((E=(H&&H.model)),E==null||E===false?E:E.imageProxyOps),D):q.call(H,"imageProxy",((E=(H&&H.model)),E==null||E===false?E:E.image),((E=(H&&H.model)),E==null||E===false?E:E.imageProxyOps),D)))+')"></div>';return C}function z(E,D){var C;C=r["if"].call(E,((C=(E&&E.model)),C==null||C===false?C:C.fetch_image),{hash:{},inverse:p.noop,fn:p.program(13,y,D),data:D});if(C||C===0){return C}else{return""}}function y(D,C){return'<div class="result__image__plc ddgsi ddgsi-news js-result-img-placeholder"></div>'}function x(D,C){return' target="_blank"'}function v(F,E){var C="",D;C+='<div class="result__snippet">';D=((D=((D=(F&&F.model)),D==null||D===false?D:D.excerpt)),typeof D===c?D.apply(F):D);if(D||D===0){C+=D}C+="</div>";return C}function u(D,C){return"is-hidden"}function h(F,E){var C="",D;C+='<span class="result__extras__sep">|</span><span class="result__timestamp">'+b(((D=((D=(F&&F.model)),D==null||D===false?D:D.relative_time)),typeof D===c?D.apply(F):D))+"</span>";return C}s+='<div class="result result--'+b(((i=((i=(t&&t.answer)),i==null||i===false?i:i.id)),typeof i===c?i.apply(t):i))+" ";i=r["if"].call(t,((i=(t&&t.model)),i==null||i===false?i:i.highlighted),{hash:{},inverse:p.noop,fn:p.program(1,o,B),data:B});if(i||i===0){s+=i}i=r["if"].call(t,((i=(t&&t.model)),i==null||i===false?i:i.showImage),{hash:{},inverse:p.noop,fn:p.program(3,n,B),data:B});if(i||i===0){s+=i}i=r["if"].call(t,(t&&t.urlAboveSnippet),{hash:{},inverse:p.noop,fn:p.program(5,k,B),data:B});if(i||i===0){s+=i}s+=" ";i=r["if"].call(t,((i=(t&&t.model)),i==null||i===false?i:i.noExcerpt),{hash:{},inverse:p.noop,fn:p.program(7,j,B),data:B});if(i||i===0){s+=i}s+='" data-link="'+b(((i=((i=(t&&t.model)),i==null||i===false?i:i.url)),typeof i===c?i.apply(t):i))+'"><div class="result__body">';i=r["if"].call(t,((i=(t&&t.model)),i==null||i===false?i:i.showImage),{hash:{},inverse:p.noop,fn:p.program(9,f,B),data:B});if(i||i===0){s+=i}s+='<h2 class="result__title"><a class="result__a" rel="noopener" href="'+b(((i=((i=(t&&t.model)),i==null||i===false?i:i.url)),typeof i===c?i.apply(t):i))+'"';i=r["if"].call(t,(t&&t.targetBlank),{hash:{},inverse:p.noop,fn:p.program(15,x,B),data:B});if(i||i===0){s+=i}s+=">";i=((i=((i=(t&&t.model)),i==null||i===false?i:i.title)),typeof i===c?i.apply(t):i);if(i||i===0){s+=i}s+='</a><a class="result__check" rel="noopener" href="'+b(((i=((i=(t&&t.model)),i==null||i===false?i:i.url)),typeof i===c?i.apply(t):i))+'"><span class="result__check__tt">';i=(a=r.l||(t&&t.l),e={hash:{},data:B},a?a.call(t,"Your browser indicates if you've visited this link",e):q.call(t,"l","Your browser indicates if you've visited this link",e));if(i||i===0){s+=i}s+="</span></a></h2>";i=r["if"].call(t,(t&&t.urlAboveSnippet),{hash:{},inverse:p.program(17,v,B),fn:p.noop,data:B});if(i||i===0){s+=i}s+='<div class="result__extras"><div class="result__extras__url"><span class="result__icon ';i=r["if"].call(t,(t&&t.favicons),{hash:{},inverse:p.program(19,u,B),fn:p.noop,data:B});if(i||i===0){s+=i}s+='">';i=(a=r.favicon||(t&&t.favicon),e={hash:{},data:B},a?a.call(t,((i=(t&&t.model)),i==null||i===false?i:i.favicon_url),e):q.call(t,"favicon",((i=(t&&t.model)),i==null||i===false?i:i.favicon_url),e));if(i||i===0){s+=i}s+='</span><a class="result__url" href="'+b(((i=((i=(t&&t.model)),i==null||i===false?i:i.url)),typeof i===c?i.apply(t):i))+'" rel="noopener"';i=r["if"].call(t,(t&&t.targetBlank),{hash:{},inverse:p.noop,fn:p.program(15,x,B),data:B});if(i||i===0){s+=i}s+=">";i=((i=((i=(t&&t.model)),i==null||i===false?i:i.source)),typeof i===c?i.apply(t):i);if(i||i===0){s+=i}s+="</a>";i=r["if"].call(t,((i=(t&&t.model)),i==null||i===false?i:i.relative_time),{hash:{},inverse:p.noop,fn:p.program(21,h,B),data:B});if(i||i===0){s+=i}s+="</div></div>";i=r["if"].call(t,(t&&t.urlAboveSnippet),{hash:{},inverse:p.noop,fn:p.program(17,v,B),data:B});if(i||i===0){s+=i}s+="</div></div>";return s});this["DDG"]["templates"]["vertical_links"]=Handlebars.template(function(c,k,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,f="function",h=this.escapeExpression;g+='<div class="vertical vertical--';if(e=b.id){a=e.call(k,{hash:{},data:i})}else{e=(k&&k.id);a=typeof e===f?e.call(k,{hash:{},data:i}):e}g+=h(a)+' is-hidden"><div class="serp__top-right js-vertical-top-right"></div><div class="serp__bottom-right js-vertical-bottom-right"></div><div class="cw"><div class="serp__results"><div class="results--main"><div class="search-filters-wrap"><div class="search-filters js-vertical-filters"></div></div><div class="results--message"></div><div class="results js-vertical-results"></div></div><div class="results--sidebar js-vertical-sidebar"><div class="sidebar-modules js-vertical-sidebar-modules"></div><div class="sidebar-slotted-modules js-vertical-sidebar-slotted-modules"></div></div></div></div></div>';return g});this["DDG"]["templates"]["vertical_load_more"]=Handlebars.template(function(c,k,b,i,h){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);h=h||{};var g="",a,e,m,j=b.helperMissing,f="function";g+='<div class="result result--more js-result-more"><a class="result--more__btn btn btn--full">';a=(e=b.l||(k&&k.l),m={hash:{},data:h},e?e.call(k,"Load More",m):j.call(k,"l","Load More",m));if(a||a===0){g+=a}g+="</a>";if(e=b.loader){a=e.call(k,{hash:{},data:h})}else{e=(k&&k.loader);a=typeof e===f?e.call(k,{hash:{},data:h}):e}if(a||a===0){g+=a}g+="</div>";return g});this["DDG"]["templates"]["vertical_map"]=Handlebars.template(function(f,n,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",b,g="function",i=this.escapeExpression,r=this,m=e.helperMissing;function c(u,t){return"is-hidden"}function a(v,u){var t;t=e["if"].call(v,((t=(v&&v.model)),t==null||t===false?t:t.sidebarLayout),{hash:{},inverse:r.noop,fn:r.program(4,s,u),data:u});if(t||t===0){return t}else{return""}}function s(x,v){var t="",u;t+="vertical--map--sidebar-"+i(((u=((u=(x&&x.model)),u==null||u===false?u:u.sidebarLayout)),typeof u===g?u.apply(x):u));return t}function q(z,y){var t="",v,x,u;t+='<div class="vertical--map__sidebar js-vertical-map-sidebar ';v=e["if"].call(z,((v=(z&&z.model)),v==null||v===false?v:v.isDirectionsActive),{hash:{},inverse:r.noop,fn:r.program(7,p,y),data:y});if(v||v===0){t+=v}t+='"><div class="vertical--map__sidebar__wrapper"><div class="vertical--map__sidebar__inner js-vertical-map-sidebar-inner"><div class="vertical--map__sidebar__results js-vertical-map-results-container"><div class="vertical--map__sidebar__results__inner js-vertical-map-results"></div><div class="';v=e.unless.call(z,((v=(z&&z.model)),v==null||v===false?v:v.isMoreAtVisible),{hash:{},inverse:r.noop,fn:r.program(9,o,y),data:y});if(v||v===0){t+=v}t+=' module__section module__section--simple js-vertical-map-more"><a class="module__link module__places-more__link js-vertical-map-more-link" href="'+i(((v=((v=(z&&z.model)),v==null||v===false?v:v.sourceUrl)),typeof v===g?v.apply(z):v))+'" target="_blank" rel="noopener">';v=(x=e.favicon||(z&&z.favicon),u={hash:{},data:y},x?x.call(z,((v=(z&&z.model)),v==null||v===false?v:v.sourceUrl),u):m.call(z,"favicon",((v=(z&&z.model)),v==null||v===false?v:v.sourceUrl),u));if(v||v===0){t+=v}t+=" "+i(((v=((v=(z&&z.model)),v==null||v===false?v:v.moreAtExternalServiceText)),typeof v===g?v.apply(z):v))+'</a></div></div><div class="vertical--map__sidebar__detail js-vertical-map-detail"></div><div class="vertical--map__sidebar__footer js-vertical-map-footer"></div>                    </div></div><div class="vertical--map__sidebar-mask js-vertical-map-mask"></div><div class="map-control vertical--map__sidebar__toggle js-vertical-map-toggle"><button class="btn ddgsi ddgsileft vertical--map__btn js-vertical-map-toggle-button">&lt;</button></div></div>';return t}function p(u,t){return"has-directions"}function o(v,u){var t;t=e.unless.call(v,((t=(v&&v.model)),t==null||t===false?t:t.sourceUrl),{hash:{},inverse:r.noop,fn:r.program(1,c,u),data:u});if(t||t===0){return t}else{return""}}h+='<div class="vertical vertical--map ';b=e.unless.call(n,((b=(n&&n.model)),b==null||b===false?b:b.isMapExpanded),{hash:{},inverse:r.noop,fn:r.program(1,c,j),data:j});if(b||b===0){h+=b}h+=" ";b=e["if"].call(n,((b=(n&&n.model)),b==null||b===false?b:b.isMapSidebarVisible),{hash:{},inverse:r.noop,fn:r.program(3,a,j),data:j});if(b||b===0){h+=b}h+=" vertical--map--"+i(((b=((b=(n&&n.model)),b==null||b===false?b:b.nameId)),typeof b===g?b.apply(n):b))+' js-vertical-map"><div class="vertical--map__map js-vertical-map-map"><div class="map-controls map-controls--topcenter js-vertical-map-controls-topcenter"><button class="btn vertical--map__search-this-area is-hidden js-vertical-map-requery">Search this area</button></div><div class="map-controls map-controls--topright js-vertical-map-control-topright"></div></div>';b=e["if"].call(n,((b=(n&&n.model)),b==null||b===false?b:b.isMapSidebarVisible),{hash:{},inverse:r.noop,fn:r.program(6,q,j),data:j});if(b||b===0){h+=b}h+="</div>";return h});this["DDG"]["templates"]["vertical_separator"]=Handlebars.template(function(f,n,e,k,j){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,f.helpers);j=j||{};var h="",b,g="function",i=this.escapeExpression,m=e.helperMissing,r=this;function c(t,s){return"result--sep--hr"}function a(t,s){return"has-pagenum"}function q(v,u){var s="",t;t=e["if"].call(v,(v&&v.line),{hash:{},inverse:r.program(8,o,u),fn:r.program(6,p,u),data:u});if(t||t===0){s+=t}s+="</div>";return s}function p(x,v){var s="",t,u;s+='<div class="result__pagenum  result__pagenum--side">';if(u=e.pageNumber){t=u.call(x,{hash:{},data:v})}else{u=(x&&x.pageNumber);t=typeof u===g?u.call(x,{hash:{},data:v}):u}s+=i(t)+"</div>";return s}function o(y,x){var s="",u,v,t;s+='<div class="result__pagenum">';u=(v=e.l||(y&&y.l),t={hash:{},data:x},v?v.call(y,"Page %s",(y&&y.pageNumber),t):m.call(y,"l","Page %s",(y&&y.pageNumber),t));if(u||u===0){s+=u}s+="</div>";return s}h+='<div class="result result--sep ';b=e["if"].call(n,(n&&n.line),{hash:{},inverse:r.noop,fn:r.program(1,c,j),data:j});if(b||b===0){h+=b}h+=" ";b=e["if"].call(n,(n&&n.pageNumber),{hash:{},inverse:r.noop,fn:r.program(3,a,j),data:j});if(b||b===0){h+=b}h+=' js-result-sep">';b=e["if"].call(n,(n&&n.pageNumber),{hash:{},inverse:r.noop,fn:r.program(5,q,j),data:j});if(b||b===0){h+=b}h+="</div>";return h});this["DDG"]["templates"]["web_attribution"]=Handlebars.template(function(c,m,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,n,k=b.helperMissing,f="function",h=this.escapeExpression;g+='<div id="powered_by" class="results--powered"><a href="https://help.duckduckgo.com/results/sources/" target="_blank">';a=(e=b.l||(m&&m.l),n={hash:{},data:i},e?e.call(m,"In partnership with",n):k.call(m,"l","In partnership with",n));if(a||a===0){g+=a}g+='</a><a class="results--powered_badge-link" href="/?q=';if(e=b.src){a=e.call(m,{hash:{},data:i})}else{e=(m&&m.src);a=typeof e===f?e.call(m,{hash:{},data:i}):e}g+=h(a)+'" target="_blank"><span class="results--powered__badge  badge--';if(e=b.src){a=e.call(m,{hash:{},data:i})}else{e=(m&&m.src);a=typeof e===f?e.call(m,{hash:{},data:i}):e}g+=h(a)+'"></span></a></div>';return g});this["DDG"]["templates"]["welcome_message"]=Handlebars.template(function(c,j,b,h,g){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);g=g||{};var f="",a,e,k,i=b.helperMissing;f+='<section class="welcome"><div class="welcome__inner-wrap"><h1 class="welcome__heading">';a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"welcome message","You now have the DuckDuckGo extension!",k):i.call(j,"lp","welcome message","You now have the DuckDuckGo extension!",k));if(a||a===0){f+=a}f+='</h1><p class="welcome__snippet">';a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"welcome message","Here's what it does:",k):i.call(j,"lp","welcome message","Here's what it does:",k));if(a||a===0){f+=a}f+="</p><ul><li>";a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"welcome message","Lets you search anonymously with DuckDuckGo",k):i.call(j,"lp","welcome message","Lets you search anonymously with DuckDuckGo",k));if(a||a===0){f+=a}f+="</li><li>";a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"welcome message","Blocks trackers on websites you visit",k):i.call(j,"lp","welcome message","Blocks trackers on websites you visit",k));if(a||a===0){f+=a}f+="</li><li>";a=(e=b.lp||(j&&j.lp),k={hash:{},data:g},e?e.call(j,"welcome message","Encrypts connections when possible",k):i.call(j,"lp","welcome message","Encrypts connections when possible",k));if(a||a===0){f+=a}f+='</li></ul><button type="button" class="welcome__dismiss welcome__dismiss ddgsi js-welcome-dismiss">X</button></div><img class="welcome__bg" src="assets/welcome-illustration.svg" role="presentation"/></section>';return f});this["DDG"]["templates"]["welcome_message_eu"]=Handlebars.template(function(c,m,b,j,i){this.compilerInfo=[4,">= 1.0.0"];b=this.merge(b,c.helpers);i=i||{};var g="",a,e,n,k=b.helperMissing,f="function",h=this.escapeExpression;g+='<section class="welcome welcome--euandroid"><div class="welcome__inner-wrap"><h1 class="welcome__heading">';a=(e=b.lp||(m&&m.lp),n={hash:{},data:i},e?e.call(m,"welcome message eu search preference android","Privacy, simplified",n):k.call(m,"lp","welcome message eu search preference android","Privacy, simplified",n));if(a||a===0){g+=a}g+='</h1><p class="welcome__snippet">';a=(e=b.lp||(m&&m.lp),n={hash:{},data:i},e?e.call(m,"welcome message eu search preference android","You're now searching privately in Chrome. Use our app instead of Chrome to browse privately too. It’s already installed and can:",n):k.call(m,"lp","welcome message eu search preference android","You're now searching privately in Chrome. Use our app instead of Chrome to browse privately too. It’s already installed and can:",n));if(a||a===0){g+=a}g+="</p><ul><li>";a=(e=b.lp||(m&&m.lp),n={hash:{},data:i},e?e.call(m,"welcome message eu search preference android","Block unsafe trackers",n):k.call(m,"lp","welcome message eu search preference android","Block unsafe trackers",n));if(a||a===0){g+=a}g+="</li><li>";a=(e=b.lp||(m&&m.lp),n={hash:{},data:i},e?e.call(m,"welcome message eu search preference android","Force encryption on websites",n):k.call(m,"lp","welcome message eu search preference android","Force encryption on websites",n));if(a||a===0){g+=a}g+="</li><li>";a=(e=b.lp||(m&&m.lp),n={hash:{},data:i},e?e.call(m,"welcome message eu search preference android","Clear data in one tap",n):k.call(m,"lp","welcome message eu search preference android","Clear data in one tap",n));if(a||a===0){g+=a}g+='</li></ul><a href="intent://duckduckgo.com/?q=';if(e=b.queryString){a=e.call(m,{hash:{},data:i})}else{e=(m&&m.queryString);a=typeof e===f?e.call(m,{hash:{},data:i}):e}g+=h(a)+'#Intent;scheme=https;package=com.duckduckgo.mobile.android;S.browser_fallback_url=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.duckduckgo.mobile.android;end" class="welcome__cta js-welcome-cta">';a=(e=b.lp||(m&&m.lp),n={hash:{},data:i},e?e.call(m,"welcome message eu search preference android","Open app",n):k.call(m,"lp","welcome message eu search preference android","Open app",n));if(a||a===0){g+=a}g+='</a><button type="button" class="welcome__dismiss welcome__dismiss ddgsi js-welcome-dismiss">X</button></div><img class="welcome__bg" src="assets/welcome-illustration.svg" role="presentation"/></section>';return g});